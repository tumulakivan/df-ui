
HekiliDB = {
	["namespaces"] = {
		["LibDualSpec-1.0"] = {
		},
	},
	["profileKeys"] = {
		["Chammysul - Dragonflight - Open Beta"] = "Default",
		["Penggay - Dragonflight - Open Beta"] = "Default",
		["Barnutz - Dragonflight - Open Beta"] = "Default",
		["Astigmatism - Valdrakken"] = "Default",
		["Abangers - Valdrakken"] = "Default",
		["Rememberingx - Valdrakken"] = "Default",
		["Tsuntsun - Dragonflight - Open Beta"] = "Default",
		["Chammysul - Valdrakken"] = "Default",
		["Wefindways - Valdrakken"] = "Default",
		["Gtec - Valdrakken"] = "Default",
		["Astigmatism - Dragonflight - Open Beta"] = "Astigmatism - Dragonflight - Open Beta",
		["Rememberingx - Dragonflight - Open Beta"] = "Default",
		["Eeyah - Valdrakken"] = "Default",
	},
	["profiles"] = {
		["Default"] = {
			["runOnce"] = {
				["forceReloadClassDefaultOptions_20220306_70"] = true,
				["forceReloadClassDefaultOptions_20220306_65"] = true,
				["forceReloadClassDefaultOptions_20220306_262"] = true,
				["forceReloadClassDefaultOptions_20220306_71"] = true,
				["forceReloadClassDefaultOptions_20220306_264"] = true,
				["forceReloadClassDefaultOptions_20220306_102"] = true,
				["forceReloadClassDefaultOptions_20220306_259"] = true,
				["forceReloadClassDefaultOptions_20220306_73"] = true,
				["updateMaxRefreshToNewSpecOptions_20220222"] = true,
				["forceReloadClassDefaultOptions_20220306_66"] = true,
				["forceReloadClassDefaultOptions_20220306_72"] = true,
				["forceReloadClassDefaultOptions_20220306_263"] = true,
				["forceReloadClassDefaultOptions_20220306_1467"] = true,
				["forceSpellFlashBrightness_20221030"] = true,
				["forceReloadClassDefaultOptions_20220306_103"] = true,
				["forceReloadClassDefaultOptions_20220306_105"] = true,
				["forceReloadClassDefaultOptions_20220306_577"] = true,
				["forceEnableEnhancedRecheckBoomkin_20210712"] = true,
				["forceReloadAllDefaultPriorities_20220228"] = true,
				["forceReloadClassDefaultOptions_20220306_268"] = true,
				["forceReloadClassDefaultOptions_20220306_581"] = true,
				["resetAberrantPackageDates_20190728_1"] = true,
				["forceReloadClassDefaultOptions_20220306_63"] = true,
				["forceReloadClassDefaultOptions_20220306_1468"] = true,
				["forceReloadClassDefaultOptions_20220306_269"] = true,
				["forceReloadClassDefaultOptions_20220306_261"] = true,
				["forceReloadClassDefaultOptions_20220306_62"] = true,
				["forceReloadClassDefaultOptions_20220306_64"] = true,
				["forceEnableAllClassesOnceDueToBug_20220225"] = true,
				["forceReloadClassDefaultOptions_20220306_270"] = true,
				["forceReloadClassDefaultOptions_20220306_260"] = true,
				["forceReloadClassDefaultOptions_20220306_104"] = true,
			},
			["displays"] = {
				["Interrupts"] = {
					["rel"] = "CENTER",
					["x"] = -55.00000762939453,
				},
				["Cooldowns"] = {
					["rel"] = "CENTER",
					["y"] = -280.0000305175781,
				},
				["Primary"] = {
					["rel"] = "CENTER",
					["queue"] = {
						["width"] = 32,
						["height"] = 32,
					},
					["y"] = -124.9999008178711,
				},
				["AOE"] = {
					["rel"] = "CENTER",
					["queue"] = {
						["width"] = 10,
						["height"] = 32,
					},
					["y"] = -126.9999542236328,
				},
				["Defensives"] = {
					["rel"] = "CENTER",
					["x"] = -110.0000152587891,
				},
			},
			["enabled"] = false,
			["iconStore"] = {
				["minimapPos"] = 256.7809834055696,
			},
			["specs"] = {
				[262] = {
					["settings"] = {
						["purge_icd"] = 12,
						["hostile_dispel"] = false,
						["stack_buffer"] = 1.1,
					},
				},
				[270] = {
					["settings"] = {
						["roll_movement"] = 5,
						["save_faeline"] = false,
					},
				},
				[62] = {
					["settings"] = {
						["check_explosion_range"] = true,
					},
				},
				[263] = {
					["settings"] = {
						["filler_shock"] = true,
						["purge_icd"] = 12,
						["hostile_dispel"] = false,
						["pad_lava_lash"] = true,
						["pad_windstrike"] = true,
						["funnel_priority"] = false,
						["pwave_targets"] = 0,
						["check_sundering_range"] = true,
						["project_windfury"] = 0,
						["check_crash_lightning_range"] = true,
					},
				},
				[64] = {
					["settings"] = {
						["check_explosion_range"] = true,
					},
				},
				[66] = {
					["settings"] = {
						["wog_health"] = 40,
						["goak_damage"] = 40,
						["ds_damage"] = 60,
					},
				},
				[70] = {
					["settings"] = {
						["sov_damage"] = 20,
						["check_wake_range"] = false,
					},
				},
				[72] = {
					["settings"] = {
						["check_ww_range"] = false,
						["shockwave_interrupt"] = true,
						["t30_bloodthirst_crit"] = 95,
						["heroic_charge"] = false,
					},
					["package"] = "Fury",
				},
				[577] = {
					["settings"] = {
						["fel_rush_charges"] = 0,
						["retreat_filler"] = false,
						["demon_blades_acknowledged"] = false,
						["fel_rush_filler"] = true,
						["retreat_and_return"] = "off",
						["throw_glaive_charges"] = 0,
					},
				},
				[259] = {
					["settings"] = {
						["solo_vanish"] = true,
						["mfd_points"] = 3,
						["priority_rotation"] = false,
						["envenom_pool_pct"] = 50,
					},
				},
				[1467] = {
					["settings"] = {
						["use_early_chain"] = false,
						["use_clipping"] = false,
						["dragonrage_pad"] = 0.5,
						["use_deep_breath"] = true,
						["use_unravel"] = false,
						["use_verdant_embrace"] = false,
					},
				},
				[1468] = {
					["settings"] = {
						["use_deep_breath"] = true,
						["use_unravel"] = false,
					},
				},
				[268] = {
					["settings"] = {
						["purify_stagger_maxhp"] = 6,
						["purify_for_celestial"] = true,
						["purify_for_niuzao"] = true,
						["bof_percent"] = 50,
						["eh_percent"] = 65,
						["purify_stagger_currhp"] = 12,
					},
				},
				[104] = {
					["settings"] = {
						["vigil_damage"] = 50,
						["catweave_bear"] = false,
						["maul_anyway"] = true,
						["ironfur_damage_threshold"] = 5,
						["maul_rage"] = 20,
					},
				},
				[581] = {
					["settings"] = {
						["infernal_charges"] = 1,
						["frailty_stacks"] = 2,
					},
				},
				[260] = {
					["settings"] = {
						["mfd_points"] = 3,
						["use_ld_opener"] = false,
						["no_rtb_in_dance_cto"] = true,
						["ambush_anyway"] = false,
						["allow_shadowmeld"] = false,
						["solo_vanish"] = true,
					},
				},
				[102] = {
					["settings"] = {
						["vigil_damage"] = 50,
						["starlord_cancel"] = false,
					},
				},
				[73] = {
					["settings"] = {
						["shield_wall_amount"] = 50,
						["rallying_cry_amount"] = 50,
						["reserve_rage"] = 35,
						["rallying_cry_health"] = 50,
						["shockwave_interrupt"] = true,
						["shield_wall_health"] = 50,
						["last_stand_health"] = 50,
						["last_stand_offensively"] = false,
						["stack_shield_block"] = false,
						["stance_weaving"] = false,
						["shield_wall_condition"] = false,
						["last_stand_amount"] = 50,
						["rallying_cry_condition"] = false,
						["last_stand_condition"] = false,
						["overlap_ignore_pain"] = false,
					},
				},
				[63] = {
					["settings"] = {
						["prevent_hardcasts"] = false,
						["check_explosion_range"] = true,
						["pyroblast_pull"] = false,
					},
				},
				[261] = {
					["settings"] = {
						["solo_vanish"] = true,
						["mfd_points"] = 3,
						["priority_rotation"] = false,
					},
				},
				[269] = {
					["settings"] = {
						["sef_one_charge"] = false,
						["tok_damage"] = 1,
						["check_wdp_range"] = false,
						["allow_fsk"] = false,
						["use_diffuse"] = false,
						["check_sck_range"] = false,
					},
				},
				[71] = {
					["settings"] = {
						["heroic_charge"] = false,
						["shockwave_interrupt"] = true,
					},
				},
				[103] = {
					["settings"] = {
						["rip_duration"] = 9,
						["solo_prowl"] = false,
						["use_funnel"] = false,
						["regrowth"] = true,
						["lazy_swipe"] = false,
						["zerk_biteweave"] = false,
						["vigil_damage"] = 50,
					},
				},
			},
			["packs"] = {
				["Windwalker"] = {
					["source"] = "https://github.com/simulationcraft/simc/blob/dragonflight/profiles/PreRaids/PR_Monk_Windwalker.simc",
					["builtIn"] = true,
					["date"] = 20230807,
					["spec"] = 269,
					["desc"] = "2023-08-07: Require Skyreach/Skytouch for target cycling.\n\n2023-08-02: SimC updates mostly re: Mark of the Crane and Skyreach target cycling.\n\n2023-07-02: Strike of the Windlord adjusted in single-target.\n\n2023-06-24:  TP adjusted for non-Skyreach/Skytouch.\n\n2023-05-28:  Minor updates.\n\n2023-05-24:  SCK, RSK, and FoF usage update.\n\n2023-05-17:  Minor trinket, Skyreach, and ST priority revisions.\n\n2023-05-02:  Update for 10.1.\n\n2023-04-17:  Translate and reimplement Fists of Fury usage/cancellation during Serenity.\n\n2023-04-15:  Update from SimulationCraft.\n\n2023-03-25:  Adjust Touch of Death.\n\n2023-02-21:   Revise to ensure Fists of Fury is only broken when Serenity is active.\n\n2023-02-20:  Major changes to align with latest SimulationCraft priority.\n\n2023-03-08:  Revise Manic Grieftorch usage; added requirement that target is expected to live longer than the cast time to reduce risk of partial cast.",
					["lists"] = {
						["opener"] = {
							{
								["enabled"] = true,
								["description"] = "Opener",
								["action"] = "summon_white_tiger_statue",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "talent.chi_burst.enabled & chi.max - chi >= 3",
								["action"] = "expel_harm",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & chi.max - chi >= ( 2 + buff.power_strikes.up )",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.chi_burst.enabled & chi = 3",
								["action"] = "expel_harm",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "chi.max - chi = 2",
								["action"] = "chi_wave",
							}, -- [5]
							{
								["action"] = "expel_harm",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "chi > 1 & chi.max - chi >= 2",
								["action"] = "chi_burst",
							}, -- [7]
						},
						["serenity_3t"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 1",
								["action"] = "faeline_stomp",
								["description"] = "Serenity 3 Targets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( talent.skyreach.enabled || talent.skytouch.enabled ) & ! debuff.skyreach_exhaustion.up & combo_strike",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.teachings_of_the_monastery.stack = 3 & buff.teachings_of_the_monastery.remains < 1",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up & set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 2",
								["action"] = "faeline_stomp",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & buff.call_to_dominance.up & debuff.skyreach_exhaustion.remains > buff.call_to_dominance.remains",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & debuff.skyreach_exhaustion.remains > 55",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "fists_of_fury",
								["cycle_targets"] = 1,
								["interrupt"] = "1",
								["criteria"] = "buff.invokers_delight.up",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up & spinning_crane_kick.max",
								["action"] = "spinning_crane_kick",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & set_bonus.tier30_2pc",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "spinning_crane_kick",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.teachings_of_the_monastery.stack = 2",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "talent.shadowboxing_treads.enabled & combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "spinning_crane_kick",
							}, -- [18]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "talent.teachings_of_the_monastery.enabled & buff.teachings_of_the_monastery.stack < 3",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [22]
						},
						["serenity_st"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 2 & ! debuff.skyreach_exhaustion.remains",
								["action"] = "faeline_stomp",
								["description"] = "Serenity 1 Target",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( talent.skyreach.enabled || talent.skytouch.enabled ) & ! debuff.skyreach_exhaustion.up & combo_strike",
								["action"] = "tiger_palm",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.teachings_of_the_monastery.stack = 3 & buff.teachings_of_the_monastery.remains < 1",
								["action"] = "blackout_kick",
							}, -- [3]
							{
								["action"] = "rising_sun_kick",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 2",
								["action"] = "faeline_stomp",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & buff.call_to_dominance.up & debuff.skyreach_exhaustion.remains > buff.call_to_dominance.remains",
								["action"] = "strike_of_the_windlord",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & debuff.skyreach_exhaustion.remains > 55",
								["action"] = "strike_of_the_windlord",
							}, -- [7]
							{
								["enabled"] = true,
								["interrupt"] = "1",
								["action"] = "fists_of_fury",
								["criteria"] = "buff.invokers_delight.up",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "debuff.skyreach_exhaustion.remains > buff.call_to_dominance.remains",
								["action"] = "strike_of_the_windlord",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & set_bonus.tier30_2pc",
								["action"] = "blackout_kick",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
							}, -- [12]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "talent.teachings_of_the_monastery.enabled & buff.teachings_of_the_monastery.stack < 3",
								["action"] = "tiger_palm",
							}, -- [14]
						},
						["cd_serenity"] = {
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Serenity Cooldowns",
								["list_name"] = "serenity_trinkets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! cooldown.invoke_xuen_the_white_tiger.remains || active_enemies > 4 || cooldown.invoke_xuen_the_white_tiger.remains > 50 || boss & fight_remains <= 30",
								["action"] = "summon_white_tiger_statue",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! variable.hold_xuen & talent.bonedust_brew.enabled & cooldown.bonedust_brew.remains <= 5 & target.time_to_die > 25 || buff.bloodlust.up || boss & fight_remains < 25",
								["action"] = "invoke_xuen",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "target.time_to_die > 25 & fight_remains > 120 || fight_remains < 60 & ( debuff.skyreach_exhaustion.remains < 2 || debuff.skyreach_exhaustion.remains > 55 ) & ! cooldown.serenity.remains & active_enemies < 3 || buff.bloodlust.up || boss & fight_remains < 23",
								["action"] = "invoke_xuen",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! buff.bonedust_brew.up & ( cooldown.serenity.up || cooldown.serenity.remains > 15 || boss & fight_remains < 30 & fight_remains > 10 ) || boss & fight_remains < 10",
								["action"] = "bonedust_brew",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.invokers_delight.up || ! talent.invokers_delight.enabled || variable.hold_xuen & ( talent.drinking_horn_cover.enabled & fight_remains > 110 || ! talent.drinking_horn_cover.enabled & fight_remains > 105 ) || ! talent.invoke_xuen_the_white_tiger.enabled || boss & fight_remains < 15",
								["action"] = "serenity",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & ! buff.serenity.up & ( target.health.current < health || buff.hidden_masters_forbidden_touch.up & ( buff.hidden_masters_forbidden_touch.remains < 2 || buff.hidden_masters_forbidden_touch.remains > target.time_to_die ) || target.time_to_die > 60 || debuff.bonedust_brew_debuff.up || boss & fight_remains < 10 )",
								["action"] = "touch_of_death",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains > 90 || boss & fight_remains < 10",
								["action"] = "touch_of_karma",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.serenity.up || boss & fight_remains < 20",
								["action"] = "blood_fury",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.serenity.up || boss & fight_remains < 20",
								["action"] = "berserking",
							}, -- [10]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.serenity.up || boss & fight_remains < 20",
								["action"] = "fireblood",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.serenity.up || boss & fight_remains < 20",
								["action"] = "ancestral_call",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.serenity.up || boss & fight_remains < 20",
								["action"] = "bag_of_tricks",
							}, -- [14]
						},
						["default_4t"] = {
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up & spinning_crane_kick.max",
								["action"] = "spinning_crane_kick",
								["description"] = "4 Targets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "fists_of_fury",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up & buff.pressure_point.up & set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up & combo_strike & spinning_crane_kick.max",
								["action"] = "spinning_crane_kick",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! buff.bonedust_brew.up & buff.pressure_point.up & cooldown.fists_of_fury.remains > 5",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3 & talent.shadowboxing_treads.enabled",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "chi = 1 & ( ! cooldown.rising_sun_kick.remains || ! cooldown.strike_of_the_windlord.remains ) || chi = 2 & ! cooldown.fists_of_fury.remains",
								["action"] = "expel_harm",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & cooldown.fists_of_fury.remains > 3 & buff.chi_energy.stack > 10",
								["action"] = "spinning_crane_kick",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & set_bonus.tier30_2pc",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.up & chi < 5",
								["action"] = "chi_burst",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "chi < 5 & energy < 50",
								["action"] = "chi_burst",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & ( cooldown.fists_of_fury.remains > 3 || chi > 4 ) & spinning_crane_kick.max",
								["action"] = "spinning_crane_kick",
							}, -- [14]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & ( cooldown.fists_of_fury.remains > 3 || chi > 4 )",
								["action"] = "spinning_crane_kick",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [20]
						},
						["default_3t"] = {
							{
								["enabled"] = true,
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
								["description"] = "3 Targets",
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3 & talent.shadowboxing_treads.enabled",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & ( cooldown.invoke_xuen_the_white_tiger.remains > 20 || fight_remains < 5 )",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "fists_of_fury",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up & buff.pressure_point.up & set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up & combo_strike",
								["action"] = "spinning_crane_kick",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! buff.bonedust_brew.up & buff.pressure_point.up",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "chi = 1 & ( ! cooldown.rising_sun_kick.remains || ! cooldown.strike_of_the_windlord.remains ) || chi = 2 & ! cooldown.fists_of_fury.remains",
								["action"] = "expel_harm",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 2",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.up & ( talent.shadowboxing_treads.enabled || cooldown.rising_sun_kick.remains > 1 )",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.up & chi < 5",
								["action"] = "chi_burst",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "chi < 5 & energy < 50",
								["action"] = "chi_burst",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & cooldown.fists_of_fury.remains < 3 & buff.chi_energy.stack > 15",
								["action"] = "spinning_crane_kick",
								["cycle_targets"] = 1,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.fists_of_fury.remains > 4 & chi > 3",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & cooldown.rising_sun_kick.remains & cooldown.fists_of_fury.remains & chi > 4 & ( ( talent.storm_earth_and_fire.enabled & ! talent.bonedust_brew.enabled ) || ( talent.serenity.enabled ) )",
								["action"] = "spinning_crane_kick",
								["cycle_targets"] = 1,
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & cooldown.fists_of_fury.remains",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & talent.shadowboxing_treads.enabled & ! spinning_crane_kick.max",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "( combo_strike & chi > 5 & talent.storm_earth_and_fire.enabled || combo_strike & chi > 4 & talent.serenity.enabled )",
								["action"] = "spinning_crane_kick",
								["cycle_targets"] = 1,
							}, -- [23]
						},
						["default_aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up & spinning_crane_kick.max",
								["action"] = "spinning_crane_kick",
								["description"] = ">4 Targets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 8",
								["action"] = "whirling_dragon_punch",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "fists_of_fury",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up & combo_strike & spinning_crane_kick.max",
								["action"] = "spinning_crane_kick",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up & buff.pressure_point.up & set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3 & talent.shadowboxing_treads.enabled",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 5",
								["action"] = "whirling_dragon_punch",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up & set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "talent.whirling_dragon_punch.enabled & cooldown.whirling_dragon_punch.remains < 3 & cooldown.fists_of_fury.remains > 3 & ! buff.kicks_of_flowing_momentum.up",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "chi = 1 & ( ! cooldown.rising_sun_kick.remains || ! cooldown.strike_of_the_windlord.remains ) || chi = 2 & ! cooldown.fists_of_fury.remains",
								["action"] = "expel_harm",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & cooldown.fists_of_fury.remains < 5 & buff.chi_energy.stack > 10",
								["action"] = "spinning_crane_kick",
								["cycle_targets"] = 1,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.up & chi < 5",
								["action"] = "chi_burst",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "chi < 5 & energy < 50",
								["action"] = "chi_burst",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & ( cooldown.fists_of_fury.remains > 3 || chi > 2 ) & spinning_crane_kick.max & buff.bloodlust.up",
								["action"] = "spinning_crane_kick",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & ( cooldown.fists_of_fury.remains > 3 || chi > 2 ) & spinning_crane_kick.max & buff.invokers_delight.up",
								["action"] = "spinning_crane_kick",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "talent.shadowboxing_treads.enabled & combo_strike & set_bonus.tier30_2pc & ! buff.bonedust_brew.up & active_enemies < 15 & ! talent.crane_vortex.enabled",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "talent.shadowboxing_treads.enabled & combo_strike & set_bonus.tier30_2pc & ! buff.bonedust_brew.up & active_enemies < 8",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & ( cooldown.fists_of_fury.remains > 3 || chi > 4 ) & spinning_crane_kick.max",
								["action"] = "spinning_crane_kick",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [22]
							{
								["enabled"] = true,
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "talent.shadowboxing_treads.enabled & combo_strike & ! spinning_crane_kick.max",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "chi.max - chi >= 1 & active_enemies = 1 & raid_event.adds.in > 20 || chi.max - chi >= 2",
								["action"] = "chi_burst",
							}, -- [25]
						},
						["bdb_setup"] = {
							{
								["enabled"] = true,
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
								["description"] = "Bonedust Brew Setup",
								["criteria"] = "talent.thunderfist.enabled & active_enemies > 3",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "spinning_crane_kick.max & chi >= 4",
								["action"] = "bonedust_brew",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & chi.max - chi >= 2 & buff.storm_earth_and_fire.up",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & ! talent.whirling_dragon_punch.enabled & ! spinning_crane_kick.max",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & chi >= 5 & talent.whirling_dragon_punch.enabled",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & active_enemies >= 2 & talent.whirling_dragon_punch.enabled",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [6]
						},
						["serenity_4t"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 1",
								["action"] = "faeline_stomp",
								["description"] = "Serenity 4 Targets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( talent.skyreach.enabled || talent.skytouch.enabled ) & ! debuff.skyreach_exhaustion.up & combo_strike",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.teachings_of_the_monastery.stack = 3 & buff.teachings_of_the_monastery.remains < 1",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up & ! talent.bonedust_brew.enabled",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up & set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & buff.call_to_dominance.up & debuff.skyreach_exhaustion.remains > buff.call_to_dominance.remains",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 2",
								["action"] = "faeline_stomp",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "fists_of_fury",
								["cycle_targets"] = 1,
								["interrupt"] = "1",
								["criteria"] = "buff.invokers_delight.up",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & set_bonus.tier30_2pc",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & spinning_crane_kick.max",
								["action"] = "spinning_crane_kick",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "talent.shadowboxing_treads.enabled & combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "spinning_crane_kick",
							}, -- [17]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "talent.teachings_of_the_monastery.enabled & buff.teachings_of_the_monastery.stack < 3",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [21]
						},
						["serenity_aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 1",
								["action"] = "faeline_stomp",
								["description"] = "Serenity >4 Targets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & ! spinning_crane_kick.max & talent.shadowboxing_treads.enabled",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.teachings_of_the_monastery.stack = 3 & buff.teachings_of_the_monastery.remains < 1",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up & set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & buff.call_to_dominance.up & debuff.skyreach_exhaustion.remains > buff.call_to_dominance.remains & active_enemies < 10",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 2",
								["action"] = "faeline_stomp",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "fists_of_fury",
								["cycle_targets"] = 1,
								["interrupt"] = "1",
								["criteria"] = "buff.invokers_delight.up",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies < 6 & combo_strike & set_bonus.tier30_2pc",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & spinning_crane_kick.max",
								["action"] = "spinning_crane_kick",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( talent.skyreach.enabled || talent.skytouch.enabled ) & ! debuff.skyreach_exhaustion.up & combo_strike & active_enemies = 5",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "talent.shadowboxing_treads.enabled & active_enemies >= 3 & combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "spinning_crane_kick",
							}, -- [18]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "talent.teachings_of_the_monastery.enabled & buff.teachings_of_the_monastery.stack < 3",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [22]
						},
						["default_2t"] = {
							{
								["enabled"] = true,
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
								["description"] = "2 Targets",
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3 & talent.shadowboxing_treads.enabled",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & ( cooldown.invoke_xuen_the_white_tiger.remains > 20 || fight_remains < 5 )",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! cooldown.fists_of_fury.remains",
								["action"] = "rising_sun_kick",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "fists_of_fury",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.kicks_of_flowing_momentum.up || buff.pressure_point.up",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "chi = 1 & ( ! cooldown.rising_sun_kick.remains || ! cooldown.strike_of_the_windlord.remains ) || chi = 2 & ! cooldown.fists_of_fury.remains",
								["action"] = "expel_harm",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.up & chi < 5",
								["action"] = "chi_burst",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 2",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.remains & chi > 2 & prev.rising_sun_kick",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "chi < 5 & energy < 50",
								["action"] = "chi_burst",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.up & ( talent.shadowboxing_treads.enabled || cooldown.rising_sun_kick.remains > 1 )",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [14]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "! talent.shadowboxing_treads.enabled & cooldown.fists_of_fury.remains > 4 & talent.xuens_battlegear.enabled",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & cooldown.rising_sun_kick.remains & cooldown.fists_of_fury.remains & ( ! buff.bonedust_brew.up || spinning_crane_kick.modifier < 1.5 )",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up & combo_strike & spinning_crane_kick.modifier >= 2.7",
								["action"] = "spinning_crane_kick",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "faeline_stomp",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "( combo_strike & chi > 5 & talent.storm_earth_and_fire.enabled || combo_strike & chi > 4 & talent.serenity.enabled )",
								["action"] = "spinning_crane_kick",
								["cycle_targets"] = 1,
							}, -- [24]
						},
						["serenity_lust"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 1",
								["action"] = "faeline_stomp",
								["description"] = "Serenity Lust",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.serenity.remains < 1",
								["action"] = "fists_of_fury",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.teachings_of_the_monastery.stack = 3 & buff.teachings_of_the_monastery.remains < 1",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "fists_of_fury",
								["interrupt_if"] = "buff.serenity.remains>=1&buff.invokers_delight.up",
								["interrupt"] = "1",
								["criteria"] = "buff.invokers_delight.up",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & set_bonus.tier30_2pc",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [9]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "talent.teachings_of_the_monastery.enabled & buff.teachings_of_the_monastery.stack < 3",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [11]
						},
						["default_st"] = {
							{
								["enabled"] = true,
								["criteria"] = "! cooldown.fists_of_fury.remains",
								["action"] = "rising_sun_kick",
								["description"] = "1 Target",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! buff.pressure_point.up & debuff.skyreach_exhaustion.remains < 55",
								["action"] = "fists_of_fury",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "debuff.skyreach_exhaustion.remains < 1 & debuff.fae_exposure_damage.remains < 3",
								["action"] = "faeline_stomp",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up || debuff.skyreach_exhaustion.remains > 55",
								["action"] = "rising_sun_kick",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.remains & chi > 2 & prev.rising_sun_kick",
								["action"] = "blackout_kick",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & ( cooldown.invoke_xuen_the_white_tiger.remains > 20 || fight_remains < 5 )",
								["action"] = "strike_of_the_windlord",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.kicks_of_flowing_momentum.up || buff.pressure_point.up || debuff.skyreach_exhaustion.remains > 55",
								["action"] = "rising_sun_kick",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3",
								["action"] = "blackout_kick",
							}, -- [8]
							{
								["action"] = "fists_of_fury",
								["enabled"] = true,
							}, -- [9]
							{
								["action"] = "rising_sun_kick",
								["enabled"] = true,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "chi = 1 & ( ! cooldown.rising_sun_kick.remains || ! cooldown.strike_of_the_windlord.remains ) || chi = 2 & ! cooldown.fists_of_fury.remains",
								["action"] = "expel_harm",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.up & chi < 5",
								["action"] = "chi_burst",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 2 & debuff.skyreach_exhaustion.remains > 1",
								["action"] = "blackout_kick",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "chi < 5 & energy < 50",
								["action"] = "chi_burst",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "debuff.skyreach_exhaustion.remains > 30 || fight_remains < 5",
								["action"] = "strike_of_the_windlord",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.up & cooldown.rising_sun_kick.remains > 1",
								["action"] = "blackout_kick",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up & combo_strike & spinning_crane_kick.modifier >= 2.7",
								["action"] = "spinning_crane_kick",
							}, -- [18]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
							}, -- [21]
						},
						["cd_sef"] = {
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Storm, Earth and Fire Cooldowns",
								["list_name"] = "sef_trinkets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "pet.xuen_the_white_tiger.active",
								["action"] = "summon_white_tiger_statue",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! variable.hold_xuen & fight_remains > 25 & talent.bonedust_brew.enabled & cooldown.bonedust_brew.remains <= 5 & ( active_enemies < 3 & chi >= 3 || active_enemies >= 3 & chi >= 2 ) || boss & fight_remains < 25",
								["action"] = "invoke_xuen",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! variable.hold_xuen & fight_remains > 25 & ! talent.bonedust_brew.enabled & ( cooldown.rising_sun_kick.remains < 2 ) & chi >= 3",
								["action"] = "invoke_xuen",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "talent.bonedust_brew.enabled & ( fight_remains < 30 & cooldown.bonedust_brew.remains < 4 & chi >= 4 || buff.bonedust_brew.up || ! spinning_crane_kick.max & active_enemies >= 3 & cooldown.bonedust_brew.remains <= 2 & chi >= 2 ) & ( pet.xuen_the_white_tiger.active || cooldown.invoke_xuen_the_white_tiger.remains > cooldown.storm_earth_and_fire.full_recharge_time )",
								["action"] = "storm_earth_and_fire",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( ! buff.bonedust_brew.up & buff.storm_earth_and_fire.up & buff.storm_earth_and_fire.remains < 11 & spinning_crane_kick.max ) || ( ! buff.bonedust_brew.up & fight_remains < 30 & fight_remains > 10 & spinning_crane_kick.max & chi >= 4 ) || fight_remains < 10 || ( ( talent.skyreach.enabled || talent.skytouch.enabled ) & ! debuff.skyreach_exhaustion.up & active_enemies >= 4 & spinning_crane_kick.modifier >= 2 ) || ( pet.xuen_the_white_tiger.active & spinning_crane_kick.max & active_enemies >= 4 )",
								["action"] = "bonedust_brew",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["criteria"] = "! buff.bonedust_brew.up & talent.bonedust_brew.enabled & cooldown.bonedust_brew.remains <= 2 & ( fight_remains > 60 & ( cooldown.storm_earth_and_fire.charges > 0 || cooldown.storm_earth_and_fire.remains > 10 ) & ( pet.xuen_the_white_tiger.active || cooldown.invoke_xuen_the_white_tiger.remains > 10 || variable.hold_xuen ) || ( ( pet.xuen_the_white_tiger.active || cooldown.invoke_xuen_the_white_tiger.remains > 13 ) & ( cooldown.storm_earth_and_fire.charges > 0 || cooldown.storm_earth_and_fire.remains > 13 || buff.storm_earth_and_fire.up ) ) )",
								["list_name"] = "bdb_setup",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "boss & fight_remains < 20 || ( cooldown.storm_earth_and_fire.charges = 2 & cooldown.invoke_xuen_the_white_tiger.remains > cooldown.storm_earth_and_fire.full_recharge_time ) & cooldown.fists_of_fury.remains <= 9 & chi >= 2 & cooldown.whirling_dragon_punch.remains <= 12",
								["action"] = "storm_earth_and_fire",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! talent.bonedust_brew.enabled & ( pet.xuen_the_white_tiger.active || fight_remains > 15 & cooldown.storm_earth_and_fire.full_recharge_time < cooldown.invoke_xuen_the_white_tiger.remains )",
								["action"] = "storm_earth_and_fire",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "touch_of_death",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains > 90 || pet.xuen_the_white_tiger.active || variable.hold_xuen || boss & fight_remains < 16",
								["action"] = "touch_of_karma",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains > 159 || variable.hold_xuen",
								["action"] = "touch_of_karma",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.invoke_xuen_the_white_tiger.remains > 30 || variable.hold_xuen || boss & fight_remains < 20",
								["action"] = "blood_fury",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.invoke_xuen_the_white_tiger.remains > 30 || variable.hold_xuen || boss & fight_remains < 15",
								["action"] = "berserking",
							}, -- [14]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.invoke_xuen_the_white_tiger.remains > 30 || variable.hold_xuen || boss & fight_remains < 10",
								["action"] = "fireblood",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.invoke_xuen_the_white_tiger.remains > 30 || variable.hold_xuen || boss & fight_remains < 20",
								["action"] = "ancestral_call",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.storm_earth_and_fire.down",
								["action"] = "bag_of_tricks",
							}, -- [18]
						},
						["sef_trinkets"] = {
							{
								["enabled"] = true,
								["criteria"] = "pet.xuen_the_white_tiger.active || ! talent.invoke_xuen_the_white_tiger.enabled & buff.storm_earth_and_fire.up || boss & fight_remains < 30",
								["action"] = "horn_of_valor",
								["description"] = "SEF Trinkets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( boss || target.time_to_die > 1 + cast_time ) & ( trinket.t1.is.manic_grieftorch & ! trinket.t2.has_use_buff || trinket.t2.is.manic_grieftorch & ! trinket.t1.has_use_buff )",
								["action"] = "manic_grieftorch",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( pet.xuen_the_white_tiger.active || ! talent.invoke_xuen_the_white_tiger.enabled ) & ! buff.storm_earth_and_fire.up || boss & fight_remains < 25",
								["action"] = "algethar_puzzle_box",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "trinket.t1.has_use_buff & ! ( trinket.t1.is.horn_of_valor || trinket.t1.is.manic_grieftorch || trinket.t1.is.algethar_puzzle_box ) & ( cooldown.invoke_xuen_the_white_tiger.remains > action_cooldown % 120 || action_cooldown <= 60 & variable.hold_xuen || action_cooldown <= 60 & buff.storm_earth_and_fire.remains > 10 || ! talent.invoke_xuen_the_white_tiger.enabled ) || boss & fight_remains < 30",
								["action"] = "trinket1",
								["slot"] = "trinket1",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! trinket.t1.has_use_buff & ! ( trinket.t1.is.horn_of_valor || trinket.t1.is.manic_grieftorch || trinket.t1.is.algethar_puzzle_box ) & ( cooldown.invoke_xuen_the_white_tiger.remains > action_cooldown % 120 || action_cooldown <= 60 & variable.hold_xuen || ! talent.invoke_xuen_the_white_tiger.enabled ) || boss & fight_remains < 30",
								["action"] = "trinket1",
								["slot"] = "trinket1",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "trinket.t2.has_use_buff & ! ( trinket.t2.is.horn_of_valor || trinket.t2.is.manic_grieftorch || trinket.t2.is.algethar_puzzle_box ) & ( cooldown.invoke_xuen_the_white_tiger.remains > action_cooldown % 120 || action_cooldown <= 60 & variable.hold_xuen || action_cooldown <= 60 & buff.storm_earth_and_fire.remains > 10 || ! talent.invoke_xuen_the_white_tiger.enabled ) || boss & fight_remains < 30",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! trinket.t2.has_use_buff & ! ( trinket.t2.is.horn_of_valor || trinket.t2.is.manic_grieftorch || trinket.t2.is.algethar_puzzle_box ) & ( cooldown.invoke_xuen_the_white_tiger.remains > action_cooldown % 120 || action_cooldown <= 60 & variable.hold_xuen || ! talent.invoke_xuen_the_white_tiger.enabled ) || boss & fight_remains < 30",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [7]
						},
						["st_cleave"] = {
							{
								["enabled"] = true,
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
								["description"] = "ST Priority (<3 Targets)",
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3 & talent.shadowboxing_treads.enabled",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled",
								["action"] = "strike_of_the_windlord",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & buff.kicks_of_flowing_momentum.up || buff.pressure_point.up",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 2 & talent.shadowboxing_treads.enabled",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["action"] = "strike_of_the_windlord",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "fists_of_fury",
								["enabled"] = true,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.up & ( talent.shadowboxing_treads.enabled & active_enemies > 1 || cooldown.rising_sun_kick.remains > 1 )",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 2",
								["action"] = "whirling_dragon_punch",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.teachings_of_the_monastery.stack = 3",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies = 1 || ! talent.shadowboxing_treads.enabled ) & cooldown.fists_of_fury.remains > 4 & talent.xuens_battlegear.enabled",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & active_enemies = 2 & cooldown.rising_sun_kick.remains & cooldown.fists_of_fury.remains & ( ! buff.bonedust_brew.up || spinning_crane_kick.modifier < 1.5 )",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up & active_enemies = 2",
								["action"] = "rushing_jade_wind",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up & combo_strike & ( active_enemies > 1 || spinning_crane_kick.modifier >= 2.7 )",
								["action"] = "spinning_crane_kick",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [15]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "! buff.rushing_jade_wind.up",
								["action"] = "rushing_jade_wind",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [18]
						},
						["precombat"] = {
							{
								["action"] = "summon_white_tiger_statue",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "chi < chi.max",
								["action"] = "expel_harm",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! talent.faeline_stomp.enabled",
								["action"] = "chi_burst",
							}, -- [3]
							{
								["action"] = "chi_wave",
								["enabled"] = true,
							}, -- [4]
						},
						["serenity_2t"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 2 & ! debuff.skyreach_exhaustion.remains < 2 & ! debuff.skyreach_exhaustion.remains",
								["action"] = "faeline_stomp",
								["description"] = "Serenity 2 Targets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( talent.skyreach.enabled || talent.skytouch.enabled ) & ! debuff.skyreach_exhaustion.up & combo_strike",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.teachings_of_the_monastery.stack = 3 & buff.teachings_of_the_monastery.remains < 1",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.pressure_point.up & set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc",
								["action"] = "rising_sun_kick",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "debuff.fae_exposure_damage.remains < 2",
								["action"] = "faeline_stomp",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & buff.call_to_dominance.up & debuff.skyreach_exhaustion.remains > buff.call_to_dominance.remains",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled & debuff.skyreach_exhaustion.remains > 55",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "fists_of_fury",
								["cycle_targets"] = 1,
								["interrupt"] = "1",
								["criteria"] = "buff.invokers_delight.up",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "talent.thunderfist.enabled",
								["action"] = "strike_of_the_windlord",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & set_bonus.tier30_2pc",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.teachings_of_the_monastery.stack = 2",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.fists_of_fury.remains > 5 & talent.shadowboxing_treads.enabled & buff.teachings_of_the_monastery.stack = 1 & combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.dance_of_chiji.up",
								["action"] = "spinning_crane_kick",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "spinning_crane_kick",
							}, -- [16]
							{
								["action"] = "whirling_dragon_punch",
								["enabled"] = true,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "talent.teachings_of_the_monastery.enabled & buff.teachings_of_the_monastery.stack < 3",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [19]
						},
						["fallthru"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.the_emperors_capacitor.stack > 19 & energy.time_to_max > execute_time - 1 & cooldown.rising_sun_kick.remains > execute_time || buff.the_emperors_capacitor.stack > 14 & ( cooldown.serenity.remains < 5 & talent.serenity.enabled || boss & fight_remains < 5 )",
								["action"] = "crackling_jade_lightning",
								["description"] = "Fallthru",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike",
								["action"] = "faeline_stomp",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & chi.max - chi >= ( 2 + buff.power_strikes.up )",
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "chi.max - chi >= 1 & active_enemies > 2",
								["action"] = "expel_harm",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "chi.max - chi >= 1 & active_enemies = 1 & raid_event.adds.in > 20 || chi.max - chi >= 2 & active_enemies >= 2",
								["action"] = "chi_burst",
							}, -- [5]
							{
								["action"] = "chi_wave",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "chi.max - chi >= 1",
								["action"] = "expel_harm",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & active_enemies >= 5",
								["action"] = "blackout_kick",
								["cycle_targets"] = 1,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "combo_strike & buff.chi_energy.stack > 30 - 5 * active_enemies & buff.storm_earth_and_fire.down & ( cooldown.rising_sun_kick.remains > 2 & cooldown.fists_of_fury.remains > 2 || cooldown.rising_sun_kick.remains < 3 & cooldown.fists_of_fury.remains > 3 & chi > 3 || cooldown.rising_sun_kick.remains > 3 & cooldown.fists_of_fury.remains < 3 & chi > 4 || chi.max - chi <= 1 & energy.time_to_max < 2 ) || buff.chi_energy.stack > 10 & fight_remains < 7",
								["action"] = "spinning_crane_kick",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "chi.max - chi >= 1",
								["action"] = "arcane_torrent",
							}, -- [10]
							{
								["interrupt"] = "1",
								["action"] = "flying_serpent_kick",
								["enabled"] = true,
							}, -- [11]
							{
								["action"] = "tiger_palm",
								["enabled"] = true,
							}, -- [12]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Executed every time the actor is available.",
								["action"] = "spear_hand_strike",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! talent.invoke_xuen_the_white_tiger.enabled || cooldown.invoke_xuen_the_white_tiger.duration > fight_remains",
								["var_name"] = "hold_xuen",
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! debuff.skyreach_exhaustion.remains < 1 & cooldown.rising_sun_kick.remains < 1",
								["var_name"] = "hold_tp_rsk",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.serenity.up || buff.storm_earth_and_fire.up & pet.xuen_the_white_tiger.active || fight_remains <= 30",
								["action"] = "potion",
								["description"] = "Potion",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Build Chi at the start of combat",
								["criteria"] = "time < 4 & chi < 5 & ! pet.xuen_the_white_tiger.active & ! talent.serenity.enabled",
								["list_name"] = "opener",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Use Trinkets (SEF)",
								["strict"] = 1,
								["criteria"] = "! talent.serenity.enabled",
								["list_name"] = "sef_trinkets",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "talent.serenity.enabled",
								["list_name"] = "serenity_trinkets",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "faeline_stomp",
								["cycle_targets"] = 1,
								["description"] = "Prioritize Faeline Stomp if playing with Faeline Harmony",
								["criteria"] = "combo_strike & talent.faeline_harmony.enabled & debuff.fae_exposure_damage.remains < 1",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "tiger_palm",
								["cycle_targets"] = 1,
								["description"] = "TP if not overcapping Chi or TotM",
								["criteria"] = "! buff.serenity.up & buff.teachings_of_the_monastery.stack < 3 & combo_strike & chi.max - chi >= ( 2 + buff.power_strikes.up ) & ( ! talent.invoke_xuen_the_white_tiger.enabled & ! talent.serenity.enabled || ( ( ! talent.skyreach.enabled & ! talent.skytouch.enabled ) || time > 5 || pet.xuen_the_white_tiger.active ) ) & ! variable.hold_tp_rsk",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.faeline_stomp.enabled & cooldown.faeline_stomp.remains & ( chi.max - chi >= 1 & active_enemies = 1 || chi.max - chi >= 2 & active_enemies >= 2 ) & ! talent.faeline_harmony.enabled",
								["action"] = "chi_burst",
								["description"] = "Use Chi Burst to reset Faeline Stomp",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Use Cooldowns",
								["strict"] = 1,
								["criteria"] = "! talent.serenity.enabled",
								["list_name"] = "cd_sef",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "talent.serenity.enabled",
								["list_name"] = "cd_serenity",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Serenity Priority",
								["strict"] = 1,
								["criteria"] = "buff.serenity.up & buff.bloodlust.up",
								["list_name"] = "serenity_lust",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "buff.serenity.up & active_enemies > 4",
								["list_name"] = "serenity_aoe",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "buff.serenity.up & active_enemies = 4",
								["list_name"] = "serenity_4t",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "buff.serenity.up & active_enemies = 3",
								["list_name"] = "serenity_3t",
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "buff.serenity.up & active_enemies = 2",
								["list_name"] = "serenity_2t",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "buff.serenity.up & active_enemies = 1",
								["list_name"] = "serenity_st",
							}, -- [18]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Default Priority",
								["strict"] = 1,
								["criteria"] = "active_enemies > 4",
								["list_name"] = "default_aoe",
							}, -- [19]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies = 4",
								["list_name"] = "default_4t",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies = 3",
								["list_name"] = "default_3t",
							}, -- [21]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies = 2",
								["list_name"] = "default_2t",
							}, -- [22]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies = 1",
								["list_name"] = "default_st",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "fallthru",
							}, -- [24]
						},
						["serenity_trinkets"] = {
							{
								["enabled"] = true,
								["criteria"] = "pet.xuen_the_white_tiger.active || ! talent.invoke_xuen_the_white_tiger.enabled & buff.storm_earth_and_fire.up || boss & fight_remains < 30",
								["action"] = "horn_of_valor",
								["description"] = "Serenity Trinkets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( boss || target.time_to_die > 1 + cast_time ) & ( trinket.t1.is.manic_grieftorch & ! trinket.t2.has_use_buff || trinket.t2.is.manic_grieftorch & ! trinket.t1.has_use_buff )",
								["action"] = "manic_grieftorch",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( pet.xuen_the_white_tiger.active || ! talent.invoke_xuen_the_white_tiger.enabled ) & ! buff.storm_earth_and_fire.up || boss & fight_remains < 25",
								["action"] = "algethar_puzzle_box",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "trinket.t1.has_use_buff & ! ( trinket.t1.is.horn_of_valor || trinket.t1.is.manic_grieftorch || trinket.t1.is.algethar_puzzle_box ) & buff.serenity.remains > 10 || boss & fight_remains < 30",
								["action"] = "trinket1",
								["slot"] = "trinket1",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! trinket.t1.has_use_buff & ! ( trinket.t1.is.horn_of_valor || trinket.t1.is.manic_grieftorch || trinket.t1.is.algethar_puzzle_box ) & ( cooldown.invoke_xuen_the_white_tiger.remains > action_cooldown % 120 || action_cooldown <= 60 & variable.hold_xuen || ! talent.invoke_xuen_the_white_tiger.enabled ) || boss & fight_remains < 30",
								["action"] = "trinket1",
								["slot"] = "trinket1",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "trinket.t2.has_use_buff & ! ( trinket.t2.is.horn_of_valor || trinket.t2.is.manic_grieftorch || trinket.t2.is.algethar_puzzle_box ) & buff.serenity.remains > 10 || boss & fight_remains < 30",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! trinket.t2.has_use_buff & ! ( trinket.t2.is.horn_of_valor || trinket.t2.is.manic_grieftorch || trinket.t2.is.algethar_puzzle_box ) & ( cooldown.invoke_xuen_the_white_tiger.remains > action_cooldown % 120 || action_cooldown <= 60 & variable.hold_xuen || ! talent.invoke_xuen_the_white_tiger.enabled ) || boss & fight_remains < 30",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.invoke_xuen_the_white_tiger.remains > action_cooldown % 120 || action_cooldown <= 60 & variable.hold_xuen || ! talent.invoke_xuen_the_white_tiger.enabled",
								["action"] = "use_items",
							}, -- [8]
						},
					},
					["version"] = 20230807,
					["warnings"] = "The import for 'serenity_3t' required some automated changes.\nLine 8: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 9: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 11: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 16: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 22: Converted 'talent.teachings_of_the_monastery' to 'talent.teachings_of_the_monastery.enabled' (1x).\n\nThe import for 'serenity_st' required some automated changes.\nLine 6: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 7: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 14: Converted 'talent.teachings_of_the_monastery' to 'talent.teachings_of_the_monastery.enabled' (1x).\n\nThe import for 'cd_serenity' required some automated changes.\nLine 3: Converted 'talent.bonedust_brew' to 'talent.bonedust_brew.enabled' (1x).\nLine 6: Converted 'talent.invokers_delight' to 'talent.invokers_delight.enabled' (1x).\nLine 6: Converted 'talent.drinking_horn_cover' to 'talent.drinking_horn_cover.enabled' (1x).\nLine 6: Converted 'talent.drinking_horn_cover' to 'talent.drinking_horn_cover.enabled' (1x).\nLine 6: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\n\nThe import for 'default_st' required some automated changes.\nLine 6: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\n\nThe import for 'default_3t' required some automated changes.\nLine 1: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 3: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 12: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 19: Converted 'talent.storm_earth_and_fire' to 'talent.storm_earth_and_fire.enabled' (1x).\nLine 19: Converted 'talent.bonedust_brew' to 'talent.bonedust_brew.enabled' (1x).\nLine 19: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\nLine 22: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 23: Converted 'talent.storm_earth_and_fire' to 'talent.storm_earth_and_fire.enabled' (1x).\nLine 23: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\n\nThe import for 'default_aoe' required some automated changes.\nLine 2: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 7: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 11: Converted 'talent.whirling_dragon_punch' to 'talent.whirling_dragon_punch.enabled' (1x).\nLine 18: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 18: Converted 'talent.crane_vortex' to 'talent.crane_vortex.enabled' (1x).\nLine 19: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 24: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\n\nThe import for 'bdb_setup' required some automated changes.\nLine 1: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 4: Converted 'talent.whirling_dragon_punch' to 'talent.whirling_dragon_punch.enabled' (1x).\nLine 5: Converted 'talent.whirling_dragon_punch' to 'talent.whirling_dragon_punch.enabled' (1x).\nLine 6: Converted 'talent.whirling_dragon_punch' to 'talent.whirling_dragon_punch.enabled' (1x).\n\nThe import for 'serenity_4t' required some automated changes.\nLine 4: Converted 'talent.bonedust_brew' to 'talent.bonedust_brew.enabled' (1x).\nLine 7: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 10: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 15: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 21: Converted 'talent.teachings_of_the_monastery' to 'talent.teachings_of_the_monastery.enabled' (1x).\n\nThe import for 'serenity_aoe' required some automated changes.\nLine 2: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 7: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 10: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 16: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 22: Converted 'talent.teachings_of_the_monastery' to 'talent.teachings_of_the_monastery.enabled' (1x).\n\nThe import for 'default_2t' required some automated changes.\nLine 1: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 2: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 14: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 17: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 17: Converted 'talent.xuens_battlegear' to 'talent.xuens_battlegear.enabled' (1x).\nLine 24: Converted 'talent.storm_earth_and_fire' to 'talent.storm_earth_and_fire.enabled' (1x).\nLine 24: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\n\nThe import for 'serenity_trinkets' required some automated changes.\nLine 1: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 2: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 2: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 2: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 4: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.1.is.horn_of_valor' to 'trinket.t1.is.horn_of_valor' (1x).\nLine 4: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 4: Converted 'trinket.1.is.algethar_puzzle_box' to 'trinket.t1.is.algethar_puzzle_box' (1x).\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.is.horn_of_valor' to 'trinket.t1.is.horn_of_valor' (1x).\nLine 5: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 5: Converted 'trinket.1.is.algethar_puzzle_box' to 'trinket.t1.is.algethar_puzzle_box' (1x).\nLine 5: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 5: Converted operations in '!trinket.t1.has_use_buff&!(trinket.t1.is.horn_of_valor||trinket.t1.is.manic_grieftorch||trinket.t1.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30' to '!trinket.t1.has_use_buff&!(trinket.t1.is.horn_of_valor||trinket.t1.is.manic_grieftorch||trinket.t1.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30'.\nLine 6: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 6: Converted 'trinket.2.is.horn_of_valor' to 'trinket.t2.is.horn_of_valor' (1x).\nLine 6: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 6: Converted 'trinket.2.is.algethar_puzzle_box' to 'trinket.t2.is.algethar_puzzle_box' (1x).\nLine 7: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 7: Converted 'trinket.2.is.horn_of_valor' to 'trinket.t2.is.horn_of_valor' (1x).\nLine 7: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 7: Converted 'trinket.2.is.algethar_puzzle_box' to 'trinket.t2.is.algethar_puzzle_box' (1x).\nLine 7: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 7: Converted operations in '!trinket.t2.has_use_buff&!(trinket.t2.is.horn_of_valor||trinket.t2.is.manic_grieftorch||trinket.t2.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30' to '!trinket.t2.has_use_buff&!(trinket.t2.is.horn_of_valor||trinket.t2.is.manic_grieftorch||trinket.t2.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30'.\nLine 8: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 8: Converted operations in 'cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled' to 'cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled'.\n\nThe import for 'st_cleave' required some automated changes.\nLine 1: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 3: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 5: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 8: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 11: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 11: Converted 'talent.xuens_battlegear' to 'talent.xuens_battlegear.enabled' (1x).\n\nThe import for 'cd_sef' required some automated changes.\nLine 3: Converted 'talent.bonedust_brew' to 'talent.bonedust_brew.enabled' (1x).\nLine 4: Converted 'talent.bonedust_brew' to 'talent.bonedust_brew.enabled' (1x).\nLine 5: Converted 'talent.bonedust_brew' to 'talent.bonedust_brew.enabled' (1x).\nLine 7: Converted 'talent.bonedust_brew' to 'talent.bonedust_brew.enabled' (1x).\nLine 9: Converted 'talent.bonedust_brew' to 'talent.bonedust_brew.enabled' (1x).\n\nThe import for 'sef_trinkets' required some automated changes.\nLine 1: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 2: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 2: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 2: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 4: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.1.is.horn_of_valor' to 'trinket.t1.is.horn_of_valor' (1x).\nLine 4: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 4: Converted 'trinket.1.is.algethar_puzzle_box' to 'trinket.t1.is.algethar_puzzle_box' (1x).\nLine 4: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 4: Converted operations in 'trinket.t1.has_use_buff&!(trinket.t1.is.horn_of_valor||trinket.t1.is.manic_grieftorch||trinket.t1.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%%120||action_cooldown<=60&variable.hold_xuen||action_cooldown<=60&buff.storm_earth_and_fire.remains>10||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30' to 'trinket.t1.has_use_buff&!(trinket.t1.is.horn_of_valor||trinket.t1.is.manic_grieftorch||trinket.t1.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%120||action_cooldown<=60&variable.hold_xuen||action_cooldown<=60&buff.storm_earth_and_fire.remains>10||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30'.\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.is.horn_of_valor' to 'trinket.t1.is.horn_of_valor' (1x).\nLine 5: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 5: Converted 'trinket.1.is.algethar_puzzle_box' to 'trinket.t1.is.algethar_puzzle_box' (1x).\nLine 5: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 5: Converted operations in '!trinket.t1.has_use_buff&!(trinket.t1.is.horn_of_valor||trinket.t1.is.manic_grieftorch||trinket.t1.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30' to '!trinket.t1.has_use_buff&!(trinket.t1.is.horn_of_valor||trinket.t1.is.manic_grieftorch||trinket.t1.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30'.\nLine 6: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 6: Converted 'trinket.2.is.horn_of_valor' to 'trinket.t2.is.horn_of_valor' (1x).\nLine 6: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 6: Converted 'trinket.2.is.algethar_puzzle_box' to 'trinket.t2.is.algethar_puzzle_box' (1x).\nLine 6: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 6: Converted operations in 'trinket.t2.has_use_buff&!(trinket.t2.is.horn_of_valor||trinket.t2.is.manic_grieftorch||trinket.t2.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%%120||action_cooldown<=60&variable.hold_xuen||action_cooldown<=60&buff.storm_earth_and_fire.remains>10||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30' to 'trinket.t2.has_use_buff&!(trinket.t2.is.horn_of_valor||trinket.t2.is.manic_grieftorch||trinket.t2.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%120||action_cooldown<=60&variable.hold_xuen||action_cooldown<=60&buff.storm_earth_and_fire.remains>10||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30'.\nLine 7: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 7: Converted 'trinket.2.is.horn_of_valor' to 'trinket.t2.is.horn_of_valor' (1x).\nLine 7: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 7: Converted 'trinket.2.is.algethar_puzzle_box' to 'trinket.t2.is.algethar_puzzle_box' (1x).\nLine 7: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 7: Converted operations in '!trinket.t2.has_use_buff&!(trinket.t2.is.horn_of_valor||trinket.t2.is.manic_grieftorch||trinket.t2.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30' to '!trinket.t2.has_use_buff&!(trinket.t2.is.horn_of_valor||trinket.t2.is.manic_grieftorch||trinket.t2.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>action_cooldown%120||action_cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger.enabled)||boss&fight_remains<30'.\n\nThe import for 'default' required some automated changes.\nLine 2: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 5: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\nLine 6: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\nLine 7: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\nLine 8: Converted 'talent.faeline_harmony' to 'talent.faeline_harmony.enabled' (1x).\nLine 9: Converted 'talent.invoke_xuen_the_white_tiger' to 'talent.invoke_xuen_the_white_tiger.enabled' (1x).\nLine 9: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\nLine 9: Converted 'talent.skyreach' to 'talent.skyreach.enabled' (1x).\nLine 9: Converted 'talent.skytouch' to 'talent.skytouch.enabled' (1x).\nLine 10: Converted 'talent.faeline_stomp' to 'talent.faeline_stomp.enabled' (1x).\nLine 10: Converted 'talent.faeline_harmony' to 'talent.faeline_harmony.enabled' (1x).\nLine 11: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\nLine 12: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 3: Converted 'talent.faeline_stomp' to 'talent.faeline_stomp.enabled' (1x).\n\nThe import for 'serenity_2t' required some automated changes.\nLine 8: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 9: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 11: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 14: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\nLine 19: Converted 'talent.teachings_of_the_monastery' to 'talent.teachings_of_the_monastery.enabled' (1x).\n\nThe import for 'fallthru' required some automated changes.\nLine 1: Converted 'talent.serenity' to 'talent.serenity.enabled' (1x).\n\nThe import for 'serenity_lust' required some automated changes.\nLine 5: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 11: Converted 'talent.teachings_of_the_monastery' to 'talent.teachings_of_the_monastery.enabled' (1x).\n\nThe import for 'default_4t' required some automated changes.\nLine 2: Converted 'talent.thunderfist' to 'talent.thunderfist.enabled' (1x).\nLine 7: Converted 'talent.shadowboxing_treads' to 'talent.shadowboxing_treads.enabled' (1x).\n\nImported 21 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/summon_white_tiger_statue\nactions.precombat+=/expel_harm,if=chi<chi.max\nactions.precombat+=/chi_burst,if=!talent.faeline_stomp\nactions.precombat+=/chi_wave\n\n# Executed every time the actor is available.\nactions=spear_hand_strike\nactions+=/variable,name=hold_xuen,op=set,value=!talent.invoke_xuen_the_white_tiger||cooldown.invoke_xuen_the_white_tiger.duration>fight_remains\nactions+=/variable,name=hold_tp_rsk,op=set,value=!debuff.skyreach_exhaustion.remains<1&cooldown.rising_sun_kick.remains<1\n# Potion\nactions+=/potion,if=buff.serenity.up||buff.storm_earth_and_fire.up&pet.xuen_the_white_tiger.active||fight_remains<=30\n# Build Chi at the start of combat\nactions+=/call_action_list,name=opener,if=time<4&chi<5&!pet.xuen_the_white_tiger.active&!talent.serenity\n# Use Trinkets (SEF)\nactions+=/call_action_list,name=sef_trinkets,strict=1,if=!talent.serenity\nactions+=/call_action_list,name=serenity_trinkets,strict=1,if=talent.serenity\n# Prioritize Faeline Stomp if playing with Faeline Harmony\nactions+=/faeline_stomp,cycle_targets=1,if=combo_strike&talent.faeline_harmony&debuff.fae_exposure_damage.remains<1\n# TP if not overcapping Chi or TotM\nactions+=/tiger_palm,cycle_targets=1,if=!buff.serenity.up&buff.teachings_of_the_monastery.stack<3&combo_strike&chi.max-chi>=(2+buff.power_strikes.up)&(!talent.invoke_xuen_the_white_tiger&!talent.serenity||((!talent.skyreach&!talent.skytouch)||time>5||pet.xuen_the_white_tiger.active))&!variable.hold_tp_rsk\n# Use Chi Burst to reset Faeline Stomp\nactions+=/chi_burst,if=talent.faeline_stomp&cooldown.faeline_stomp.remains&(chi.max-chi>=1&active_enemies=1||chi.max-chi>=2&active_enemies>=2)&!talent.faeline_harmony\n# Use Cooldowns\nactions+=/call_action_list,name=cd_sef,strict=1,if=!talent.serenity\nactions+=/call_action_list,name=cd_serenity,strict=1,if=talent.serenity\n# Serenity Priority\nactions+=/call_action_list,name=serenity_lust,strict=1,if=buff.serenity.up&buff.bloodlust.up\nactions+=/call_action_list,name=serenity_aoe,strict=1,if=buff.serenity.up&active_enemies>4\nactions+=/call_action_list,name=serenity_4t,strict=1,if=buff.serenity.up&active_enemies=4\nactions+=/call_action_list,name=serenity_3t,strict=1,if=buff.serenity.up&active_enemies=3\nactions+=/call_action_list,name=serenity_2t,strict=1,if=buff.serenity.up&active_enemies=2\nactions+=/call_action_list,name=serenity_st,strict=1,if=buff.serenity.up&active_enemies=1\n# Default Priority\nactions+=/call_action_list,name=default_aoe,strict=1,if=active_enemies>4\nactions+=/call_action_list,name=default_4t,strict=1,if=active_enemies=4\nactions+=/call_action_list,name=default_3t,strict=1,if=active_enemies=3\nactions+=/call_action_list,name=default_2t,strict=1,if=active_enemies=2\nactions+=/call_action_list,name=default_st,strict=1,if=active_enemies=1\nactions+=/call_action_list,name=fallthru\n\n# >4 Targets\nactions.default_aoe+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up&spinning_crane_kick.max\nactions.default_aoe+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist\nactions.default_aoe+=/whirling_dragon_punch,if=active_enemies>8\nactions.default_aoe+=/fists_of_fury,cycle_targets=1\nactions.default_aoe+=/spinning_crane_kick,if=buff.bonedust_brew.up&combo_strike&spinning_crane_kick.max\nactions.default_aoe+=/rising_sun_kick,cycle_targets=1,if=buff.bonedust_brew.up&buff.pressure_point.up&set_bonus.tier30_2pc\nactions.default_aoe+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3&talent.shadowboxing_treads\nactions.default_aoe+=/whirling_dragon_punch,if=active_enemies>=5\nactions.default_aoe+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up&set_bonus.tier30_2pc\nactions.default_aoe+=/rising_sun_kick,cycle_targets=1,if=set_bonus.tier30_2pc\nactions.default_aoe+=/rising_sun_kick,cycle_targets=1,if=talent.whirling_dragon_punch&cooldown.whirling_dragon_punch.remains<3&cooldown.fists_of_fury.remains>3&!buff.kicks_of_flowing_momentum.up\nactions.default_aoe+=/expel_harm,if=chi=1&(!cooldown.rising_sun_kick.remains||!cooldown.strike_of_the_windlord.remains)||chi=2&!cooldown.fists_of_fury.remains\nactions.default_aoe+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&cooldown.fists_of_fury.remains<5&buff.chi_energy.stack>10\nactions.default_aoe+=/chi_burst,if=buff.bloodlust.up&chi<5\nactions.default_aoe+=/chi_burst,if=chi<5&energy<50\nactions.default_aoe+=/spinning_crane_kick,if=combo_strike&(cooldown.fists_of_fury.remains>3||chi>2)&spinning_crane_kick.max&buff.bloodlust.up\nactions.default_aoe+=/spinning_crane_kick,if=combo_strike&(cooldown.fists_of_fury.remains>3||chi>2)&spinning_crane_kick.max&buff.invokers_delight.up\nactions.default_aoe+=/blackout_kick,cycle_targets=1,if=talent.shadowboxing_treads&combo_strike&set_bonus.tier30_2pc&!buff.bonedust_brew.up&active_enemies<15&!talent.crane_vortex\nactions.default_aoe+=/blackout_kick,cycle_targets=1,if=talent.shadowboxing_treads&combo_strike&set_bonus.tier30_2pc&!buff.bonedust_brew.up&active_enemies<8\nactions.default_aoe+=/spinning_crane_kick,if=combo_strike&(cooldown.fists_of_fury.remains>3||chi>4)&spinning_crane_kick.max\nactions.default_aoe+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.default_aoe+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3\nactions.default_aoe+=/strike_of_the_windlord,cycle_targets=1\nactions.default_aoe+=/blackout_kick,cycle_targets=1,if=talent.shadowboxing_treads&combo_strike&!spinning_crane_kick.max\nactions.default_aoe+=/chi_burst,if=chi.max-chi>=1&active_enemies=1&raid_event.adds.in>20||chi.max-chi>=2\n\n# 4 Targets\nactions.default_4t+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up&spinning_crane_kick.max\nactions.default_4t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist\nactions.default_4t+=/fists_of_fury,cycle_targets=1\nactions.default_4t+=/rising_sun_kick,cycle_targets=1,if=buff.bonedust_brew.up&buff.pressure_point.up&set_bonus.tier30_2pc\nactions.default_4t+=/spinning_crane_kick,if=buff.bonedust_brew.up&combo_strike&spinning_crane_kick.max\nactions.default_4t+=/rising_sun_kick,cycle_targets=1,if=!buff.bonedust_brew.up&buff.pressure_point.up&cooldown.fists_of_fury.remains>5\nactions.default_4t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3&talent.shadowboxing_treads\nactions.default_4t+=/rising_sun_kick,cycle_targets=1,if=set_bonus.tier30_2pc\nactions.default_4t+=/expel_harm,if=chi=1&(!cooldown.rising_sun_kick.remains||!cooldown.strike_of_the_windlord.remains)||chi=2&!cooldown.fists_of_fury.remains\nactions.default_4t+=/spinning_crane_kick,if=combo_strike&cooldown.fists_of_fury.remains>3&buff.chi_energy.stack>10\nactions.default_4t+=/blackout_kick,cycle_targets=1,if=combo_strike&set_bonus.tier30_2pc\nactions.default_4t+=/chi_burst,if=buff.bloodlust.up&chi<5\nactions.default_4t+=/chi_burst,if=chi<5&energy<50\nactions.default_4t+=/spinning_crane_kick,if=combo_strike&(cooldown.fists_of_fury.remains>3||chi>4)&spinning_crane_kick.max\nactions.default_4t+=/whirling_dragon_punch\nactions.default_4t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3\nactions.default_4t+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.default_4t+=/strike_of_the_windlord,cycle_targets=1\nactions.default_4t+=/spinning_crane_kick,if=combo_strike&(cooldown.fists_of_fury.remains>3||chi>4)\nactions.default_4t+=/blackout_kick,cycle_targets=1,if=combo_strike\n\n# 3 Targets\nactions.default_3t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3&talent.shadowboxing_treads\nactions.default_3t+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.default_3t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist&(cooldown.invoke_xuen_the_white_tiger.remains>20||fight_remains<5)\nactions.default_3t+=/fists_of_fury,cycle_targets=1\nactions.default_3t+=/rising_sun_kick,cycle_targets=1,if=buff.bonedust_brew.up&buff.pressure_point.up&set_bonus.tier30_2pc\nactions.default_3t+=/spinning_crane_kick,if=buff.bonedust_brew.up&combo_strike\nactions.default_3t+=/rising_sun_kick,cycle_targets=1,if=!buff.bonedust_brew.up&buff.pressure_point.up\nactions.default_3t+=/rising_sun_kick,cycle_targets=1,if=set_bonus.tier30_2pc\nactions.default_3t+=/expel_harm,if=chi=1&(!cooldown.rising_sun_kick.remains||!cooldown.strike_of_the_windlord.remains)||chi=2&!cooldown.fists_of_fury.remains\nactions.default_3t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=2\nactions.default_3t+=/strike_of_the_windlord,cycle_targets=1\nactions.default_3t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.up&(talent.shadowboxing_treads||cooldown.rising_sun_kick.remains>1)\nactions.default_3t+=/whirling_dragon_punch\nactions.default_3t+=/chi_burst,if=buff.bloodlust.up&chi<5\nactions.default_3t+=/chi_burst,if=chi<5&energy<50\nactions.default_3t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3\nactions.default_3t+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&cooldown.fists_of_fury.remains<3&buff.chi_energy.stack>15\nactions.default_3t+=/rising_sun_kick,cycle_targets=1,if=cooldown.fists_of_fury.remains>4&chi>3\nactions.default_3t+=/spinning_crane_kick,cycle_targets=1,if=combo_strike&cooldown.rising_sun_kick.remains&cooldown.fists_of_fury.remains&chi>4&((talent.storm_earth_and_fire&!talent.bonedust_brew)||(talent.serenity))\nactions.default_3t+=/blackout_kick,cycle_targets=1,if=combo_strike&cooldown.fists_of_fury.remains\nactions.default_3t+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.default_3t+=/blackout_kick,cycle_targets=1,if=combo_strike&talent.shadowboxing_treads&!spinning_crane_kick.max\nactions.default_3t+=/spinning_crane_kick,cycle_targets=1,if=(combo_strike&chi>5&talent.storm_earth_and_fire||combo_strike&chi>4&talent.serenity)\n\n# 2 Targets\nactions.default_2t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3&talent.shadowboxing_treads\nactions.default_2t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist&(cooldown.invoke_xuen_the_white_tiger.remains>20||fight_remains<5)\nactions.default_2t+=/rising_sun_kick,if=!cooldown.fists_of_fury.remains\nactions.default_2t+=/fists_of_fury,cycle_targets=1\nactions.default_2t+=/rising_sun_kick,cycle_targets=1,if=set_bonus.tier30_2pc\nactions.default_2t+=/rising_sun_kick,cycle_targets=1,if=buff.kicks_of_flowing_momentum.up||buff.pressure_point.up\nactions.default_2t+=/expel_harm,if=chi=1&(!cooldown.rising_sun_kick.remains||!cooldown.strike_of_the_windlord.remains)||chi=2&!cooldown.fists_of_fury.remains\nactions.default_2t+=/chi_burst,if=buff.bloodlust.up&chi<5\nactions.default_2t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=2\nactions.default_2t+=/blackout_kick,cycle_targets=1,if=buff.pressure_point.remains&chi>2&prev.rising_sun_kick\nactions.default_2t+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.default_2t+=/chi_burst,if=chi<5&energy<50\nactions.default_2t+=/strike_of_the_windlord,cycle_targets=1\nactions.default_2t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.up&(talent.shadowboxing_treads||cooldown.rising_sun_kick.remains>1)\nactions.default_2t+=/whirling_dragon_punch\nactions.default_2t+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3\nactions.default_2t+=/rising_sun_kick,cycle_targets=1,if=!talent.shadowboxing_treads&cooldown.fists_of_fury.remains>4&talent.xuens_battlegear\nactions.default_2t+=/blackout_kick,cycle_targets=1,if=combo_strike&cooldown.rising_sun_kick.remains&cooldown.fists_of_fury.remains&(!buff.bonedust_brew.up||spinning_crane_kick.modifier<1.5)\nactions.default_2t+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.default_2t+=/spinning_crane_kick,if=buff.bonedust_brew.up&combo_strike&spinning_crane_kick.modifier>=2.7\nactions.default_2t+=/rising_sun_kick,cycle_targets=1\nactions.default_2t+=/blackout_kick,cycle_targets=1,if=combo_strike\nactions.default_2t+=/faeline_stomp,if=combo_strike\nactions.default_2t+=/spinning_crane_kick,cycle_targets=1,if=(combo_strike&chi>5&talent.storm_earth_and_fire||combo_strike&chi>4&talent.serenity)\n\n# 1 Target\nactions.default_st+=/rising_sun_kick,if=!cooldown.fists_of_fury.remains\nactions.default_st+=/fists_of_fury,if=!buff.pressure_point.up&debuff.skyreach_exhaustion.remains<55\nactions.default_st+=/faeline_stomp,if=debuff.skyreach_exhaustion.remains<1&debuff.fae_exposure_damage.remains<3\nactions.default_st+=/rising_sun_kick,if=buff.pressure_point.up||debuff.skyreach_exhaustion.remains>55\nactions.default_st+=/blackout_kick,if=buff.pressure_point.remains&chi>2&prev.rising_sun_kick\nactions.default_st+=/strike_of_the_windlord,if=talent.thunderfist&(cooldown.invoke_xuen_the_white_tiger.remains>20||fight_remains<5)\nactions.default_st+=/rising_sun_kick,if=buff.kicks_of_flowing_momentum.up||buff.pressure_point.up||debuff.skyreach_exhaustion.remains>55\nactions.default_st+=/blackout_kick,if=buff.teachings_of_the_monastery.stack=3\nactions.default_st+=/fists_of_fury\nactions.default_st+=/rising_sun_kick\nactions.default_st+=/expel_harm,if=chi=1&(!cooldown.rising_sun_kick.remains||!cooldown.strike_of_the_windlord.remains)||chi=2&!cooldown.fists_of_fury.remains\nactions.default_st+=/chi_burst,if=buff.bloodlust.up&chi<5\nactions.default_st+=/blackout_kick,if=buff.teachings_of_the_monastery.stack=2&debuff.skyreach_exhaustion.remains>1\nactions.default_st+=/chi_burst,if=chi<5&energy<50\nactions.default_st+=/strike_of_the_windlord,if=debuff.skyreach_exhaustion.remains>30||fight_remains<5\nactions.default_st+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.default_st+=/blackout_kick,if=buff.teachings_of_the_monastery.up&cooldown.rising_sun_kick.remains>1\nactions.default_st+=/spinning_crane_kick,if=buff.bonedust_brew.up&combo_strike&spinning_crane_kick.modifier>=2.7\nactions.default_st+=/whirling_dragon_punch\nactions.default_st+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.default_st+=/blackout_kick,if=combo_strike\n\n# Bonedust Brew Setup\nactions.bdb_setup+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist&active_enemies>3\nactions.bdb_setup+=/bonedust_brew,if=spinning_crane_kick.max&chi>=4\nactions.bdb_setup+=/tiger_palm,cycle_targets=1,if=combo_strike&chi.max-chi>=2&buff.storm_earth_and_fire.up\nactions.bdb_setup+=/blackout_kick,cycle_targets=1,if=combo_strike&!talent.whirling_dragon_punch&!spinning_crane_kick.max\nactions.bdb_setup+=/rising_sun_kick,cycle_targets=1,if=combo_strike&chi>=5&talent.whirling_dragon_punch\nactions.bdb_setup+=/rising_sun_kick,cycle_targets=1,if=combo_strike&active_enemies>=2&talent.whirling_dragon_punch\n\n# Storm, Earth and Fire Cooldowns\nactions.cd_sef+=/call_action_list,name=sef_trinkets\nactions.cd_sef+=/summon_white_tiger_statue,if=pet.xuen_the_white_tiger.active\nactions.cd_sef+=/invoke_xuen_the_white_tiger,if=!variable.hold_xuen&fight_remains>25&talent.bonedust_brew&cooldown.bonedust_brew.remains<=5&(active_enemies<3&chi>=3||active_enemies>=3&chi>=2)||boss&fight_remains<25\nactions.cd_sef+=/invoke_xuen_the_white_tiger,if=!variable.hold_xuen&fight_remains>25&!talent.bonedust_brew&(cooldown.rising_sun_kick.remains<2)&chi>=3\nactions.cd_sef+=/storm_earth_and_fire,if=talent.bonedust_brew&(fight_remains<30&cooldown.bonedust_brew.remains<4&chi>=4||buff.bonedust_brew.up||!spinning_crane_kick.max&active_enemies>=3&cooldown.bonedust_brew.remains<=2&chi>=2)&(pet.xuen_the_white_tiger.active||cooldown.invoke_xuen_the_white_tiger.remains>cooldown.storm_earth_and_fire.full_recharge_time)\nactions.cd_sef+=/bonedust_brew,if=(!buff.bonedust_brew.up&buff.storm_earth_and_fire.up&buff.storm_earth_and_fire.remains<11&spinning_crane_kick.max)||(!buff.bonedust_brew.up&fight_remains<30&fight_remains>10&spinning_crane_kick.max&chi>=4)||fight_remains<10||((talent.skyreach.enabled||talent.skytouch.enabled)&!debuff.skyreach_exhaustion.up&active_enemies>=4&spinning_crane_kick.modifier>=2)||(pet.xuen_the_white_tiger.active&spinning_crane_kick.max&active_enemies>=4)\nactions.cd_sef+=/call_action_list,name=bdb_setup,if=!buff.bonedust_brew.up&talent.bonedust_brew&cooldown.bonedust_brew.remains<=2&(fight_remains>60&(cooldown.storm_earth_and_fire.charges>0||cooldown.storm_earth_and_fire.remains>10)&(pet.xuen_the_white_tiger.active||cooldown.invoke_xuen_the_white_tiger.remains>10||variable.hold_xuen)||((pet.xuen_the_white_tiger.active||cooldown.invoke_xuen_the_white_tiger.remains>13)&(cooldown.storm_earth_and_fire.charges>0||cooldown.storm_earth_and_fire.remains>13||buff.storm_earth_and_fire.up)))\nactions.cd_sef+=/storm_earth_and_fire,if=boss&fight_remains<20||(cooldown.storm_earth_and_fire.charges=2&cooldown.invoke_xuen_the_white_tiger.remains>cooldown.storm_earth_and_fire.full_recharge_time)&cooldown.fists_of_fury.remains<=9&chi>=2&cooldown.whirling_dragon_punch.remains<=12\nactions.cd_sef+=/storm_earth_and_fire,if=!talent.bonedust_brew&(pet.xuen_the_white_tiger.active||fight_remains>15&cooldown.storm_earth_and_fire.full_recharge_time<cooldown.invoke_xuen_the_white_tiger.remains)\n## actions.cd_sef+=/touch_of_death,cycle_targets=1,if=!boss&combo_strike&target.health<health\n## actions.cd_sef+=/touch_of_death,cycle_targets=1,if=!boss&combo_strike&(target.time_to_die>60||debuff.bonedust_brew_debuff.up||fight_remains<10)\nactions.cd_sef+=/touch_of_death,cycle_targets=1,if=combo_strike\nactions.cd_sef+=/touch_of_karma,cycle_targets=1,if=fight_remains>90||pet.xuen_the_white_tiger.active||variable.hold_xuen||boss&fight_remains<16\nactions.cd_sef+=/touch_of_karma,if=fight_remains>159||variable.hold_xuen\nactions.cd_sef+=/blood_fury,if=cooldown.invoke_xuen_the_white_tiger.remains>30||variable.hold_xuen||boss&fight_remains<20\nactions.cd_sef+=/berserking,if=cooldown.invoke_xuen_the_white_tiger.remains>30||variable.hold_xuen||boss&fight_remains<15\nactions.cd_sef+=/lights_judgment\nactions.cd_sef+=/fireblood,if=cooldown.invoke_xuen_the_white_tiger.remains>30||variable.hold_xuen||boss&fight_remains<10\nactions.cd_sef+=/ancestral_call,if=cooldown.invoke_xuen_the_white_tiger.remains>30||variable.hold_xuen||boss&fight_remains<20\nactions.cd_sef+=/bag_of_tricks,if=buff.storm_earth_and_fire.down\n\n# Serenity Cooldowns\nactions.cd_serenity+=/call_action_list,name=serenity_trinkets\nactions.cd_serenity+=/summon_white_tiger_statue,if=!cooldown.invoke_xuen_the_white_tiger.remains||active_enemies>4||cooldown.invoke_xuen_the_white_tiger.remains>50||boss&fight_remains<=30\nactions.cd_serenity+=/invoke_xuen_the_white_tiger,if=!variable.hold_xuen&talent.bonedust_brew&cooldown.bonedust_brew.remains<=5&target.time_to_die>25||buff.bloodlust.up||boss&fight_remains<25\nactions.cd_serenity+=/invoke_xuen_the_white_tiger,if=target.time_to_die>25&fight_remains>120||fight_remains<60&(debuff.skyreach_exhaustion.remains<2||debuff.skyreach_exhaustion.remains>55)&!cooldown.serenity.remains&active_enemies<3||buff.bloodlust.up||boss&fight_remains<23\nactions.cd_serenity+=/bonedust_brew,if=!buff.bonedust_brew.up&(cooldown.serenity.up||cooldown.serenity.remains>15||boss&fight_remains<30&fight_remains>10)||boss&fight_remains<10\nactions.cd_serenity+=/serenity,if=buff.invokers_delight.up||!talent.invokers_delight||variable.hold_xuen&(talent.drinking_horn_cover&fight_remains>110||!talent.drinking_horn_cover&fight_remains>105)||!talent.invoke_xuen_the_white_tiger||boss&fight_remains<15\n## actions.cd_serenity+=/touch_of_death,cycle_targets=1,if=!boss&combo_strike&target.health<health\n## actions.cd_serenity+=/touch_of_death,cycle_targets=1,if=!boss&combo_strike&(target.time_to_die>60||debuff.bonedust_brew_debuff.up||fight_remains<10)\nactions.cd_serenity+=/touch_of_death,cycle_targets=1,if=combo_strike&!buff.serenity.up&(target.health.current<health||buff.hidden_masters_forbidden_touch.up&(buff.hidden_masters_forbidden_touch.remains<2||buff.hidden_masters_forbidden_touch.remains>target.time_to_die)||target.time_to_die>60||debuff.bonedust_brew_debuff.up||boss&fight_remains<10)\nactions.cd_serenity+=/touch_of_karma,if=fight_remains>90||boss&fight_remains<10\nactions.cd_serenity+=/blood_fury,if=buff.serenity.up||boss&fight_remains<20\nactions.cd_serenity+=/berserking,if=buff.serenity.up||boss&fight_remains<20\nactions.cd_serenity+=/lights_judgment\nactions.cd_serenity+=/fireblood,if=buff.serenity.up||boss&fight_remains<20\nactions.cd_serenity+=/ancestral_call,if=buff.serenity.up||boss&fight_remains<20\nactions.cd_serenity+=/bag_of_tricks,if=buff.serenity.up||boss&fight_remains<20\n\n# Fallthru\nactions.fallthru+=/crackling_jade_lightning,if=buff.the_emperors_capacitor.stack>19&energy.time_to_max>execute_time-1&cooldown.rising_sun_kick.remains>execute_time||buff.the_emperors_capacitor.stack>14&(cooldown.serenity.remains<5&talent.serenity||boss&fight_remains<5)\nactions.fallthru+=/faeline_stomp,if=combo_strike\nactions.fallthru+=/tiger_palm,cycle_targets=1,if=combo_strike&chi.max-chi>=(2+buff.power_strikes.up)\nactions.fallthru+=/expel_harm,if=chi.max-chi>=1&active_enemies>2\nactions.fallthru+=/chi_burst,if=chi.max-chi>=1&active_enemies=1&raid_event.adds.in>20||chi.max-chi>=2&active_enemies>=2\nactions.fallthru+=/chi_wave\nactions.fallthru+=/expel_harm,if=chi.max-chi>=1\nactions.fallthru+=/blackout_kick,cycle_targets=1,if=combo_strike&active_enemies>=5\nactions.fallthru+=/spinning_crane_kick,if=combo_strike&buff.chi_energy.stack>30-5*active_enemies&buff.storm_earth_and_fire.down&(cooldown.rising_sun_kick.remains>2&cooldown.fists_of_fury.remains>2||cooldown.rising_sun_kick.remains<3&cooldown.fists_of_fury.remains>3&chi>3||cooldown.rising_sun_kick.remains>3&cooldown.fists_of_fury.remains<3&chi>4||chi.max-chi<=1&energy.time_to_max<2)||buff.chi_energy.stack>10&fight_remains<7\nactions.fallthru+=/arcane_torrent,if=chi.max-chi>=1\nactions.fallthru+=/flying_serpent_kick,interrupt=1\nactions.fallthru+=/tiger_palm\n\n# Opener\nactions.opener+=/summon_white_tiger_statue\nactions.opener+=/expel_harm,if=talent.chi_burst.enabled&chi.max-chi>=3\nactions.opener+=/tiger_palm,cycle_targets=1,if=combo_strike&chi.max-chi>=(2+buff.power_strikes.up)\nactions.opener+=/expel_harm,if=talent.chi_burst.enabled&chi=3\nactions.opener+=/chi_wave,if=chi.max-chi=2\nactions.opener+=/expel_harm\nactions.opener+=/chi_burst,if=chi>1&chi.max-chi>=2\n\n# Serenity Lust\nactions.serenity_lust+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<1\nactions.serenity_lust+=/fists_of_fury,cycle_targets=1,if=buff.serenity.remains<1\nactions.serenity_lust+=/blackout_kick,cycle_targets=1,if=combo_strike&buff.teachings_of_the_monastery.stack=3&buff.teachings_of_the_monastery.remains<1\nactions.serenity_lust+=/rising_sun_kick,cycle_targets=1\nactions.serenity_lust+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist\nactions.serenity_lust+=/fists_of_fury,if=buff.invokers_delight.up,interrupt=1,interrupt_if=buff.serenity.remains>=1&buff.invokers_delight.up\n## actions.serenity_lust+=/fists_of_fury_cancel\nactions.serenity_lust+=/blackout_kick,cycle_targets=1,if=combo_strike&set_bonus.tier30_2pc\nactions.serenity_lust+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.serenity_lust+=/blackout_kick,cycle_targets=1,if=combo_strike\nactions.serenity_lust+=/whirling_dragon_punch\nactions.serenity_lust+=/tiger_palm,cycle_targets=1,if=talent.teachings_of_the_monastery&buff.teachings_of_the_monastery.stack<3\n\n# Serenity >4 Targets\nactions.serenity_aoe+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<1\nactions.serenity_aoe+=/blackout_kick,cycle_targets=1,if=combo_strike&!spinning_crane_kick.max&talent.shadowboxing_treads\nactions.serenity_aoe+=/blackout_kick,cycle_targets=1,if=combo_strike&buff.teachings_of_the_monastery.stack=3&buff.teachings_of_the_monastery.remains<1\nactions.serenity_aoe+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.serenity_aoe+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up&set_bonus.tier30_2pc\nactions.serenity_aoe+=/rising_sun_kick,cycle_targets=1,if=set_bonus.tier30_2pc\nactions.serenity_aoe+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist&buff.call_to_dominance.up&debuff.skyreach_exhaustion.remains>buff.call_to_dominance.remains&active_enemies<10\nactions.serenity_aoe+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<2\nactions.serenity_aoe+=/fists_of_fury,cycle_targets=1,if=buff.invokers_delight.up,interrupt=1\n## actions.serenity_aoe+=/fists_of_fury_cancel,cycle_targets=1\nactions.serenity_aoe+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist\nactions.serenity_aoe+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.serenity_aoe+=/blackout_kick,cycle_targets=1,if=active_enemies<6&combo_strike&set_bonus.tier30_2pc\nactions.serenity_aoe+=/spinning_crane_kick,if=combo_strike&spinning_crane_kick.max\nactions.serenity_aoe+=/tiger_palm,cycle_targets=1,if=(talent.skyreach.enabled||talent.skytouch.enabled)&!debuff.skyreach_exhaustion.up&combo_strike&active_enemies=5\nactions.serenity_aoe+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.serenity_aoe+=/blackout_kick,cycle_targets=1,if=talent.shadowboxing_treads&active_enemies>=3&combo_strike\nactions.serenity_aoe+=/strike_of_the_windlord,cycle_targets=1\nactions.serenity_aoe+=/spinning_crane_kick,if=combo_strike\nactions.serenity_aoe+=/whirling_dragon_punch\nactions.serenity_aoe+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.serenity_aoe+=/blackout_kick,cycle_targets=1,if=combo_strike\nactions.serenity_aoe+=/tiger_palm,cycle_targets=1,if=talent.teachings_of_the_monastery&buff.teachings_of_the_monastery.stack<3\n\n# Serenity 4 Targets\nactions.serenity_4t+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<1\nactions.serenity_4t+=/tiger_palm,cycle_targets=1,if=(talent.skyreach.enabled||talent.skytouch.enabled)&!debuff.skyreach_exhaustion.up&combo_strike\nactions.serenity_4t+=/blackout_kick,cycle_targets=1,if=combo_strike&buff.teachings_of_the_monastery.stack=3&buff.teachings_of_the_monastery.remains<1\nactions.serenity_4t+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up&!talent.bonedust_brew\nactions.serenity_4t+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up&set_bonus.tier30_2pc\nactions.serenity_4t+=/rising_sun_kick,cycle_targets=1,if=set_bonus.tier30_2pc\nactions.serenity_4t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist&buff.call_to_dominance.up&debuff.skyreach_exhaustion.remains>buff.call_to_dominance.remains\nactions.serenity_4t+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<2\nactions.serenity_4t+=/fists_of_fury,cycle_targets=1,if=buff.invokers_delight.up,interrupt=1\n## actions.serenity_4t+=/fists_of_fury_cancel,cycle_targets=1\nactions.serenity_4t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist\nactions.serenity_4t+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.serenity_4t+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up\nactions.serenity_4t+=/blackout_kick,cycle_targets=1,if=combo_strike&set_bonus.tier30_2pc\nactions.serenity_4t+=/spinning_crane_kick,if=combo_strike&spinning_crane_kick.max\nactions.serenity_4t+=/blackout_kick,cycle_targets=1,if=talent.shadowboxing_treads&combo_strike\nactions.serenity_4t+=/strike_of_the_windlord,cycle_targets=1\nactions.serenity_4t+=/spinning_crane_kick,if=combo_strike\nactions.serenity_4t+=/whirling_dragon_punch\nactions.serenity_4t+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.serenity_4t+=/blackout_kick,cycle_targets=1,if=combo_strike\nactions.serenity_4t+=/tiger_palm,cycle_targets=1,if=talent.teachings_of_the_monastery&buff.teachings_of_the_monastery.stack<3\n\n# Serenity 3 Targets\nactions.serenity_3t+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<1\nactions.serenity_3t+=/tiger_palm,cycle_targets=1,if=(talent.skyreach.enabled||talent.skytouch.enabled)&!debuff.skyreach_exhaustion.up&combo_strike\nactions.serenity_3t+=/blackout_kick,cycle_targets=1,if=combo_strike&buff.teachings_of_the_monastery.stack=3&buff.teachings_of_the_monastery.remains<1\nactions.serenity_3t+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up\nactions.serenity_3t+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up&set_bonus.tier30_2pc\nactions.serenity_3t+=/rising_sun_kick,cycle_targets=1,if=set_bonus.tier30_2pc\nactions.serenity_3t+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<2\nactions.serenity_3t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist&buff.call_to_dominance.up&debuff.skyreach_exhaustion.remains>buff.call_to_dominance.remains\nactions.serenity_3t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist&debuff.skyreach_exhaustion.remains>55\nactions.serenity_3t+=/fists_of_fury,cycle_targets=1,if=buff.invokers_delight.up,interrupt=1\n## actions.serenity_3t+=/fists_of_fury_cancel,cycle_targets=1\nactions.serenity_3t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist\nactions.serenity_3t+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up&spinning_crane_kick.max\nactions.serenity_3t+=/blackout_kick,cycle_targets=1,if=combo_strike&set_bonus.tier30_2pc\nactions.serenity_3t+=/spinning_crane_kick,if=combo_strike\nactions.serenity_3t+=/blackout_kick,cycle_targets=1,if=combo_strike&buff.teachings_of_the_monastery.stack=2\nactions.serenity_3t+=/blackout_kick,cycle_targets=1,if=talent.shadowboxing_treads&combo_strike\nactions.serenity_3t+=/strike_of_the_windlord,cycle_targets=1\nactions.serenity_3t+=/spinning_crane_kick,if=combo_strike\nactions.serenity_3t+=/whirling_dragon_punch\nactions.serenity_3t+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.serenity_3t+=/blackout_kick,cycle_targets=1,if=combo_strike\nactions.serenity_3t+=/tiger_palm,cycle_targets=1,if=talent.teachings_of_the_monastery&buff.teachings_of_the_monastery.stack<3\n\n# Serenity 2 Targets\nactions.serenity_2t+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<2&!debuff.skyreach_exhaustion.remains<2&!debuff.skyreach_exhaustion.remains\nactions.serenity_2t+=/tiger_palm,cycle_targets=1,if=(talent.skyreach.enabled||talent.skytouch.enabled)&!debuff.skyreach_exhaustion.up&combo_strike\nactions.serenity_2t+=/blackout_kick,cycle_targets=1,if=combo_strike&buff.teachings_of_the_monastery.stack=3&buff.teachings_of_the_monastery.remains<1\nactions.serenity_2t+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up\nactions.serenity_2t+=/rising_sun_kick,cycle_targets=1,if=buff.pressure_point.up&set_bonus.tier30_2pc\nactions.serenity_2t+=/rising_sun_kick,cycle_targets=1,if=set_bonus.tier30_2pc\nactions.serenity_2t+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<2\nactions.serenity_2t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist&buff.call_to_dominance.up&debuff.skyreach_exhaustion.remains>buff.call_to_dominance.remains\nactions.serenity_2t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist&debuff.skyreach_exhaustion.remains>55\nactions.serenity_2t+=/fists_of_fury,cycle_targets=1,if=buff.invokers_delight.up,interrupt=1\n## actions.serenity_2t+=/fists_of_fury_cancel,cycle_targets=1\nactions.serenity_2t+=/strike_of_the_windlord,cycle_targets=1,if=talent.thunderfist\nactions.serenity_2t+=/blackout_kick,cycle_targets=1,if=combo_strike&set_bonus.tier30_2pc\nactions.serenity_2t+=/blackout_kick,cycle_targets=1,if=combo_strike&buff.teachings_of_the_monastery.stack=2\nactions.serenity_2t+=/blackout_kick,cycle_targets=1,if=cooldown.fists_of_fury.remains>5&talent.shadowboxing_treads&buff.teachings_of_the_monastery.stack=1&combo_strike\nactions.serenity_2t+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.serenity_2t+=/spinning_crane_kick,if=combo_strike\nactions.serenity_2t+=/whirling_dragon_punch\nactions.serenity_2t+=/blackout_kick,cycle_targets=1,if=combo_strike\nactions.serenity_2t+=/tiger_palm,cycle_targets=1,if=talent.teachings_of_the_monastery&buff.teachings_of_the_monastery.stack<3\n\n# Serenity 1 Target\nactions.serenity_st+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<2&!debuff.skyreach_exhaustion.remains\nactions.serenity_st+=/tiger_palm,if=(talent.skyreach.enabled||talent.skytouch.enabled)&!debuff.skyreach_exhaustion.up&combo_strike\nactions.serenity_st+=/blackout_kick,if=combo_strike&buff.teachings_of_the_monastery.stack=3&buff.teachings_of_the_monastery.remains<1\nactions.serenity_st+=/rising_sun_kick\nactions.serenity_st+=/faeline_stomp,if=debuff.fae_exposure_damage.remains<2\nactions.serenity_st+=/strike_of_the_windlord,if=talent.thunderfist&buff.call_to_dominance.up&debuff.skyreach_exhaustion.remains>buff.call_to_dominance.remains\nactions.serenity_st+=/strike_of_the_windlord,if=talent.thunderfist&debuff.skyreach_exhaustion.remains>55\nactions.serenity_st+=/fists_of_fury,if=buff.invokers_delight.up,interrupt=1\n## actions.serenity_st+=/fists_of_fury_cancel\nactions.serenity_st+=/strike_of_the_windlord,if=debuff.skyreach_exhaustion.remains>buff.call_to_dominance.remains\nactions.serenity_st+=/blackout_kick,if=combo_strike&set_bonus.tier30_2pc\nactions.serenity_st+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.serenity_st+=/blackout_kick,if=combo_strike\nactions.serenity_st+=/whirling_dragon_punch\nactions.serenity_st+=/tiger_palm,if=talent.teachings_of_the_monastery&buff.teachings_of_the_monastery.stack<3\n\n# ST Priority (<3 Targets)\nactions.st_cleave=blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3&talent.shadowboxing_treads\nactions.st_cleave+=/spinning_crane_kick,if=combo_strike&buff.dance_of_chiji.up\nactions.st_cleave+=/strike_of_the_windlord,if=talent.thunderfist\nactions.st_cleave+=/rising_sun_kick,cycle_targets=1,if=active_enemies=1&buff.kicks_of_flowing_momentum.up||buff.pressure_point.up\nactions.st_cleave+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=2&talent.shadowboxing_treads\nactions.st_cleave+=/strike_of_the_windlord\nactions.st_cleave+=/fists_of_fury\nactions.st_cleave+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.up&(talent.shadowboxing_treads&active_enemies>1||cooldown.rising_sun_kick.remains>1)\nactions.st_cleave+=/whirling_dragon_punch,if=active_enemies=2\nactions.st_cleave+=/blackout_kick,cycle_targets=1,if=buff.teachings_of_the_monastery.stack=3\nactions.st_cleave+=/rising_sun_kick,cycle_targets=1,if=(active_enemies=1||!talent.shadowboxing_treads)&cooldown.fists_of_fury.remains>4&talent.xuens_battlegear\nactions.st_cleave+=/blackout_kick,cycle_targets=1,if=combo_strike&active_enemies=2&cooldown.rising_sun_kick.remains&cooldown.fists_of_fury.remains&(!buff.bonedust_brew.up||spinning_crane_kick.modifier<1.5)\nactions.st_cleave+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up&active_enemies=2\nactions.st_cleave+=/spinning_crane_kick,if=buff.bonedust_brew.up&combo_strike&(active_enemies>1||spinning_crane_kick.modifier>=2.7)\nactions.st_cleave+=/rising_sun_kick,cycle_targets=1\nactions.st_cleave+=/whirling_dragon_punch\nactions.st_cleave+=/rushing_jade_wind,if=!buff.rushing_jade_wind.up\nactions.st_cleave+=/blackout_kick,cycle_targets=1,if=combo_strike\n\n# SEF Trinkets\nactions.sef_trinkets+=/horn_of_valor,if=pet.xuen_the_white_tiger.active||!talent.invoke_xuen_the_white_tiger&buff.storm_earth_and_fire.up||boss&fight_remains<30\nactions.sef_trinkets+=/manic_grieftorch,if=(boss||target.time_to_die>1+cast_time)&(trinket.1.is.manic_grieftorch&!trinket.2.has_use_buff||trinket.2.is.manic_grieftorch&!trinket.1.has_use_buff)\nactions.sef_trinkets+=/algethar_puzzle_box,if=(pet.xuen_the_white_tiger.active||!talent.invoke_xuen_the_white_tiger)&!buff.storm_earth_and_fire.up||boss&fight_remains<25\nactions.sef_trinkets+=/use_item,slot=trinket1,if=trinket.1.has_use_buff&!(trinket.1.is.horn_of_valor||trinket.1.is.manic_grieftorch||trinket.1.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>cooldown%%120||cooldown<=60&variable.hold_xuen||cooldown<=60&buff.storm_earth_and_fire.remains>10||!talent.invoke_xuen_the_white_tiger)||boss&fight_remains<30\nactions.sef_trinkets+=/use_item,slot=trinket1,if=!trinket.1.has_use_buff&!(trinket.1.is.horn_of_valor||trinket.1.is.manic_grieftorch||trinket.1.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>cooldown%%120||cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger)||boss&fight_remains<30\nactions.sef_trinkets+=/use_item,slot=trinket2,if=trinket.2.has_use_buff&!(trinket.2.is.horn_of_valor||trinket.2.is.manic_grieftorch||trinket.2.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>cooldown%%120||cooldown<=60&variable.hold_xuen||cooldown<=60&buff.storm_earth_and_fire.remains>10||!talent.invoke_xuen_the_white_tiger)||boss&fight_remains<30\nactions.sef_trinkets+=/use_item,slot=trinket2,if=!trinket.2.has_use_buff&!(trinket.2.is.horn_of_valor||trinket.2.is.manic_grieftorch||trinket.2.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>cooldown%%120||cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger)||boss&fight_remains<30\n\n# Serenity Trinkets\nactions.serenity_trinkets+=/horn_of_valor,if=pet.xuen_the_white_tiger.active||!talent.invoke_xuen_the_white_tiger&buff.storm_earth_and_fire.up||boss&fight_remains<30\nactions.serenity_trinkets+=/manic_grieftorch,if=(boss||target.time_to_die>1+cast_time)&(trinket.1.is.manic_grieftorch&!trinket.2.has_use_buff||trinket.2.is.manic_grieftorch&!trinket.1.has_use_buff)\nactions.serenity_trinkets+=/algethar_puzzle_box,if=(pet.xuen_the_white_tiger.active||!talent.invoke_xuen_the_white_tiger)&!buff.storm_earth_and_fire.up||boss&fight_remains<25\nactions.serenity_trinkets+=/use_item,slot=trinket1,if=trinket.1.has_use_buff&!(trinket.1.is.horn_of_valor||trinket.1.is.manic_grieftorch||trinket.1.is.algethar_puzzle_box)&buff.serenity.remains>10||boss&fight_remains<30\nactions.serenity_trinkets+=/use_item,slot=trinket1,if=!trinket.1.has_use_buff&!(trinket.1.is.horn_of_valor||trinket.1.is.manic_grieftorch||trinket.1.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>cooldown%%120||cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger)||boss&fight_remains<30\nactions.serenity_trinkets+=/use_item,slot=trinket2,if=trinket.2.has_use_buff&!(trinket.2.is.horn_of_valor||trinket.2.is.manic_grieftorch||trinket.2.is.algethar_puzzle_box)&buff.serenity.remains>10||boss&fight_remains<30\nactions.serenity_trinkets+=/use_item,slot=trinket2,if=!trinket.2.has_use_buff&!(trinket.2.is.horn_of_valor||trinket.2.is.manic_grieftorch||trinket.2.is.algethar_puzzle_box)&(cooldown.invoke_xuen_the_white_tiger.remains>cooldown%%120||cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger)||boss&fight_remains<30\nactions.serenity_trinkets+=/use_items,if=cooldown.invoke_xuen_the_white_tiger.remains>cooldown%%120||cooldown<=60&variable.hold_xuen||!talent.invoke_xuen_the_white_tiger",
				},
				["Vengeance"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230826,
					["spec"] = 581,
					["desc"] = "2023-08-26: Update to simplified priority list.\n\n2023-08-07: Beacon/DFB usage adjusted.\n\n2023-07-31: SimC adjusted Meta and Beacon usage.\n\n2023-07-20: Add missing single-target lines and updates.\n\n2023-07-19: Import updates from SimC and flatten priority (don't break out into action lists that don't improve efficiency).\n\n2023-07-16: Implement Vengeance overhaul from SimC.\n\n2023-07-11: Patch 10.1.5 update.\n\n2023-05-20: Added trinkets.",
					["profile"] = "actions.precombat+=/sigil_of_flame\nactions.precombat+=/immolation_aura\n\nactions+=/disrupt\nactions+=/consume_magic\n# When will the next fire damage cooldown be available?\nactions+=/variable,name=next_fire_cd_time,value=cooldown.fel_devastation.remains\nactions+=/variable,name=next_fire_cd_time,op=min,value=cooldown.soul_carver.remains,if=talent.soul_carver\n### Variable 'incoming_souls' moved into the addon module.\n## actions+=/variable,name=incoming_souls,op=reset\n## actions+=/variable,name=incoming_souls,op=add,value=2,if=prev_gcd.1.fracture&!buff.metamorphosis.up\n## actions+=/variable,name=incoming_souls,op=add,value=3,if=prev_gcd.1.fracture&buff.metamorphosis.up\n## actions+=/variable,name=incoming_souls,op=add,value=2,if=talent.soul_sigils&(prev_gcd.2.sigil_of_flame||prev_gcd.2.sigil_of_silence||prev_gcd.2.sigil_of_chains||prev_gcd.2.elysian_decree)\n## actions+=/variable,name=incoming_souls,op=add,value=active_enemies>?3,if=talent.elysian_decree&prev_gcd.2.elysian_decree\n## actions+=/variable,name=incoming_souls,op=add,value=0.6*active_enemies>?5,if=talent.fallout&prev_gcd.1.immolation_aura\n## actions+=/variable,name=incoming_souls,op=add,value=active_enemies>?5,if=talent.bulk_extraction&prev_gcd.1.bulk_extraction\n## actions+=/variable,name=incoming_souls,op=add,value=3-(cooldown.soul_carver.duration-ceil(cooldown.soul_carver.remains)),if=talent.soul_carver&cooldown.soul_carver.remains>57\n# Fiery Demise is up\nactions+=/variable,name=fd,value=talent.fiery_demise&dot.fiery_brand.ticking\nactions+=/infernal_strike,use_off_gcd=1,if=charges=max_charges&target.distance>10\nactions+=/demon_spikes,use_off_gcd=1,if=!buff.demon_spikes.up&tanking\n## Externals - pruned.\nactions+=/metamorphosis,use_off_gcd=1,if=talent.first_of_the_illidari&(trinket.beacon_to_the_beyond.cooldown.remains<10||fight_remains<=20||!equipped.beacon_to_the_beyond||fight_remains%%120>5&fight_remains%%120<30)\nactions+=/infernal_strike,use_off_gcd=1\nactions+=/potion\n## Trinkets\nactions+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1\nactions+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=!talent.first_of_the_illidari||buff.metamorphosis.up||fight_remains<=10||cooldown.metamorphosis.remains>25\nactions+=/use_item,name=dragonfire_bomb_dispenser,use_off_gcd=1,if=trinket.beacon_to_the_beyond.cooldown.remains>5||!equipped.beacon_to_the_beyond\nactions+=/use_items\n## Maintenance & upkeep\nactions+=/fiery_brand,if=(!ticking&active_dot.fiery_brand=0)||charges>=2||(full_recharge_time<=cast_time+gcd.remains)\nactions+=/bulk_extraction,if=active_enemies>=(5-soul_fragments)\nactions+=/spirit_bomb,if=soul_fragments>=5\nactions+=/fracture,cycle_targets=1,if=active_enemies>1&buff.recrimination.up\nactions+=/fracture,if=(full_recharge_time<=cast_time+gcd.remains)\nactions+=/immolation_aura,if=!talent.fallout||soul_fragments<5\nactions+=/sigil_of_flame\nactions+=/metamorphosis,if=talent.demonic&!buff.metamorphosis.up&!cooldown.fel_devastation.up\nactions+=/call_action_list,name=single_target,strict=1,if=active_enemies=1\nactions+=/call_action_list,name=small_aoe,strict=1,if=active_enemies>1&active_enemies<=5\nactions+=/call_action_list,name=big_aoe,strict=1,if=active_enemies>=6\nactions+=/call_action_list,name=filler\n\n# Single Target\nactions.single_target+=/fel_devastation,if=!(talent.demonic&buff.metamorphosis.up)\nactions.single_target+=/soul_carver\nactions.single_target+=/the_hunt\nactions.single_target+=/elysian_decree\nactions.single_target+=/fracture,if=set_bonus.tier30_4pc&variable.fd&soul_fragments<=4&soul_fragments>=1\nactions.single_target+=/spirit_bomb,if=soul_fragments>=4\nactions.single_target+=/soul_cleave,if=talent.focused_cleave\nactions.single_target+=/spirit_bomb,if=variable.fd&soul_fragments>=3\nactions.single_target+=/fracture,if=soul_fragments<=3&soul_fragments>=1\nactions.single_target+=/soul_cleave,if=soul_fragments<=1\n\n# 2-5 targets\nactions.small_aoe+=/fel_devastation,if=!(talent.demonic&buff.metamorphosis.up)\nactions.small_aoe+=/the_hunt\nactions.small_aoe+=/elysian_decree,if=(soul_fragments+variable.incoming_souls)<=2\nactions.small_aoe+=/soul_carver,if=(soul_fragments+variable.incoming_souls)<=3\nactions.small_aoe+=/fracture,if=soul_fragments<=3&soul_fragments>=1\nactions.small_aoe+=/spirit_bomb,if=soul_fragments>=3\nactions.small_aoe+=/soul_cleave,if=(talent.focused_cleave||(soul_fragments<=2&variable.incoming_souls=0))\n\n# 6+ targets\nactions.big_aoe+=/spirit_bomb,if=(active_enemies<=7&soul_fragments>=4)||(active_enemies>7&soul_fragments>=3)\nactions.big_aoe+=/fel_devastation,if=!(talent.demonic&buff.metamorphosis.up)\nactions.big_aoe+=/the_hunt\nactions.big_aoe+=/elysian_decree,if=(soul_fragments+variable.incoming_souls)<=2\nactions.big_aoe+=/soul_carver,if=(soul_fragments+variable.incoming_souls)<=3\nactions.big_aoe+=/fracture,if=soul_fragments>=2\nactions.big_aoe+=/spirit_bomb,if=soul_fragments>=3\nactions.big_aoe+=/soul_cleave,if=soul_fragments<=2&variable.incoming_souls=0\n\n# Filler\nactions.filler+=/sigil_of_flame\nactions.filler+=/immolation_aura\nactions.filler+=/fracture\nactions.filler+=/shear\nactions.filler+=/felblade\nactions.filler+=/spirit_bomb,if=soul_fragments>=3\nactions.filler+=/soul_cleave,if=soul_fragments<=1\nactions.filler+=/throw_glaive,if=gcd.remains>=0.5*gcd.max",
					["version"] = 20230826,
					["warnings"] = "The import for 'single_target' required some automated changes.\nLine 1: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 7: Converted 'talent.focused_cleave' to 'talent.focused_cleave.enabled' (1x).\n\nThe import for 'big_aoe' required some automated changes.\nLine 2: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 4: Converted 'talent.soul_carver' to 'talent.soul_carver.enabled' (1x).\nLine 5: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 8: Converted 'talent.first_of_the_illidari' to 'talent.first_of_the_illidari.enabled' (1x).\nLine 8: Converted 'trinket.beacon_to_the_beyond.cooldown.remains' to 'cooldown.beacon_to_the_beyond.remains'.\nLine 8: Converted operations in 'talent.first_of_the_illidari.enabled&(cooldown.beacon_to_the_beyond.remains<10||fight_remains<=20||!equipped.beacon_to_the_beyond||fight_remains%%120>5&fight_remains%%120<30)' to 'talent.first_of_the_illidari.enabled&(cooldown.beacon_to_the_beyond.remains<10||fight_remains<=20||!equipped.beacon_to_the_beyond||fight_remains%120>5&fight_remains%120<30)'.\nLine 12: Converted 'talent.first_of_the_illidari' to 'talent.first_of_the_illidari.enabled' (1x).\nLine 13: Converted 'trinket.beacon_to_the_beyond.cooldown.remains' to 'cooldown.beacon_to_the_beyond.remains'.\nLine 20: Converted 'talent.fallout' to 'talent.fallout.enabled' (1x).\nLine 22: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\n\nThe import for 'small_aoe' required some automated changes.\nLine 1: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 7: Converted 'talent.focused_cleave' to 'talent.focused_cleave.enabled' (1x).\n\nImported 6 action lists.\n",
					["lists"] = {
						["single_target"] = {
							{
								["enabled"] = true,
								["criteria"] = "! ( talent.demonic.enabled & buff.metamorphosis.up )",
								["action"] = "fel_devastation",
								["description"] = "Single Target",
							}, -- [1]
							{
								["action"] = "soul_carver",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "the_hunt",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "elysian_decree",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & variable.fd & soul_fragments <= 4 & soul_fragments >= 1",
								["action"] = "fracture",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 4",
								["action"] = "spirit_bomb",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.focused_cleave.enabled",
								["action"] = "soul_cleave",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "variable.fd & soul_fragments >= 3",
								["action"] = "spirit_bomb",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 3 & soul_fragments >= 1",
								["action"] = "fracture",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 1",
								["action"] = "soul_cleave",
							}, -- [10]
						},
						["big_aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies <= 7 & soul_fragments >= 4 ) || ( active_enemies > 7 & soul_fragments >= 3 )",
								["action"] = "spirit_bomb",
								["description"] = "6+ targets",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! ( talent.demonic.enabled & buff.metamorphosis.up )",
								["action"] = "fel_devastation",
							}, -- [2]
							{
								["action"] = "the_hunt",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( soul_fragments + variable.incoming_souls ) <= 2",
								["action"] = "elysian_decree",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( soul_fragments + variable.incoming_souls ) <= 3",
								["action"] = "soul_carver",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 2",
								["action"] = "fracture",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 3",
								["action"] = "spirit_bomb",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 2 & variable.incoming_souls = 0",
								["action"] = "soul_cleave",
							}, -- [8]
						},
						["default"] = {
							{
								["action"] = "disrupt",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "consume_magic",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.fel_devastation.remains",
								["description"] = "When will the next fire damage cooldown be available?",
								["var_name"] = "next_fire_cd_time",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "min",
								["action"] = "variable",
								["value"] = "cooldown.soul_carver.remains",
								["criteria"] = "talent.soul_carver.enabled",
								["var_name"] = "next_fire_cd_time",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.fiery_demise.enabled & dot.fiery_brand.ticking",
								["description"] = "Fiery Demise is up",
								["var_name"] = "fd",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "infernal_strike",
								["criteria"] = "charges = max_charges & target.distance > 10",
								["use_off_gcd"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "demon_spikes",
								["criteria"] = "! buff.demon_spikes.up & tanking",
								["use_off_gcd"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "metamorphosis",
								["criteria"] = "talent.first_of_the_illidari.enabled & ( cooldown.beacon_to_the_beyond.remains < 10 || fight_remains <= 20 || ! equipped.beacon_to_the_beyond || fight_remains % 120 > 5 & fight_remains % 120 < 30 )",
								["use_off_gcd"] = 1,
							}, -- [8]
							{
								["use_off_gcd"] = 1,
								["action"] = "infernal_strike",
								["enabled"] = true,
							}, -- [9]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [10]
							{
								["enabled"] = true,
								["name"] = "elementium_pocket_anvil",
								["action"] = "elementium_pocket_anvil",
								["use_off_gcd"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["name"] = "beacon_to_the_beyond",
								["criteria"] = "! talent.first_of_the_illidari.enabled || buff.metamorphosis.up || fight_remains <= 10 || cooldown.metamorphosis.remains > 25",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "dragonfire_bomb_dispenser",
								["use_off_gcd"] = 1,
								["name"] = "dragonfire_bomb_dispenser",
								["criteria"] = "cooldown.beacon_to_the_beyond.remains > 5 || ! equipped.beacon_to_the_beyond",
							}, -- [13]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "( ! ticking & active_dot.fiery_brand = 0 ) || charges >= 2 || ( full_recharge_time <= cast_time + gcd.remains )",
								["action"] = "fiery_brand",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= ( 5 - soul_fragments )",
								["action"] = "bulk_extraction",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 5",
								["action"] = "spirit_bomb",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "fracture",
								["criteria"] = "active_enemies > 1 & buff.recrimination.up",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "( full_recharge_time <= cast_time + gcd.remains )",
								["action"] = "fracture",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! talent.fallout.enabled || soul_fragments < 5",
								["action"] = "immolation_aura",
							}, -- [20]
							{
								["action"] = "sigil_of_flame",
								["enabled"] = true,
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "talent.demonic.enabled & ! buff.metamorphosis.up & ! cooldown.fel_devastation.up",
								["action"] = "metamorphosis",
							}, -- [22]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies = 1",
								["list_name"] = "single_target",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 1 & active_enemies <= 5",
								["list_name"] = "small_aoe",
							}, -- [24]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies >= 6",
								["list_name"] = "big_aoe",
							}, -- [25]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "filler",
							}, -- [26]
						},
						["precombat"] = {
							{
								["action"] = "sigil_of_flame",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "immolation_aura",
								["enabled"] = true,
							}, -- [2]
						},
						["small_aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "! ( talent.demonic.enabled & buff.metamorphosis.up )",
								["action"] = "fel_devastation",
								["description"] = "2-5 targets",
							}, -- [1]
							{
								["action"] = "the_hunt",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( soul_fragments + variable.incoming_souls ) <= 2",
								["action"] = "elysian_decree",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( soul_fragments + variable.incoming_souls ) <= 3",
								["action"] = "soul_carver",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 3 & soul_fragments >= 1",
								["action"] = "fracture",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 3",
								["action"] = "spirit_bomb",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( talent.focused_cleave.enabled || ( soul_fragments <= 2 & variable.incoming_souls = 0 ) )",
								["action"] = "soul_cleave",
							}, -- [7]
						},
						["filler"] = {
							{
								["enabled"] = true,
								["description"] = "Filler",
								["action"] = "sigil_of_flame",
							}, -- [1]
							{
								["action"] = "immolation_aura",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "fracture",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "shear",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "felblade",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 3",
								["action"] = "spirit_bomb",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 1",
								["action"] = "soul_cleave",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "gcd.remains >= 0.5 * gcd.max",
								["action"] = "throw_glaive",
							}, -- [8]
						},
					},
					["author"] = "SimC",
				},
				["Restoration Shaman"] = {
					["builtIn"] = true,
					["date"] = 20230321.1,
					["spec"] = 264,
					["desc"] = "2023-03-21:  Add Healing Rain (Acid Rain) and Stormkeeper to DPS priority.",
					["profile"] = "actions.precombat+=/earthliving_weapon\nactions.precombat+=/water_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank\nactions.precombat+=/lightning_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank\nactions.precombat+=/earth_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank\nactions.precombat+=/earth_elemental\nactions.precombat+=/potion\n\nactions+=/spiritwalkers_grace,moving=1,if=movement.distance>6\n# Interrupt of casts.\nactions+=/wind_shear\nactions+=/potion\nactions+=/use_items\nactions+=/blood_fury\nactions+=/berserking\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/healing_rain,if=!moving&talent.acid_rain\nactions+=/stormkeeper\nactions+=/flame_shock,cycle_targets=1,if=active_enemies<3&refreshable\nactions+=/primordial_wave\nactions+=/lava_burst,if=(active_enemies=1||active_enemies=2&buff.lava_surge.up)&dot.flame_shock.remains>cast_time&cooldown_react\nactions+=/earth_elemental\nactions+=/lightning_bolt,if=spell_targets.chain_lightning<2||!talent.chain_lightning\nactions+=/chain_lightning,if=spell_targets.chain_lightning>1\nactions+=/flame_shock,moving=1\nactions+=/frost_shock,moving=1",
					["version"] = 20230321.1,
					["warnings"] = "The import for 'default' required some automated changes.\nLine 10: Converted 'talent.acid_rain' to 'talent.acid_rain.enabled' (1x).\nLine 16: Converted 'talent.chain_lightning' to 'talent.chain_lightning.enabled' (1x).\n\nImported 2 action lists.\n",
					["author"] = "Hekili",
					["lists"] = {
						["default"] = {
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["criteria"] = "movement.distance > 6",
								["enabled"] = true,
								["action"] = "spiritwalkers_grace",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Interrupt of casts.",
								["action"] = "wind_shear",
							}, -- [2]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [8]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "! moving & talent.acid_rain.enabled",
								["action"] = "healing_rain",
							}, -- [10]
							{
								["action"] = "stormkeeper",
								["enabled"] = true,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies < 3 & refreshable",
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["action"] = "primordial_wave",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies = 1 || active_enemies = 2 & buff.lava_surge.up ) & dot.flame_shock.remains > cast_time & cooldown_react",
								["action"] = "lava_burst",
							}, -- [14]
							{
								["action"] = "earth_elemental",
								["enabled"] = true,
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.chain_lightning < 2 || ! talent.chain_lightning.enabled",
								["action"] = "lightning_bolt",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.chain_lightning > 1",
								["action"] = "chain_lightning",
							}, -- [17]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["enabled"] = true,
							}, -- [18]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "frost_shock",
								["enabled"] = true,
							}, -- [19]
						},
						["precombat"] = {
							{
								["action"] = "earthliving_weapon",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank",
								["action"] = "water_shield",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank",
								["action"] = "lightning_shield",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank",
								["action"] = "earth_shield",
							}, -- [4]
							{
								["action"] = "earth_elemental",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [6]
						},
					},
				},
				["Balance"] = {
					["source"] = "https://balance-simc.github.io/Balance-SimC/md.html?file=balance.txt",
					["builtIn"] = true,
					["date"] = 20230910,
					["author"] = "SimC",
					["desc"] = "2023-09-10: Minor update to trinket and flow.\n\n2023-08-08: Minor SimC update.\n\n2023-07-11: Patch 10.1.5 update.\n\n2023-06-24:  Adjust AOE variable, Solar Eclipse ST variable, AOE Starfire/Wrath usage in Eclipses.\n\n2023-05-28:  Minor update for Spoils trinket.\n\n2023-05-22:  Tweak Fury of Elune.\n\n2023-05-20:  Starlord canceling is a thing again.\n\n2023-05-13:  Use new action.X.energize_amount syntax from SimC.\n\n2023-05-08:  Updates from SimC impacting Starsurge usage.\n\n2023-05-06:  Minor updates.\n\n2023-05-02:  Updates for 10.1 from SimC.\n\n2023-04-17:  Adjust on_use_trinket variable.\n\n2023-02-25:  Added single-target use of Starfall with Touch the Cosmos.",
					["lists"] = {
						["aoe"] = {
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "! boss & refreshable & ( target.time_to_die - remains ) > 6 & astral_power.deficit > variable.passive_asp + 3",
								["cycle_targets"] = 1,
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! druid.no_cds & ( cooldown.ca_inc.remains < 5 & ! buff.ca_inc.up & ( target.time_to_die > 10 || boss & fight_remains < 25 + 10 * talent.incarnation_chosen_of_elune.enabled ) )",
								["var_name"] = "cd_condition_aoe",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "refreshable & ( target.time_to_die - remains ) > 6 - ( spell_targets / 2 ) & astral_power.deficit > variable.passive_asp + 3",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "boss & refreshable & ( target.time_to_die - remains ) > 6 & astral_power.deficit > variable.passive_asp + 3",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "stellar_flare",
								["criteria"] = "refreshable & ( target.time_to_die - remains - spell_targets.starfire ) > 8 + spell_targets.starfire & astral_power.deficit > variable.passive_asp + 8 & spell_targets.starfire < ( 11 - talent.umbral_intensity.rank - talent.astral_smolder.rank ) & variable.cd_condition_aoe",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( variable.cd_condition_aoe & ( talent.orbital_strike.enabled & astral_power.deficit < variable.passive_asp + 8 * spell_targets || buff.touch_the_cosmos.up ) || astral_power.deficit < ( variable.passive_asp + 8 + 12 * ( buff.eclipse_lunar.remains < 4 || buff.eclipse_solar.remains < 4 ) ) )",
								["action"] = "cancel_buff",
								["buff_name"] = "starlord",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_aoe & ( talent.orbital_strike.enabled & astral_power.deficit < variable.passive_asp + 8 * spell_targets || buff.touch_the_cosmos.up ) || astral_power.deficit < ( variable.passive_asp + 8 + 12 * ( buff.eclipse_lunar.remains < 4 || buff.eclipse_solar.remains < 4 ) )",
								["action"] = "starfall",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_aoe",
								["action"] = "celestial_alignment",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_aoe",
								["action"] = "incarnation",
							}, -- [9]
							{
								["action"] = "warrior_of_elune",
								["enabled"] = true,
							}, -- [10]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.starfire < 3",
								["var_name"] = "enter_solar",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "variable.enter_solar & ( eclipse.any_next || buff.eclipse_solar.remains < action.starfire.cast_time )",
								["action"] = "starfire",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "! variable.enter_solar & ( eclipse.any_next || buff.eclipse_lunar.remains < action.wrath.cast_time )",
								["action"] = "wrath",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20 & ( ! talent.fungal_growth.enabled || ! talent.waning_twilight.enabled || dot.fungal_growth.remains < 2 & target.time_to_die > 7 & ! prev_gcd.1.wild_mushroom )",
								["action"] = "wild_mushroom",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "target.time_to_die > 2 & ( buff.ca_inc.remains > 3 || cooldown.ca_inc.remains > 30 & buff.primordial_arcanic_pulsar.value <= 280 || buff.primordial_arcanic_pulsar.value >= 560 & astral_power > 50 ) || boss & fight_remains < 10",
								["action"] = "fury_of_elune",
							}, -- [15]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "target.time_to_die > 4 & ( buff.starweavers_warp.up || talent.starlord.enabled & buff.starlord.stack < 3 )",
								["var_name"] = "starfall_condition2",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( target.time_to_die > 4 & ( buff.starweavers_warp.up || talent.starlord.enabled & buff.starlord.stack < 3 ) )",
								["action"] = "cancel_buff",
								["buff_name"] = "starlord",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "target.time_to_die > 4 & ( buff.starweavers_warp.up || talent.starlord.enabled & buff.starlord.stack < 3 )",
								["action"] = "starfall",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 40 & ( buff.eclipse_lunar.remains > execute_time || buff.eclipse_solar.remains > execute_time ) & ( buff.ca_inc.up || charges_fractional > 2.5 & buff.primordial_arcanic_pulsar.value <= 520 & cooldown.ca_inc.remains > 10 || fight_remains < 10 )",
								["action"] = "full_moon",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.starweavers_weft.up & spell_targets.starfire < 3",
								["action"] = "starsurge",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "stellar_flare",
								["criteria"] = "refreshable & ( target.time_to_die - remains - spell_targets.starfire ) > 8 + spell_targets.starfire & astral_power.deficit > variable.passive_asp + 8 & spell_targets.starfire < ( 11 - talent.umbral_intensity.rank - talent.astral_smolder.rank )",
								["cycle_targets"] = 1,
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 50",
								["action"] = "astral_communion",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "astral_power < 50 & spell_targets.starfall < 3 + talent.elunes_guidance.enabled & ( buff.eclipse_lunar.remains > 4 || buff.eclipse_solar.remains > 4 )",
								["action"] = "convoke_the_spirits",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 10",
								["action"] = "new_moon",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20 & ( buff.eclipse_lunar.remains > execute_time || buff.eclipse_solar.remains > execute_time )",
								["action"] = "half_moon",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20",
								["action"] = "force_of_nature",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "buff.starweavers_weft.up & spell_targets.starfire < 17",
								["action"] = "starsurge",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets > 3 & buff.eclipse_lunar.up || eclipse.in_lunar",
								["action"] = "starfire",
							}, -- [28]
							{
								["action"] = "wrath",
								["enabled"] = true,
							}, -- [29]
						},
						["st"] = {
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "refreshable & remains < 2 & ( target.time_to_die - remains ) > 6",
								["cycle_targets"] = 1,
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! druid.no_cds & ( cooldown.ca_inc.remains < 5 & ! buff.ca_inc.up & ( target.time_to_die > 15 || boss & fight_remains < 25 + 10 * talent.incarnation_chosen_of_elune.enabled ) )",
								["var_name"] = "cd_condition_st",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "refreshable & remains < 2 & ( target.time_to_die - remains ) > 6",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "stellar_flare",
								["criteria"] = "refreshable & astral_power.deficit > variable.passive_asp + 8 & remains < 2 & ( target.time_to_die - remains ) > 8",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( buff.primordial_arcanic_pulsar.value >= 550 & ! buff.ca_inc.up & buff.starweavers_warp.up || buff.primordial_arcanic_pulsar.value >= 560 & buff.starweavers_weft.up )",
								["action"] = "cancel_buff",
								["buff_name"] = "starlord",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.primordial_arcanic_pulsar.value >= 550 & ! buff.ca_inc.up & buff.starweavers_warp.up",
								["action"] = "starfall",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.primordial_arcanic_pulsar.value >= 560 & buff.starweavers_weft.up",
								["action"] = "starsurge",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_st",
								["action"] = "celestial_alignment",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_st",
								["action"] = "incarnation",
							}, -- [9]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.primordial_arcanic_pulsar.value < 520 & cooldown.ca_inc.remains > 5 & spell_targets.starfire < 3",
								["var_name"] = "solar_eclipse_st",
							}, -- [10]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "eclipse.any_next || variable.solar_eclipse_st & buff.eclipse_solar.up & ( buff.eclipse_solar.remains < action.starfire.cast_time ) || ! variable.solar_eclipse_st & buff.eclipse_lunar.up & ( buff.eclipse_lunar.remains < action.wrath.cast_time )",
								["var_name"] = "enter_eclipse",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "variable.solar_eclipse_st & ( variable.enter_eclipse || buff.eclipse_solar.remains < 7 & buff.primordial_arcanic_pulsar.value < 280 )",
								["action"] = "warrior_of_elune",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "variable.enter_eclipse & variable.solar_eclipse_st",
								["action"] = "starfire",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "variable.enter_eclipse",
								["action"] = "wrath",
							}, -- [14]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.ca_inc.remains > 4 || ( cooldown.ca_inc.remains > 30 || variable.no_cd_talent ) & ( buff.eclipse_lunar.remains > 4 || buff.eclipse_solar.remains > 4 )",
								["var_name"] = "convoke_condition",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "action.convoke_the_spirits.known & cooldown.convoke_the_spirits.ready & variable.convoke_condition",
								["action"] = "starsurge",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "variable.convoke_condition",
								["action"] = "convoke_the_spirits",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 55",
								["action"] = "astral_communion",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20",
								["action"] = "force_of_nature",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "target.time_to_die > 2 & ( buff.ca_inc.remains > 3 || cooldown.ca_inc.remains > 30 & buff.primordial_arcanic_pulsar.value <= 280 || buff.primordial_arcanic_pulsar.value >= 560 & astral_power > 50 ) || boss & fight_remains < 10",
								["action"] = "fury_of_elune",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "buff.starweavers_warp.up",
								["action"] = "starfall",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( talent.starlord.enabled & buff.starlord.stack < 3 || talent.rattle_the_stars.enabled & buff.rattled_stars.up & buff.rattled_stars.remains < gcd.max )",
								["action"] = "cancel_buff",
								["buff_name"] = "starlord",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.starlord.enabled & buff.starlord.stack < 3 || talent.rattle_the_stars.enabled & buff.rattled_stars.up & buff.rattled_stars.remains < gcd.max",
								["action"] = "starsurge",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "refreshable & astral_power.deficit > variable.passive_asp + 3",
								["cycle_targets"] = 1,
							}, -- [24]
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "refreshable & astral_power.deficit > variable.passive_asp + 3",
								["cycle_targets"] = 1,
							}, -- [25]
							{
								["enabled"] = true,
								["action"] = "stellar_flare",
								["criteria"] = "refreshable & astral_power.deficit > variable.passive_asp + 8",
								["cycle_targets"] = 1,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 10 & ( buff.ca_inc.up || charges_fractional > 2.5 & buff.primordial_arcanic_pulsar.value <= 520 & cooldown.ca_inc.remains > 10 || fight_remains < 10 )",
								["action"] = "new_moon",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20 & ( buff.eclipse_lunar.remains > execute_time || buff.eclipse_solar.remains > execute_time ) & ( buff.ca_inc.up || charges_fractional > 2.5 & buff.primordial_arcanic_pulsar.value <= 520 & cooldown.ca_inc.remains > 10 || fight_remains < 10 )",
								["action"] = "half_moon",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 40 & ( buff.eclipse_lunar.remains > execute_time || buff.eclipse_solar.remains > execute_time ) & ( buff.ca_inc.up || charges_fractional > 2.5 & buff.primordial_arcanic_pulsar.value <= 520 & cooldown.ca_inc.remains > 10 || fight_remains < 10 )",
								["action"] = "full_moon",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( buff.starweavers_weft.up || astral_power.deficit < variable.passive_asp + action.wrath.energize_amount + ( action.starfire.energize_amount + variable.passive_asp ) * ( buff.eclipse_solar.remains < ( gcd.max * 3 ) ) || talent.astral_communion.enabled & cooldown.astral_communion.remains < 3 || fight_remains < 5 )",
								["action"] = "cancel_buff",
								["buff_name"] = "starlord",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "buff.starweavers_weft.up || astral_power.deficit < variable.passive_asp + action.wrath.energize_amount + ( action.starfire.energize_amount + variable.passive_asp ) * ( buff.eclipse_solar.remains < ( gcd.max * 3 ) ) || talent.astral_communion.enabled & cooldown.astral_communion.remains < 3 || fight_remains < 5",
								["action"] = "starsurge",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "talent.fungal_growth.enabled & ( boss || target.time_to_die > ( full_recharge_time - 7 ) || fight_remains < 10 )",
								["action"] = "wild_mushroom",
							}, -- [32]
							{
								["action"] = "wrath",
								["enabled"] = true,
							}, -- [33]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Executed every time the actor is available.",
								["action"] = "solar_beam",
							}, -- [1]
							{
								["action"] = "soothe",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "time < gcd.max & ( eclipse.any_next || eclipse.lunar_next )",
								["action"] = "wrath",
								["line_cd"] = "5",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & time < 2 * gcd.max & buff.eclipse_lunar.up",
								["action"] = "stellar_flare",
								["line_cd"] = "5",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! talent.stellar_flare.enabled & time < 2 * gcd.max & buff.eclipse_lunar.up",
								["action"] = "starfire",
								["line_cd"] = "5",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.starfall > ( 1 + ( ! talent.aetherial_kindling.enabled & ! talent.starweaver.enabled ) ) & talent.starfall.enabled",
								["var_name"] = "is_aoe",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "6 / spell_haste + talent.natures_balance.enabled + talent.orbit_breaker.enabled * dot.moonfire.ticking * ( buff.orbit_breaker.stack > ( 27 - 2 * buff.solstice.up ) ) * 40",
								["var_name"] = "passive_asp",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.ca_inc.remains >= 20 || variable.no_cd_talent || boss & fight_remains < 15",
								["action"] = "berserking",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! druid.no_cds & ( buff.ca_inc.remains >= 20 || variable.no_cd_talent || boss & fight_remains < 30 )",
								["action"] = "potion",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["criteria"] = "variable.on_use_trinket != 1 & ! trinket.t2.ready_cooldown || ( variable.on_use_trinket = 1 || variable.on_use_trinket = 3 ) & buff.ca_inc.up || variable.no_cd_talent || boss & fight_remains < 20 || variable.on_use_trinket = 0",
								["slots"] = "trinket1",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["criteria"] = "variable.on_use_trinket != 2 & ! trinket.t1.ready_cooldown || variable.on_use_trinket = 2 & buff.ca_inc.up || variable.no_cd_talent || boss & fight_remains < 20 || variable.on_use_trinket = 0",
								["slots"] = "trinket2",
							}, -- [11]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [12]
							{
								["action"] = "natures_vigil",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "variable.is_aoe",
								["list_name"] = "aoe",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "! variable.is_aoe",
								["list_name"] = "st",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "variable.is_aoe",
								["action"] = "starfall",
							}, -- [16]
							{
								["action"] = "starsurge",
								["enabled"] = true,
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "dot.moonfire.remains > remains * 22 / 18",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["action"] = "moonfire",
								["enabled"] = true,
							}, -- [19]
						},
						["precombat"] = {
							{
								["action"] = "moonkin_form",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "mark_of_the_wild",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! talent.celestial_alignment.enabled & ! talent.incarnation_chosen_of_elune.enabled || druid.no_cds",
								["var_name"] = "no_cd_talent",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "0",
								["var_name"] = "on_use_trinket",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "1",
								["criteria"] = "trinket.t1.has_use_buff & trinket.t1.cooldown.duration > 0 || trinket.t1.is.spoils_of_neltharus || trinket.t1.is.mirror_of_fractured_tomorrows",
								["var_name"] = "on_use_trinket",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "2",
								["criteria"] = "trinket.t2.has_use_buff & trinket.t2.cooldown.duration > 0 || trinket.t2.is.spoils_of_neltharus || trinket.t2.is.mirror_of_fractured_tomorrows",
								["var_name"] = "on_use_trinket",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( eclipse.any_next || eclipse.lunar_next )",
								["action"] = "wrath",
							}, -- [7]
						},
					},
					["version"] = 20230910,
					["warnings"] = "The import for 'aoe' required some automated changes.\nLine 2: Converted 'talent.incarnation_chosen_of_elune' to 'talent.incarnation_chosen_of_elune.enabled' (1x).\nLine 3: Converted operations in 'refreshable&(target.time_to_die-remains)>6-(spell_targets%2)&astral_power.deficit>variable.passive_asp+3' to 'refreshable&(target.time_to_die-remains)>6-(spell_targets/2)&astral_power.deficit>variable.passive_asp+3'.\nLine 6: Converted 'talent.orbital_strike' to 'talent.orbital_strike.enabled' (1x).\nLine 7: Converted 'talent.orbital_strike' to 'talent.orbital_strike.enabled' (1x).\nLine 14: Converted 'talent.fungal_growth' to 'talent.fungal_growth.enabled' (1x).\nLine 14: Converted 'talent.waning_twilight' to 'talent.waning_twilight.enabled' (1x).\nLine 16: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 17: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 18: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 23: Converted 'talent.elunes_guidance' to 'talent.elunes_guidance.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 2: Converted 'talent.incarnation_chosen_of_elune' to 'talent.incarnation_chosen_of_elune.enabled' (1x).\nLine 22: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 22: Converted 'talent.rattle_the_stars' to 'talent.rattle_the_stars.enabled' (1x).\nLine 23: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 23: Converted 'talent.rattle_the_stars' to 'talent.rattle_the_stars.enabled' (1x).\nLine 30: Converted 'talent.astral_communion' to 'talent.astral_communion.enabled' (1x).\nLine 31: Converted 'talent.astral_communion' to 'talent.astral_communion.enabled' (1x).\nLine 32: Converted 'talent.fungal_growth' to 'talent.fungal_growth.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 5: Converted 'talent.stellar_flare' to 'talent.stellar_flare.enabled' (1x).\nLine 6: Converted 'talent.aetherial_kindling' to 'talent.aetherial_kindling.enabled' (1x).\nLine 6: Converted 'talent.starweaver' to 'talent.starweaver.enabled' (1x).\nLine 6: Converted 'talent.starfall' to 'talent.starfall.enabled' (1x).\nLine 7: Converted 'talent.natures_balance' to 'talent.natures_balance.enabled' (1x).\nLine 7: Converted 'talent.orbit_breaker' to 'talent.orbit_breaker.enabled' (1x).\nLine 7: Converted operations in '6%spell_haste+talent.natures_balance.enabled+talent.orbit_breaker.enabled*dot.moonfire.ticking*(buff.orbit_breaker.stack>(27-2*buff.solstice.up))*40' to '6/spell_haste+talent.natures_balance.enabled+talent.orbit_breaker.enabled*dot.moonfire.ticking*(buff.orbit_breaker.stack>(27-2*buff.solstice.up))*40'.\nLine 10: Converted 'trinket.2.ready_cooldown' to 'trinket.t2.ready_cooldown' (1x).\nLine 11: Converted 'trinket.1.ready_cooldown' to 'trinket.t1.ready_cooldown' (1x).\nLine 18: Converted operations in 'dot.moonfire.remains>remains*22%18' to 'dot.moonfire.remains>remains*22/18'.\n\nThe import for 'precombat' required some automated changes.\nLine 3: Converted 'talent.celestial_alignment' to 'talent.celestial_alignment.enabled' (1x).\nLine 3: Converted 'talent.incarnation_chosen_of_elune' to 'talent.incarnation_chosen_of_elune.enabled' (1x).\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 5: Converted 'trinket.1.is.spoils_of_neltharus' to 'trinket.t1.is.spoils_of_neltharus' (1x).\nLine 5: Converted 'trinket.1.is.mirror_of_fractured_tomorrows' to 'trinket.t1.is.mirror_of_fractured_tomorrows' (1x).\nLine 6: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 6: Converted 'trinket.2.is.spoils_of_neltharus' to 'trinket.t2.is.spoils_of_neltharus' (1x).\nLine 6: Converted 'trinket.2.is.mirror_of_fractured_tomorrows' to 'trinket.t2.is.mirror_of_fractured_tomorrows' (1x).\n\nImported 4 action lists.\n",
					["spec"] = 102,
					["profile"] = "actions.precombat+=/moonkin_form\nactions.precombat+=/mark_of_the_wild\nactions.precombat+=/variable,name=no_cd_talent,value=!talent.celestial_alignment&!talent.incarnation_chosen_of_elune||druid.no_cds\nactions.precombat+=/variable,name=on_use_trinket,value=0\nactions.precombat+=/variable,name=on_use_trinket,op=add,value=1,if=trinket.1.has_use_buff&trinket.1.cooldown.duration>0||trinket.1.is.spoils_of_neltharus||trinket.1.is.mirror_of_fractured_tomorrows\nactions.precombat+=/variable,name=on_use_trinket,op=add,value=2,if=trinket.2.has_use_buff&trinket.2.cooldown.duration>0||trinket.2.is.spoils_of_neltharus||trinket.2.is.mirror_of_fractured_tomorrows\nactions.precombat+=/wrath,if=(eclipse.any_next||eclipse.lunar_next)\n\n# Executed every time the actor is available.\nactions+=/solar_beam\nactions+=/soothe\nactions+=/wrath,if=time<gcd.max&(eclipse.any_next||eclipse.lunar_next),line_cd=5\nactions+=/stellar_flare,if=refreshable&time<2*gcd.max&buff.eclipse_lunar.up,line_cd=5\nactions+=/starfire,if=!talent.stellar_flare&time<2*gcd.max&buff.eclipse_lunar.up,line_cd=5\nactions+=/variable,name=is_aoe,value=spell_targets.starfall>(1+(!talent.aetherial_kindling&!talent.starweaver))&talent.starfall\nactions+=/variable,name=passive_asp,value=6%spell_haste+talent.natures_balance+talent.orbit_breaker*dot.moonfire.ticking*(buff.orbit_breaker.stack>(27-2*buff.solstice.up))*40\nactions+=/berserking,if=buff.ca_inc.remains>=20||variable.no_cd_talent||boss&fight_remains<15\nactions+=/potion,if=!druid.no_cds&(buff.ca_inc.remains>=20||variable.no_cd_talent||boss&fight_remains<30)\nactions+=/use_items,slots=trinket1,if=variable.on_use_trinket!=1&!trinket.2.ready_cooldown||(variable.on_use_trinket=1||variable.on_use_trinket=3)&buff.ca_inc.up||variable.no_cd_talent||boss&fight_remains<20||variable.on_use_trinket=0\nactions+=/use_items,slots=trinket2,if=variable.on_use_trinket!=2&!trinket.1.ready_cooldown||variable.on_use_trinket=2&buff.ca_inc.up||variable.no_cd_talent||boss&fight_remains<20||variable.on_use_trinket=0\nactions+=/use_items\nactions+=/natures_vigil\n## actions+=/invoke_external_buff,name=power_infusion\nactions+=/call_action_list,name=aoe,strict=1,if=variable.is_aoe\nactions+=/call_action_list,name=st,strict=1,if=!variable.is_aoe\n## fallthru action list merged to avoid unnecessary branching\nactions+=/starfall,if=variable.is_aoe\nactions+=/starsurge\nactions+=/sunfire,cycle_targets=1,if=dot.moonfire.remains>remains*22%18\nactions+=/moonfire\n\nactions.aoe+=/moonfire,cycle_targets=1,if=!boss&refreshable&(target.time_to_die-remains)>6&astral_power.deficit>variable.passive_asp+3\nactions.aoe+=/variable,name=cd_condition_aoe,value=!druid.no_cds&(cooldown.ca_inc.remains<5&!buff.ca_inc.up&(target.time_to_die>10||boss&fight_remains<25+10*talent.incarnation_chosen_of_elune))\nactions.aoe+=/sunfire,cycle_targets=1,if=refreshable&(target.time_to_die-remains)>6-(spell_targets%2)&astral_power.deficit>variable.passive_asp+3\nactions.aoe+=/moonfire,cycle_targets=1,if=boss&refreshable&(target.time_to_die-remains)>6&astral_power.deficit>variable.passive_asp+3\nactions.aoe+=/stellar_flare,cycle_targets=1,if=refreshable&(target.time_to_die-remains-spell_targets.starfire)>8+spell_targets.starfire&astral_power.deficit>variable.passive_asp+8&spell_targets.starfire<(11-talent.umbral_intensity.rank-talent.astral_smolder.rank)&variable.cd_condition_aoe\nactions.aoe+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(variable.cd_condition_aoe&(talent.orbital_strike&astral_power.deficit<variable.passive_asp+8*spell_targets||buff.touch_the_cosmos.up)||astral_power.deficit<(variable.passive_asp+8+12*(buff.eclipse_lunar.remains<4||buff.eclipse_solar.remains<4)))\nactions.aoe+=/starfall,if=variable.cd_condition_aoe&(talent.orbital_strike&astral_power.deficit<variable.passive_asp+8*spell_targets||buff.touch_the_cosmos.up)||astral_power.deficit<(variable.passive_asp+8+12*(buff.eclipse_lunar.remains<4||buff.eclipse_solar.remains<4))\nactions.aoe+=/celestial_alignment,if=variable.cd_condition_aoe\nactions.aoe+=/incarnation,if=variable.cd_condition_aoe\nactions.aoe+=/warrior_of_elune\nactions.aoe+=/variable,name=enter_solar,value=spell_targets.starfire<3\nactions.aoe+=/starfire,if=variable.enter_solar&(eclipse.any_next||buff.eclipse_solar.remains<action.starfire.cast_time)\nactions.aoe+=/wrath,if=!variable.enter_solar&(eclipse.any_next||buff.eclipse_lunar.remains<action.wrath.cast_time)\nactions.aoe+=/wild_mushroom,if=astral_power.deficit>variable.passive_asp+20&(!talent.fungal_growth||!talent.waning_twilight||dot.fungal_growth.remains<2&target.time_to_die>7&!prev_gcd.1.wild_mushroom)\nactions.aoe+=/fury_of_elune,if=target.time_to_die>2&(buff.ca_inc.remains>3||cooldown.ca_inc.remains>30&buff.primordial_arcanic_pulsar.value<=280||buff.primordial_arcanic_pulsar.value>=560&astral_power>50)||boss&fight_remains<10\nactions.aoe+=/variable,name=starfall_condition2,value=target.time_to_die>4&(buff.starweavers_warp.up||talent.starlord&buff.starlord.stack<3)\nactions.aoe+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(target.time_to_die>4&(buff.starweavers_warp.up||talent.starlord&buff.starlord.stack<3))\nactions.aoe+=/starfall,if=target.time_to_die>4&(buff.starweavers_warp.up||talent.starlord&buff.starlord.stack<3)\nactions.aoe+=/full_moon,if=astral_power.deficit>variable.passive_asp+40&(buff.eclipse_lunar.remains>execute_time||buff.eclipse_solar.remains>execute_time)&(buff.ca_inc.up||charges_fractional>2.5&buff.primordial_arcanic_pulsar.value<=520&cooldown.ca_inc.remains>10||fight_remains<10)\nactions.aoe+=/starsurge,if=buff.starweavers_weft.up&spell_targets.starfire<3\nactions.aoe+=/stellar_flare,cycle_targets=1,if=refreshable&(target.time_to_die-remains-spell_targets.starfire)>8+spell_targets.starfire&astral_power.deficit>variable.passive_asp+8&spell_targets.starfire<(11-talent.umbral_intensity.rank-talent.astral_smolder.rank)\nactions.aoe+=/astral_communion,if=astral_power.deficit>variable.passive_asp+50\nactions.aoe+=/convoke_the_spirits,if=astral_power<50&spell_targets.starfall<3+talent.elunes_guidance&(buff.eclipse_lunar.remains>4||buff.eclipse_solar.remains>4)\nactions.aoe+=/new_moon,if=astral_power.deficit>variable.passive_asp+10\nactions.aoe+=/half_moon,if=astral_power.deficit>variable.passive_asp+20&(buff.eclipse_lunar.remains>execute_time||buff.eclipse_solar.remains>execute_time)\nactions.aoe+=/force_of_nature,if=astral_power.deficit>variable.passive_asp+20\nactions.aoe+=/starsurge,if=buff.starweavers_weft.up&spell_targets.starfire<17\nactions.aoe+=/starfire,if=spell_targets>3&buff.eclipse_lunar.up||eclipse.in_lunar\nactions.aoe+=/wrath\n\nactions.st+=/sunfire,cycle_targets=1,if=refreshable&remains<2&(target.time_to_die-remains)>6\nactions.st+=/variable,name=cd_condition_st,value=!druid.no_cds&(cooldown.ca_inc.remains<5&!buff.ca_inc.up&(target.time_to_die>15||boss&fight_remains<25+10*talent.incarnation_chosen_of_elune))\nactions.st+=/moonfire,cycle_targets=1,if=refreshable&remains<2&(target.time_to_die-remains)>6\nactions.st+=/stellar_flare,cycle_targets=1,if=refreshable&astral_power.deficit>variable.passive_asp+8&remains<2&(target.time_to_die-remains)>8\nactions.st+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(buff.primordial_arcanic_pulsar.value>=550&!buff.ca_inc.up&buff.starweavers_warp.up||buff.primordial_arcanic_pulsar.value>=560&buff.starweavers_weft.up)\nactions.st+=/starfall,if=buff.primordial_arcanic_pulsar.value>=550&!buff.ca_inc.up&buff.starweavers_warp.up\nactions.st+=/starsurge,if=buff.primordial_arcanic_pulsar.value>=560&buff.starweavers_weft.up\nactions.st+=/celestial_alignment,if=variable.cd_condition_st\nactions.st+=/incarnation,if=variable.cd_condition_st\nactions.st+=/variable,name=solar_eclipse_st,value=buff.primordial_arcanic_pulsar.value<520&cooldown.ca_inc.remains>5&spell_targets.starfire<3\nactions.st+=/variable,name=enter_eclipse,value=eclipse.any_next||variable.solar_eclipse_st&buff.eclipse_solar.up&(buff.eclipse_solar.remains<action.starfire.cast_time)||!variable.solar_eclipse_st&buff.eclipse_lunar.up&(buff.eclipse_lunar.remains<action.wrath.cast_time)\nactions.st+=/warrior_of_elune,if=variable.solar_eclipse_st&(variable.enter_eclipse||buff.eclipse_solar.remains<7&buff.primordial_arcanic_pulsar.value<280)\nactions.st+=/starfire,if=variable.enter_eclipse&variable.solar_eclipse_st\nactions.st+=/wrath,if=variable.enter_eclipse\nactions.st+=/variable,name=convoke_condition,value=buff.ca_inc.remains>4||(cooldown.ca_inc.remains>30||variable.no_cd_talent)&(buff.eclipse_lunar.remains>4||buff.eclipse_solar.remains>4)\nactions.st+=/starsurge,if=action.convoke_the_spirits.known&cooldown.convoke_the_spirits.ready&variable.convoke_condition\nactions.st+=/convoke_the_spirits,if=variable.convoke_condition\nactions.st+=/astral_communion,if=astral_power.deficit>variable.passive_asp+55\nactions.st+=/force_of_nature,if=astral_power.deficit>variable.passive_asp+20\nactions.st+=/fury_of_elune,if=target.time_to_die>2&(buff.ca_inc.remains>3||cooldown.ca_inc.remains>30&buff.primordial_arcanic_pulsar.value<=280||buff.primordial_arcanic_pulsar.value>=560&astral_power>50)||boss&fight_remains<10\nactions.st+=/starfall,if=buff.starweavers_warp.up\nactions.st+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(talent.starlord&buff.starlord.stack<3||talent.rattle_the_stars&buff.rattled_stars.up&buff.rattled_stars.remains<gcd.max)\nactions.st+=/starsurge,if=talent.starlord&buff.starlord.stack<3||talent.rattle_the_stars&buff.rattled_stars.up&buff.rattled_stars.remains<gcd.max\nactions.st+=/sunfire,cycle_targets=1,if=refreshable&astral_power.deficit>variable.passive_asp+3\nactions.st+=/moonfire,cycle_targets=1,if=refreshable&astral_power.deficit>variable.passive_asp+3\nactions.st+=/stellar_flare,cycle_targets=1,if=refreshable&astral_power.deficit>variable.passive_asp+8\nactions.st+=/new_moon,if=astral_power.deficit>variable.passive_asp+10&(buff.ca_inc.up||charges_fractional>2.5&buff.primordial_arcanic_pulsar.value<=520&cooldown.ca_inc.remains>10||fight_remains<10)\nactions.st+=/half_moon,if=astral_power.deficit>variable.passive_asp+20&(buff.eclipse_lunar.remains>execute_time||buff.eclipse_solar.remains>execute_time)&(buff.ca_inc.up||charges_fractional>2.5&buff.primordial_arcanic_pulsar.value<=520&cooldown.ca_inc.remains>10||fight_remains<10)\nactions.st+=/full_moon,if=astral_power.deficit>variable.passive_asp+40&(buff.eclipse_lunar.remains>execute_time||buff.eclipse_solar.remains>execute_time)&(buff.ca_inc.up||charges_fractional>2.5&buff.primordial_arcanic_pulsar.value<=520&cooldown.ca_inc.remains>10||fight_remains<10)\nactions.st+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(buff.starweavers_weft.up||astral_power.deficit<variable.passive_asp+action.wrath.energize_amount+(action.starfire.energize_amount+variable.passive_asp)*(buff.eclipse_solar.remains<(gcd.max*3))||talent.astral_communion&cooldown.astral_communion.remains<3||fight_remains<5)\nactions.st+=/starsurge,if=buff.starweavers_weft.up||astral_power.deficit<variable.passive_asp+action.wrath.energize_amount+(action.starfire.energize_amount+variable.passive_asp)*(buff.eclipse_solar.remains<(gcd.max*3))||talent.astral_communion&cooldown.astral_communion.remains<3||fight_remains<5\nactions.st+=/wild_mushroom,if=talent.fungal_growth&(boss||target.time_to_die>(full_recharge_time-7)||fight_remains<10)\nactions.st+=/wrath",
				},
				["Protection Warrior"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230528,
					["spec"] = 73,
					["desc"] = "2023-05-28:  Update to Shield Slam usage in AOE.\n\n2023-05-20:  Shield Wall minor update.\n\n2023-05-08:  Add additional Execute in single-target if Rage is 50+ (still impacted by Reserve Rage for Mitigation option).\n\n2023-04-30:  2nd minor update.\n\n2023-04-26:  Minor update from SimulationCraft for 10.1.\n\n2023-03-26:  Shift Shield Charge and Charge above Pummel and Spell Reflection.",
					["profile"] = "actions.precombat+=/defensive_stance,if=buff.stance.down\nactions.precombat+=/battle_shout\nactions.precombat+=/use_item,name=algethar_puzzle_box\nactions.precombat+=/avatar,if=!talent.titans_torment\nactions.precombat+=/recklessness,if=!talent.reckless_abandon\n\n# Executed every time the actor is available.\nactions+=/shield_charge,if=time=0\nactions+=/charge,if=time=0\nactions+=/pummel\nactions+=/spell_reflection\nactions+=/use_items\nactions+=/avatar\n# Usage of Shield Wall is governed by specialization settings; see /hekili > Protection.\nactions+=/shield_wall,if=talent.immovable_object.enabled&buff.avatar.down\nactions+=/blood_fury\nactions+=/berserking\nactions+=/arcane_torrent\nactions+=/lights_judgment\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/potion,if=buff.avatar.up\nactions+=/ignore_pain,if=target.health.pct>=20&(rage.deficit<=15&cooldown.shield_slam.ready||rage.deficit<=40&cooldown.shield_charge.ready&talent.champions_bulwark.enabled||rage.deficit<=20&cooldown.shield_charge.ready||rage.deficit<=30&cooldown.demoralizing_shout.ready&talent.booming_voice.enabled||rage.deficit<=20&cooldown.avatar.ready||rage.deficit<=45&cooldown.demoralizing_shout.ready&talent.booming_voice.enabled&buff.last_stand.up&talent.unnerving_focus.enabled||rage.deficit<=30&cooldown.avatar.ready&buff.last_stand.up&talent.unnerving_focus.enabled||rage.deficit<=20||rage.deficit<=40&cooldown.shield_slam.ready&buff.violent_outburst.up&talent.heavy_repercussions.enabled&talent.impenetrable_wall.enabled||rage.deficit<=55&cooldown.shield_slam.ready&buff.violent_outburst.up&buff.last_stand.up&talent.unnerving_focus.enabled&talent.heavy_repercussions.enabled&talent.impenetrable_wall.enabled||rage.deficit<=17&cooldown.shield_slam.ready&talent.heavy_repercussions.enabled||rage.deficit<=18&cooldown.shield_slam.ready&talent.impenetrable_wall.enabled),use_off_gcd=1\n# Usage of Last Stand is also governed by specialization settings; see /hekili > Protection.\nactions+=/last_stand,if=talent.unnerving_focus&(target.health.pct>=90||target.health.pct<=20)||talent.bolster&buff.shield_block.down||!talent.bolster&!talent.unnerving_focus||set_bonus.tier30_2pc>0\n# Usage of Rallying Cry is governed by specialization settings; see /hekili > Protection.\nactions+=/rallying_cry\nactions+=/ravager\nactions+=/demoralizing_shout,if=talent.booming_voice.enabled\nactions+=/spear_of_bastion\nactions+=/thunderous_roar\nactions+=/shockwave,if=talent.sonic_boom.enabled&buff.avatar.up&talent.unstoppable_force.enabled&!talent.rumbling_earth.enabled\nactions+=/shield_charge\nactions+=/shield_block,if=buff.shield_block.duration<=18&talent.enduring_defenses.enabled||buff.shield_block.duration<=12\nactions+=/run_action_list,name=aoe,strict=1,if=spell_targets.thunder_clap>=3\nactions+=/call_action_list,name=generic\n\nactions.aoe+=/thunder_clap,if=dot.rend.remains<=1&talent.blood_and_thunder&talent.rend\nactions.aoe+=/shield_slam,if=(set_bonus.tier30_2pc||set_bonus.tier30_4pc)&spell_targets.thunder_clap<=7||buff.earthen_tenacity.up\nactions.aoe+=/thunder_clap,if=buff.violent_outburst.up&spell_targets.thunderclap>5&buff.avatar.up&talent.unstoppable_force.enabled\nactions.aoe+=/revenge,if=rage>=70&talent.seismic_reverberation.enabled&spell_targets.revenge>=3\nactions.aoe+=/shield_slam,if=rage<=60||buff.violent_outburst.up&spell_targets.thunderclap<=7\nactions.aoe+=/thunder_clap\nactions.aoe+=/revenge,if=rage>=30||rage>=40&talent.barbaric_training.enabled\n\nactions.generic=shield_slam\nactions.generic+=/thunder_clap,if=dot.rend.remains<=1&buff.violent_outburst.down\nactions.generic+=/execute,if=buff.sudden_death.up&talent.sudden_death.enabled\nactions.generic+=/execute,if=spell_targets.revenge=1&rage>=50\nactions.generic+=/thunder_clap,if=(spell_targets.thunder_clap>1||cooldown.shield_slam.remains&!buff.violent_outburst.up)\nactions.generic+=/revenge,if=(rage>=60&target.health.pct>20||buff.revenge.up&target.health.pct<=20&rage<=18&cooldown.shield_slam.remains||buff.revenge.up&target.health.pct>20)||(rage>=60&target.health.pct>35||buff.revenge.up&target.health.pct<=35&rage<=18&cooldown.shield_slam.remains||buff.revenge.up&target.health.pct>35)&talent.massacre.enabled\nactions.generic+=/execute,if=spell_targets.revenge=1\nactions.generic+=/revenge\nactions.generic+=/thunder_clap,if=(spell_targets.thunder_clap>=1||cooldown.shield_slam.remains&buff.violent_outburst.up)\nactions.generic+=/devastate",
					["version"] = 20230528,
					["warnings"] = "The import for 'aoe' required some automated changes.\nLine 1: Converted 'talent.blood_and_thunder' to 'talent.blood_and_thunder.enabled' (1x).\nLine 1: Converted 'talent.rend' to 'talent.rend.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 17: Converted 'talent.unnerving_focus' to 'talent.unnerving_focus.enabled' (1x).\nLine 17: Converted 'talent.bolster' to 'talent.bolster.enabled' (1x).\nLine 17: Converted 'talent.bolster' to 'talent.bolster.enabled' (1x).\nLine 17: Converted 'talent.unnerving_focus' to 'talent.unnerving_focus.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 4: Converted 'talent.titans_torment' to 'talent.titans_torment.enabled' (1x).\nLine 5: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\n\nImported 4 action lists.\n",
					["author"] = "SimulationCraft",
					["lists"] = {
						["aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "dot.rend.remains <= 1 & talent.blood_and_thunder.enabled & talent.rend.enabled",
								["action"] = "thunder_clap",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( set_bonus.tier30_2pc || set_bonus.tier30_4pc ) & spell_targets.thunder_clap <= 7 || buff.earthen_tenacity.up",
								["action"] = "shield_slam",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.violent_outburst.up & spell_targets.thunderclap > 5 & buff.avatar.up & talent.unstoppable_force.enabled",
								["action"] = "thunder_clap",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "rage >= 70 & talent.seismic_reverberation.enabled & spell_targets.revenge >= 3",
								["action"] = "revenge",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "rage <= 60 || buff.violent_outburst.up & spell_targets.thunderclap <= 7",
								["action"] = "shield_slam",
							}, -- [5]
							{
								["action"] = "thunder_clap",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "rage >= 30 || rage >= 40 & talent.barbaric_training.enabled",
								["action"] = "revenge",
							}, -- [7]
						},
						["generic"] = {
							{
								["action"] = "shield_slam",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "dot.rend.remains <= 1 & buff.violent_outburst.down",
								["action"] = "thunder_clap",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.sudden_death.up & talent.sudden_death.enabled",
								["action"] = "execute",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.revenge = 1 & rage >= 50",
								["action"] = "execute",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( spell_targets.thunder_clap > 1 || cooldown.shield_slam.remains & ! buff.violent_outburst.up )",
								["action"] = "thunder_clap",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( rage >= 60 & target.health.pct > 20 || buff.revenge.up & target.health.pct <= 20 & rage <= 18 & cooldown.shield_slam.remains || buff.revenge.up & target.health.pct > 20 ) || ( rage >= 60 & target.health.pct > 35 || buff.revenge.up & target.health.pct <= 35 & rage <= 18 & cooldown.shield_slam.remains || buff.revenge.up & target.health.pct > 35 ) & talent.massacre.enabled",
								["action"] = "revenge",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.revenge = 1",
								["action"] = "execute",
							}, -- [7]
							{
								["action"] = "revenge",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( spell_targets.thunder_clap >= 1 || cooldown.shield_slam.remains & buff.violent_outburst.up )",
								["action"] = "thunder_clap",
							}, -- [9]
							{
								["action"] = "devastate",
								["enabled"] = true,
							}, -- [10]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "shield_charge",
								["description"] = "Executed every time the actor is available.",
								["criteria"] = "time = 0",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "time = 0",
								["action"] = "charge",
							}, -- [2]
							{
								["action"] = "pummel",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "spell_reflection",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "avatar",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "shield_wall",
								["description"] = "Usage of Shield Wall is governed by specialization settings, see /hekili > Protection.",
								["criteria"] = "talent.immovable_object.enabled & buff.avatar.down",
							}, -- [7]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [8]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [9]
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							}, -- [10]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [11]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [12]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [13]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "potion",
							}, -- [15]
							{
								["enabled"] = true,
								["use_off_gcd"] = 1,
								["action"] = "ignore_pain",
								["criteria"] = "target.health.pct >= 20 & ( rage.deficit <= 15 & cooldown.shield_slam.ready || rage.deficit <= 40 & cooldown.shield_charge.ready & talent.champions_bulwark.enabled || rage.deficit <= 20 & cooldown.shield_charge.ready || rage.deficit <= 30 & cooldown.demoralizing_shout.ready & talent.booming_voice.enabled || rage.deficit <= 20 & cooldown.avatar.ready || rage.deficit <= 45 & cooldown.demoralizing_shout.ready & talent.booming_voice.enabled & buff.last_stand.up & talent.unnerving_focus.enabled || rage.deficit <= 30 & cooldown.avatar.ready & buff.last_stand.up & talent.unnerving_focus.enabled || rage.deficit <= 20 || rage.deficit <= 40 & cooldown.shield_slam.ready & buff.violent_outburst.up & talent.heavy_repercussions.enabled & talent.impenetrable_wall.enabled || rage.deficit <= 55 & cooldown.shield_slam.ready & buff.violent_outburst.up & buff.last_stand.up & talent.unnerving_focus.enabled & talent.heavy_repercussions.enabled & talent.impenetrable_wall.enabled || rage.deficit <= 17 & cooldown.shield_slam.ready & talent.heavy_repercussions.enabled || rage.deficit <= 18 & cooldown.shield_slam.ready & talent.impenetrable_wall.enabled )",
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "last_stand",
								["description"] = "Usage of Last Stand is also governed by specialization settings, see /hekili > Protection.",
								["criteria"] = "talent.unnerving_focus.enabled & ( target.health.pct >= 90 || target.health.pct <= 20 ) || talent.bolster.enabled & buff.shield_block.down || ! talent.bolster.enabled & ! talent.unnerving_focus.enabled || set_bonus.tier30_2pc > 0",
							}, -- [17]
							{
								["enabled"] = true,
								["description"] = "Usage of Rallying Cry is governed by specialization settings, see /hekili > Protection.",
								["action"] = "rallying_cry",
							}, -- [18]
							{
								["action"] = "ravager",
								["enabled"] = true,
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "talent.booming_voice.enabled",
								["action"] = "demoralizing_shout",
							}, -- [20]
							{
								["action"] = "spear_of_bastion",
								["enabled"] = true,
							}, -- [21]
							{
								["action"] = "thunderous_roar",
								["enabled"] = true,
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.sonic_boom.enabled & buff.avatar.up & talent.unstoppable_force.enabled & ! talent.rumbling_earth.enabled",
								["action"] = "shockwave",
							}, -- [23]
							{
								["action"] = "shield_charge",
								["enabled"] = true,
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "buff.shield_block.duration <= 18 & talent.enduring_defenses.enabled || buff.shield_block.duration <= 12",
								["action"] = "shield_block",
							}, -- [25]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "spell_targets.thunder_clap >= 3",
								["list_name"] = "aoe",
							}, -- [26]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "generic",
							}, -- [27]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.stance.down",
								["action"] = "defensive_stance",
							}, -- [1]
							{
								["action"] = "battle_shout",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! talent.titans_torment.enabled",
								["action"] = "avatar",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! talent.reckless_abandon.enabled",
								["action"] = "recklessness",
							}, -- [5]
						},
					},
				},
				["Arcane"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230826,
					["spec"] = 62,
					["desc"] = "2023-08-26:  Minor priority update.\n\n2023-07-18:  Minor update to Arcane Orb, Arcane Barrage, TotM.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-07-02:  Check debuff.sated.up for Temporal Warp.\n\n2023-06-24:  Beacon/trinket logic updated; don't Evocation pre-pull if Arcane Surge isn't ready (or toggled off).\n\n2023-05-26:  Tweak to Arcane Blasts at high haste.\n\n2023-05-21:  Re-enable Evocation out of boss fights.\n\n2023-05-20:  Even more adjustments to timed priority entries.\n\n2023-05-15:  Relax some line cooldowns to help ensure transition into Arcane Surge.\n\n2023-05-13:  Minor update.\n\n2023-05-12:  Added T30 priority from SimC.\n\n2023-05-02:  Update for 10.1.",
					["lists"] = {
						["aoe_rotation"] = {
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.evocation.enabled || cooldown.evocation.remains > 12 ) & ( ! talent.arcane_surge.enabled || cooldown.arcane_surge.remains > 12 ) & ( ! talent.touch_of_the_magi.enabled || cooldown.touch_of_the_magi.remains > 12 ) & buff.arcane_surge.down & ( ( ! talent.charged_orb.enabled & cooldown.arcane_orb.remains > 12 ) || ( action.arcane_orb.charges = 0 || cooldown.arcane_orb.remains > 12 ) )",
								["action"] = "shifting_power",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable || ! ticking ) & buff.arcane_charge.stack = buff.arcane_charge.max_stack & buff.arcane_surge.down & ( active_enemies > 6 || ! talent.orb_barrage.enabled )",
								["action"] = "nether_tempest",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies <= 4 || buff.clearcasting.up ) & buff.arcane_charge.stack = 3",
								["action"] = "arcane_barrage",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = 0 & cooldown.touch_of_the_magi.remains > 18",
								["action"] = "arcane_orb",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack || mana.pct < 10",
								["action"] = "arcane_barrage",
							}, -- [5]
							{
								["action"] = "arcane_explosion",
								["enabled"] = true,
							}, -- [6]
						},
						["aoe_spark_phase"] = {
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_blast & cooldown.arcane_surge.remains > 75",
								["action"] = "cancel_buff",
								["buff_name"] = "presence_of_mind",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_barrage",
								["action"] = "touch_of_the_magi",
								["use_off_gcd"] = 1,
							}, -- [2]
							{
								["action"] = "radiant_spark",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack < 3",
								["action"] = "arcane_orb",
								["line_cd"] = "1",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "talent.arcane_echo.enabled",
								["action"] = "nether_tempest",
								["line_cd"] = "15",
							}, -- [5]
							{
								["action"] = "arcane_surge",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.arcane_surge.remains < 75 & debuff.radiant_spark_vulnerability.stack = 4 & ! talent.orb_barrage.enabled",
								["action"] = "arcane_barrage",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "( debuff.radiant_spark_vulnerability.stack = 2 & cooldown.arcane_surge.remains > 75 ) || ( debuff.radiant_spark_vulnerability.stack = 1 & cooldown.arcane_surge.remains < 75 ) & ! talent.orb_barrage.enabled",
								["action"] = "arcane_barrage",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "arcane_barrage",
								["description"] = "Optimize orb barrage procs during spark at the cost of vulnerabilities, except at 5 or fewer targets where you arcane blast on the 3rd spark stack if its up and you have charges",
								["criteria"] = "( debuff.radiant_spark_vulnerability.stack = 1 || debuff.radiant_spark_vulnerability.stack = 2 || ( debuff.radiant_spark_vulnerability.stack = 3 & active_enemies > 5 ) || debuff.radiant_spark_vulnerability.stack = 4 ) & buff.arcane_charge.stack = buff.arcane_charge.max_stack & talent.orb_barrage.enabled",
							}, -- [9]
							{
								["action"] = "presence_of_mind",
								["enabled"] = true,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "( ( debuff.radiant_spark_vulnerability.stack = 2 || debuff.radiant_spark_vulnerability.stack = 3 ) & ! talent.orb_barrage.enabled ) || ( debuff.radiant_spark_vulnerability.remains & talent.orb_barrage.enabled )",
								["action"] = "arcane_blast",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "( debuff.radiant_spark_vulnerability.stack = 4 & buff.arcane_surge.up ) || ( debuff.radiant_spark_vulnerability.stack = 3 & buff.arcane_surge.down ) & ! talent.orb_barrage.enabled",
								["action"] = "arcane_barrage",
							}, -- [12]
						},
						["aoe_touch_phase"] = {
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies <= 4 & buff.arcane_charge.stack = 3 ) || buff.arcane_charge.stack = buff.arcane_charge.max_stack",
								["action"] = "arcane_barrage",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack < 2",
								["action"] = "arcane_orb",
							}, -- [2]
							{
								["action"] = "arcane_explosion",
								["enabled"] = true,
							}, -- [3]
						},
						["touch_phase"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.touch_of_the_magi.remains <= gcd.max",
								["action"] = "presence_of_mind",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.presence_of_mind.up & buff.arcane_charge.stack = buff.arcane_charge.max_stack",
								["action"] = "arcane_blast",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( buff.arcane_harmony.up || ( talent.arcane_bombardment.enabled & target.health.pct < 35 ) ) & debuff.touch_of_the_magi.remains <= gcd.max",
								["action"] = "arcane_barrage",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "arcane_missiles",
								["chain"] = "1",
								["criteria"] = "buff.clearcasting.stack > 1 & talent.conjure_mana_gem.enabled & cooldown.use_mana_gem.ready",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.nether_precision.up",
								["action"] = "arcane_blast",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "arcane_missiles",
								["chain"] = "1",
								["criteria"] = "buff.clearcasting.react & ( debuff.touch_of_the_magi.remains > execute_time || ! talent.presence_of_mind.enabled )",
							}, -- [6]
							{
								["action"] = "arcane_blast",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "arcane_barrage",
								["enabled"] = true,
							}, -- [8]
						},
						["rotation"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack < 3 & ( buff.bloodlust.down || mana.pct > 70 || ( variable.totm_on_last_spark_stack & cooldown.touch_of_the_magi.remains > 30 ) )",
								["action"] = "arcane_orb",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "variable.totm_on_last_spark_stack & ( ! talent.evocation.enabled || cooldown.evocation.remains > 12 ) & ( ! talent.arcane_surge.enabled || cooldown.arcane_surge.remains > 12 ) & ( ! talent.touch_of_the_magi.enabled || cooldown.touch_of_the_magi.remains > 12 ) & buff.arcane_surge.down & fight_remains > 15",
								["action"] = "shifting_power",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! variable.totm_on_last_spark_stack & buff.arcane_surge.down & cooldown.arcane_surge.remains > 45 & fight_remains > 15",
								["action"] = "shifting_power",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable || ! ticking ) & equipped.neltharions_call_to_chaos & fight_remains >= 12",
								["action"] = "nether_tempest",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack < 3 & target.health.pct < 35 & talent.arcane_bombardment.enabled",
								["action"] = "presence_of_mind",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "talent.time_anomaly.enabled & buff.arcane_surge.up & buff.arcane_surge.remains <= 6",
								["action"] = "arcane_blast",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.presence_of_mind.up & target.health.pct < 35 & talent.arcane_bombardment.enabled & buff.arcane_charge.stack < 3",
								["action"] = "arcane_blast",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.clearcasting.react & buff.clearcasting.stack = buff.clearcasting.max_stack",
								["action"] = "arcane_missiles",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable || ! ticking ) & buff.arcane_charge.stack = buff.arcane_charge.max_stack & ( buff.temporal_warp.up || mana.pct < 10 || ! talent.shifting_power.enabled ) & buff.arcane_surge.down & fight_remains >= 12",
								["action"] = "nether_tempest",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack & mana.pct < 50 & ! talent.evocation.enabled & fight_remains > 20",
								["action"] = "arcane_barrage",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack & mana.pct < 70 & variable.conserve_mana & buff.bloodlust.up & cooldown.touch_of_the_magi.remains > 5 & fight_remains > 20",
								["action"] = "arcane_barrage",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.clearcasting.react & buff.concentration.up & buff.arcane_charge.stack = buff.arcane_charge.max_stack",
								["action"] = "arcane_missiles",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack & buff.nether_precision.up",
								["action"] = "arcane_blast",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack & mana.pct < 60 & variable.conserve_mana & cooldown.touch_of_the_magi.remains > 10 & cooldown.evocation.remains > 40 & fight_remains > 20",
								["action"] = "arcane_barrage",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "arcane_missiles",
								["interrupt_if"] = "gcd.remains=0&buff.nether_precision.up&(mana.pct>30&cooldown.touch_of_the_magi.remains>30||mana.pct>70)",
								["criteria"] = "buff.clearcasting.react & buff.nether_precision.down",
								["description"] = "Canceling missile channels as soon as blast is ready to cast",
							}, -- [15]
							{
								["action"] = "arcane_blast",
								["enabled"] = true,
							}, -- [16]
							{
								["action"] = "arcane_barrage",
								["enabled"] = true,
							}, -- [17]
						},
						["cooldown_phase"] = {
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_barrage",
								["action"] = "touch_of_the_magi",
								["use_off_gcd"] = 1,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_surge.down & ! talent.radiant_spark.enabled",
								["action"] = "shifting_power",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.radiant_spark.ready & buff.arcane_charge.stack < buff.arcane_charge.max_stack",
								["action"] = "arcane_orb",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.radiant_spark.ready & ( buff.arcane_charge.stack < 2 || ( buff.arcane_charge.stack < buff.arcane_charge.max_stack & cooldown.arcane_orb.remains >= gcd.max ) )",
								["action"] = "arcane_blast",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.radiant_spark.ready & buff.clearcasting.react & ( talent.nether_precision.enabled & ( buff.nether_precision.down || buff.nether_precision.remains < gcd.max ) )",
								["action"] = "arcane_missiles",
							}, -- [5]
							{
								["action"] = "radiant_spark",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.arcane_echo.enabled",
								["action"] = "nether_tempest",
								["line_cd"] = "30",
							}, -- [7]
							{
								["action"] = "arcane_surge",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_surge || prev_gcd.1.nether_tempest || prev_gcd.1.radiant_spark",
								["action"] = "arcane_barrage",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_barrage || prev_gcd.2.arcane_barrage || prev_gcd.3.arcane_barrage || ( prev_gcd.4.arcane_barrage & cooldown.arcane_surge.remains < 60 )",
								["action"] = "arcane_blast",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "debuff.touch_of_the_magi.remains <= gcd.max",
								["action"] = "presence_of_mind",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.presence_of_mind.up",
								["action"] = "arcane_blast",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "arcane_missiles",
								["interrupt_if"] = "gcd.remains=0&mana.pct>30&buff.nether_precision.up",
								["criteria"] = "buff.nether_precision.down & buff.clearcasting.react",
								["description"] = "Canceling missile channels as soon as blast is ready to cast",
							}, -- [13]
							{
								["action"] = "arcane_blast",
								["enabled"] = true,
							}, -- [14]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Executed every time the actor is available.",
								["action"] = "counterspell",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.arcane_surge.ready",
								["action"] = "potion",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "evocation",
								["description"] = "This is a backup measure in case you fail to pre-evocate with Siphon Storm.",
								["criteria"] = "talent.siphon_storm.enabled & time < 10 & cooldown.arcane_surge.remains < 5",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.temporal_warp.enabled & debuff.sated.up & ( cooldown.arcane_surge.ready || boss & fight_remains <= 40 || buff.arcane_surge.up & fight_remains <= 80 )",
								["action"] = "time_warp",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_surge.down & debuff.touch_of_the_magi.down & active_enemies >= 2",
								["action"] = "lights_judgment",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_surge.down & debuff.touch_of_the_magi.down",
								["action"] = "bag_of_tricks",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "berserking",
								["description"] = "Zerking gets used after surge outside of double lust, but after touch with double lust",
								["criteria"] = "( prev_gcd.1.arcane_surge & ! ( buff.temporal_warp.up & buff.bloodlust.up ) ) || ( buff.arcane_surge.up & debuff.touch_of_the_magi.up )",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_surge",
								["action"] = "blood_fury",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_surge",
								["action"] = "fireblood",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_surge",
								["action"] = "ancestral_call",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "use_items",
								["description"] = "Use other trinkets in ST after surge without t30, after touch with t30, and before Surge in AOE, except Talon which is used with spark without t30, or after surge for t30",
								["criteria"] = "( ( prev_gcd.1.arcane_surge & ! set_bonus.tier30_4pc ) || ( prev_gcd.2.arcane_surge & debuff.touch_of_the_magi.up & set_bonus.tier30_4pc ) ) || ( ( active_enemies >= variable.aoe_target_count ) & cooldown.arcane_surge.ready & prev_gcd.1.nether_tempest )",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "timebreaching_talon",
								["criteria"] = "( ( variable.totm_on_last_spark_stack & cooldown.arcane_surge.remains <= ( gcd.max * 3 ) ) || ( ! variable.totm_on_last_spark_stack & prev_gcd.1.arcane_surge ) ) & ( ! variable.talon_double_on_use || ! buff.bloodlust.up )",
								["name"] = "timebreaching_talon",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "conjured_chillglobe",
								["criteria"] = "mana.pct > 65 & ( ! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20 )",
								["name"] = "conjured_chillglobe",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["criteria"] = "! variable.steroid_trinket_equipped || ( cooldown.arcane_surge.remains > 20 & buff.arcane_surge.remains < 10 )",
								["name"] = "beacon_to_the_beyond",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "darkmoon_deck_rime",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
								["name"] = "darkmoon_deck_rime",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "darkmoon_deck_dance",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
								["name"] = "darkmoon_deck_dance",
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "darkmoon_deck_inferno",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
								["name"] = "darkmoon_deck_inferno",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "desperate_invokers_codex",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
								["name"] = "desperate_invokers_codex",
							}, -- [18]
							{
								["enabled"] = true,
								["action"] = "iceblood_deathsnare",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
								["name"] = "iceblood_deathsnare",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains < 2",
								["action"] = "arcane_barrage",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "evocation",
								["interrupt_if"] = "mana.pct>=95&!talent.siphon_storm||(mana.pct>fight_remains*4)&!(fight_remains>10&cooldown.arcane_surge.remains<1)",
								["criteria"] = "buff.arcane_surge.down & debuff.touch_of_the_magi.down & ( ( mana.pct < 10 & cooldown.touch_of_the_magi.remains < 20 ) || cooldown.touch_of_the_magi.remains < 15 ) & ( mana.pct < fight_remains * 4 )",
								["description"] = "Cancel Evo if we have enough mana and don't have Siphon Storm talented or if the fight duration is running out",
							}, -- [21]
							{
								["enabled"] = true,
								["action"] = "conjure_mana_gem",
								["description"] = "Make a new gem if the encounter is long enough and use it after surge to recoup mana quickly",
								["criteria"] = "debuff.touch_of_the_magi.down & buff.arcane_surge.down & cooldown.arcane_surge.remains < 30 & cooldown.arcane_surge.true_remains < fight_remains & ! mana_gem_charges",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.cascading_power.enabled & buff.clearcasting.stack < 2 & buff.arcane_surge.up",
								["action"] = "mana_gem",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "mana_gem",
								["criteria"] = "! talent.cascading_power.enabled & prev_gcd.1.arcane_surge",
								["line_cd"] = "5",
							}, -- [24]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Enter cooldown phase when cds are available or coming off cooldown otherwise default to rotation priority",
								["criteria"] = "( ! variable.totm_on_last_spark_stack & ( cooldown.arcane_surge.remains <= ( gcd.max * ( 1 + ( talent.nether_tempest.enabled & talent.arcane_echo.enabled ) ) ) || buff.arcane_surge.up || buff.arcane_overload.up ) & cooldown.evocation.remains > 45 & ( ( cooldown.touch_of_the_magi.remains < gcd.max * 4 ) || cooldown.touch_of_the_magi.remains > 20 ) & active_enemies < variable.aoe_target_count ) || ( ! variable.totm_on_last_spark_stack & cooldown.arcane_surge.remains > 30 & ( cooldown.radiant_spark.ready || dot.radiant_spark.remains || debuff.radiant_spark_vulnerability.up ) & ( cooldown.touch_of_the_magi.remains <= ( gcd.max * 3 ) || debuff.touch_of_the_magi.up ) & active_enemies < variable.aoe_target_count )",
								["list_name"] = "cooldown_phase",
							}, -- [25]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "talent.radiant_spark.enabled & variable.aoe_spark_phase",
								["list_name"] = "aoe_spark_phase",
							}, -- [26]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "variable.totm_on_last_spark_stack & talent.radiant_spark.enabled & variable.spark_phase",
								["list_name"] = "spark_phase",
							}, -- [27]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "debuff.touch_of_the_magi.up & active_enemies >= variable.aoe_target_count",
								["list_name"] = "aoe_touch_phase",
							}, -- [28]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "variable.totm_on_last_spark_stack & debuff.touch_of_the_magi.up & active_enemies < variable.aoe_target_count",
								["list_name"] = "touch_phase",
							}, -- [29]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies >= variable.aoe_target_count",
								["list_name"] = "aoe_rotation",
							}, -- [30]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "rotation",
							}, -- [31]
						},
						["precombat"] = {
							{
								["action"] = "arcane_intellect",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "arcane_familiar",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "conjure_mana_gem",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "opener_min_mana",
								["criteria"] = "talent.arcane_harmony.enabled",
								["value_else"] = "200000",
								["value"] = "225000",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! set_bonus.tier30_4pc",
								["description"] = "Variable used to swap rotation from using totm on the last stack of Spark or the 1st or 2nd",
								["var_name"] = "totm_on_last_spark_stack",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "equipped.gladiators_badge || equipped.irideus_fragment || equipped.erupting_spear_fragment || equipped.spoils_of_neltharus || equipped.tome_of_unstable_power || equipped.timebreaching_talon || equipped.horn_of_valor",
								["description"] = "Variable indicates use of a trinket that boosts stats during burst",
								["var_name"] = "steroid_trinket_equipped",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "equipped.timebreaching_talon & equipped.irideus_fragment",
								["description"] = "Variable indicates double on use trinkets with Talon/Irideus",
								["var_name"] = "talon_double_on_use",
							}, -- [7]
							{
								["action"] = "mirror_image",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "arcane_blast",
								["description"] = "Edited to avoid wasting Evocation between small pulls if Arcane Surge isn't even ready.  This also accounts for toggles.",
								["criteria"] = "! talent.siphon_storm.enabled || cooldown.arcane_surge.remains > 15",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.siphon_storm.enabled",
								["action"] = "evocation",
							}, -- [10]
						},
						["spark_phase"] = {
							{
								["enabled"] = true,
								["criteria"] = "! ticking & variable.opener & buff.bloodlust.up",
								["action"] = "nether_tempest",
								["line_cd"] = "45",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "variable.opener & cooldown.arcane_surge.ready & buff.bloodlust.up & mana >= variable.opener_min_mana",
								["action"] = "arcane_blast",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "arcane_missiles",
								["chain"] = "1",
								["criteria"] = "variable.opener & buff.bloodlust.up & buff.clearcasting.react & buff.clearcasting.stack >= 2 & cooldown.radiant_spark.remains < 5 & buff.nether_precision.down",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "arcane_missiles",
								["chain"] = "1",
								["criteria"] = "talent.arcane_harmony.enabled & buff.arcane_harmony.stack < 15 & ( ( variable.opener & buff.bloodlust.up ) || buff.clearcasting.react & cooldown.radiant_spark.remains < 5 ) & cooldown.arcane_surge.remains < 30",
							}, -- [4]
							{
								["action"] = "radiant_spark",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( prev_gcd.4.radiant_spark & cooldown.arcane_surge.remains <= execute_time ) || prev_gcd.5.radiant_spark",
								["action"] = "nether_tempest",
								["line_cd"] = "15",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.nether_tempest.enabled & prev_gcd.4.radiant_spark ) || prev_gcd.1.nether_tempest",
								["action"] = "arcane_surge",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "cast_time >= gcd.max & execute_time < debuff.radiant_spark_vulnerability.remains & ( ! talent.arcane_bombardment.enabled || target.health.pct >= 35 ) & ( talent.nether_tempest.enabled & prev_gcd.6.radiant_spark || ! talent.nether_tempest.enabled & prev_gcd.5.radiant_spark )",
								["action"] = "arcane_blast",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "debuff.radiant_spark_vulnerability.stack = 4",
								["action"] = "arcane_barrage",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_barrage & ( action.arcane_barrage.in_flight_remains <= 0.2 || gcd.remains <= 0.2 )",
								["action"] = "touch_of_the_magi",
								["use_off_gcd"] = 1,
							}, -- [10]
							{
								["action"] = "arcane_blast",
								["enabled"] = true,
							}, -- [11]
							{
								["action"] = "arcane_barrage",
								["enabled"] = true,
							}, -- [12]
						},
					},
					["version"] = 20230826,
					["warnings"] = "The import for 'aoe_rotation' required some automated changes.\nLine 1: Converted 'talent.evocation' to 'talent.evocation.enabled' (1x).\nLine 1: Converted 'talent.arcane_surge' to 'talent.arcane_surge.enabled' (1x).\nLine 1: Converted 'talent.touch_of_the_magi' to 'talent.touch_of_the_magi.enabled' (1x).\nLine 1: Converted 'talent.charged_orb' to 'talent.charged_orb.enabled' (1x).\nLine 2: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\n\nThe import for 'aoe_spark_phase' required some automated changes.\nLine 5: Converted 'talent.arcane_echo' to 'talent.arcane_echo.enabled' (1x).\nLine 7: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 8: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 9: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 11: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 11: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 12: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\n\nThe import for 'touch_phase' required some automated changes.\nLine 3: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 4: Converted 'talent.conjure_mana_gem' to 'talent.conjure_mana_gem.enabled' (1x).\nLine 6: Converted 'talent.presence_of_mind' to 'talent.presence_of_mind.enabled' (1x).\n\nThe import for 'rotation' required some automated changes.\nLine 2: Converted 'talent.evocation' to 'talent.evocation.enabled' (1x).\nLine 2: Converted 'talent.arcane_surge' to 'talent.arcane_surge.enabled' (1x).\nLine 2: Converted 'talent.touch_of_the_magi' to 'talent.touch_of_the_magi.enabled' (1x).\nLine 5: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 6: Converted 'talent.time_anomaly' to 'talent.time_anomaly.enabled' (1x).\nLine 7: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 9: Converted 'talent.shifting_power' to 'talent.shifting_power.enabled' (1x).\nLine 10: Converted 'talent.evocation' to 'talent.evocation.enabled' (1x).\n\nThe import for 'cooldown_phase' required some automated changes.\nLine 2: Converted 'talent.radiant_spark' to 'talent.radiant_spark.enabled' (1x).\nLine 5: Converted 'talent.nether_precision' to 'talent.nether_precision.enabled' (1x).\nLine 7: Converted 'talent.arcane_echo' to 'talent.arcane_echo.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 3: Converted 'talent.siphon_storm' to 'talent.siphon_storm.enabled' (1x).\nLine 4: Converted 'talent.temporal_warp' to 'talent.temporal_warp.enabled' (1x).\nLine 23: Converted 'talent.cascading_power' to 'talent.cascading_power.enabled' (1x).\nLine 24: Converted 'talent.cascading_power' to 'talent.cascading_power.enabled' (1x).\nLine 25: Converted 'talent.nether_tempest' to 'talent.nether_tempest.enabled' (1x).\nLine 25: Converted 'talent.arcane_echo' to 'talent.arcane_echo.enabled' (1x).\nLine 26: Converted 'talent.radiant_spark' to 'talent.radiant_spark.enabled' (1x).\nLine 27: Converted 'talent.radiant_spark' to 'talent.radiant_spark.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 4: Converted 'talent.arcane_harmony' to 'talent.arcane_harmony.enabled' (1x).\nLine 9: Converted 'talent.siphon_storm' to 'talent.siphon_storm.enabled' (1x).\nLine 10: Converted 'talent.siphon_storm' to 'talent.siphon_storm.enabled' (1x).\n\nThe import for 'spark_phase' required some automated changes.\nLine 4: Converted 'talent.arcane_harmony' to 'talent.arcane_harmony.enabled' (1x).\nLine 7: Converted 'talent.nether_tempest' to 'talent.nether_tempest.enabled' (1x).\nLine 8: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 8: Converted 'talent.nether_tempest' to 'talent.nether_tempest.enabled' (1x).\nLine 8: Converted 'talent.nether_tempest' to 'talent.nether_tempest.enabled' (1x).\n\nImported 9 action lists.\n",
					["author"] = "SimulationCraft",
					["profile"] = "actions.precombat+=/arcane_intellect\nactions.precombat+=/arcane_familiar\nactions.precombat+=/conjure_mana_gem\n## actions.precombat+=/variable,name=aoe_target_count,op=reset,default=3\n## actions.precombat+=/variable,name=conserve_mana,op=set,value=0\nactions.precombat+=/variable,name=opener_min_mana,op=setif,condition=talent.arcane_harmony,value=225000,value_else=200000\n# Variable used to swap rotation from using totm on the last stack of Spark or the 1st or 2nd\nactions.precombat+=/variable,name=totm_on_last_spark_stack,op=set,value=!set_bonus.tier30_4pc\n# Variable indicates use of a trinket that boosts stats during burst\nactions.precombat+=/variable,name=steroid_trinket_equipped,op=set,value=equipped.gladiators_badge||equipped.irideus_fragment||equipped.erupting_spear_fragment||equipped.spoils_of_neltharus||equipped.tome_of_unstable_power||equipped.timebreaching_talon||equipped.horn_of_valor\n# Variable indicates double on use trinkets with Talon/Irideus\nactions.precombat+=/variable,name=talon_double_on_use,op=set,value=equipped.timebreaching_talon&equipped.irideus_fragment\nactions.precombat+=/mirror_image\n# Edited to avoid wasting Evocation between small pulls if Arcane Surge isn't even ready.  This also accounts for toggles.\nactions.precombat+=/arcane_blast,if=!talent.siphon_storm||cooldown.arcane_surge.remains>15\nactions.precombat+=/evocation,if=talent.siphon_storm\n\n# Executed every time the actor is available.\nactions=counterspell\nactions+=/potion,if=cooldown.arcane_surge.ready\n# This is a backup measure in case you fail to pre-evocate with Siphon Storm.\nactions+=/evocation,if=talent.siphon_storm&time<10&cooldown.arcane_surge.remains<5\nactions+=/time_warp,if=talent.temporal_warp&debuff.sated.up&(cooldown.arcane_surge.ready||boss&fight_remains<=40||buff.arcane_surge.up&fight_remains<=80)\nactions+=/lights_judgment,if=buff.arcane_surge.down&debuff.touch_of_the_magi.down&active_enemies>=2\nactions+=/bag_of_tricks,if=buff.arcane_surge.down&debuff.touch_of_the_magi.down\n# Zerking gets used after surge outside of double lust, but after touch with double lust\nactions+=/berserking,if=(prev_gcd.1.arcane_surge&!(buff.temporal_warp.up&buff.bloodlust.up))||(buff.arcane_surge.up&debuff.touch_of_the_magi.up)\nactions+=/blood_fury,if=prev_gcd.1.arcane_surge\nactions+=/fireblood,if=prev_gcd.1.arcane_surge\nactions+=/ancestral_call,if=prev_gcd.1.arcane_surge\n### PI/Summer after Radiant Spark when cooldowns are coming up, Autumn after Touch of the Magi cd starts\n## actions+=/invoke_external_buff,name=power_infusion,if=((!talent.radiant_spark&prev_gcd.1.arcane_surge)||(talent.radiant_spark&prev_gcd.1.radiant_spark&cooldown.arcane_surge.remains<=(gcd.max*3)))\n## actions+=/invoke_external_buff,name=blessing_of_summer,if=(!talent.radiant_spark&prev_gcd.1.arcane_surge)||(talent.radiant_spark&prev_gcd.1.radiant_spark&cooldown.arcane_surge.remains<=(gcd.max*3))\n## actions+=/invoke_external_buff,name=blessing_of_autumn,if=cooldown.touch_of_the_magi.remains>5\n# Use other trinkets in ST after surge without t30, after touch with t30, and before Surge in AOE, except Talon which is used with spark without t30, or after surge for t30\nactions+=/use_items,if=((prev_gcd.1.arcane_surge&!set_bonus.tier30_4pc)||(prev_gcd.2.arcane_surge&debuff.touch_of_the_magi.up&set_bonus.tier30_4pc))||((active_enemies>=variable.aoe_target_count)&cooldown.arcane_surge.ready&prev_gcd.1.nether_tempest)\nactions+=/use_item,name=timebreaching_talon,if=((variable.totm_on_last_spark_stack&cooldown.arcane_surge.remains<=(gcd.max*3))||(!variable.totm_on_last_spark_stack&prev_gcd.1.arcane_surge))&(!variable.talon_double_on_use||!buff.bloodlust.up)\n## actions+=/use_item,name=tinker_breath_of_neltharion,if=cooldown.arcane_surge.remains&buff.arcane_surge.down&debuff.touch_of_the_magi.down\nactions+=/use_item,name=conjured_chillglobe,if=mana.pct>65&(!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20)\nactions+=/use_item,name=beacon_to_the_beyond,if=!variable.steroid_trinket_equipped||(cooldown.arcane_surge.remains>20&buff.arcane_surge.remains<10)\nactions+=/use_item,name=darkmoon_deck_rime,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\nactions+=/use_item,name=darkmoon_deck_dance,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\nactions+=/use_item,name=darkmoon_deck_inferno,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\nactions+=/use_item,name=desperate_invokers_codex,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\nactions+=/use_item,name=iceblood_deathsnare,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\n## actions+=/variable,name=aoe_spark_phase,op=set,value=1,if=active_enemies>=variable.aoe_target_count&(action.arcane_orb.charges>0||buff.arcane_charge.stack>=3)&cooldown.radiant_spark.ready&cooldown.touch_of_the_magi.remains<=(gcd.max*2)\n## actions+=/variable,name=aoe_spark_phase,op=set,value=0,if=variable.aoe_spark_phase&debuff.radiant_spark_vulnerability.down&dot.radiant_spark.remains<7&cooldown.radiant_spark.remains\n## actions+=/variable,name=spark_phase,op=set,value=1,if=+actions+=/variable,name=spark_phase,op=set,value=1,if=buff.arcane_charge.stack>3&active_enemies<variable.aoe_target_count&cooldown.radiant_spark.ready&cooldown.touch_of_the_magi.remains<=(gcd.max*7)\n## actions+=/variable,name=spark_phase,op=set,value=0,if=variable.spark_phase&debuff.radiant_spark_vulnerability.down&dot.radiant_spark.remains<7&cooldown.radiant_spark.remains\n## actions+=/variable,name=opener,op=set,if=debuff.touch_of_the_magi.up&variable.opener,value=0\nactions+=/arcane_barrage,if=fight_remains<2\n# Cancel Evo if we have enough mana and don't have Siphon Storm talented or if the fight duration is running out\nactions+=/evocation,if=buff.arcane_surge.down&debuff.touch_of_the_magi.down&((mana.pct<10&cooldown.touch_of_the_magi.remains<20)||cooldown.touch_of_the_magi.remains<15)&(mana.pct<fight_remains*4),interrupt_if=mana.pct>=95&!talent.siphon_storm||(mana.pct>fight_remains*4)&!(fight_remains>10&cooldown.arcane_surge.remains<1)\n# Make a new gem if the encounter is long enough and use it after surge to recoup mana quickly\nactions+=/conjure_mana_gem,if=debuff.touch_of_the_magi.down&buff.arcane_surge.down&cooldown.arcane_surge.remains<30&cooldown.arcane_surge.true_remains<fight_remains&!mana_gem_charges\nactions+=/use_mana_gem,if=talent.cascading_power&buff.clearcasting.stack<2&buff.arcane_surge.up\nactions+=/use_mana_gem,line_cd=5,if=!talent.cascading_power&prev_gcd.1.arcane_surge\n## TODO: Revisit strict flag on these entries.\n# Merged two cooldown_phase entries to reduce CPU consumption.\n# Enter cooldown phase when cds are available or coming off cooldown otherwise default to rotation priority\nactions+=/call_action_list,name=cooldown_phase,if=(!variable.totm_on_last_spark_stack&(cooldown.arcane_surge.remains<=(gcd.max*(1+(talent.nether_tempest&talent.arcane_echo)))||buff.arcane_surge.up||buff.arcane_overload.up)&cooldown.evocation.remains>45&((cooldown.touch_of_the_magi.remains<gcd.max*4)||cooldown.touch_of_the_magi.remains>20)&active_enemies<variable.aoe_target_count)||(!variable.totm_on_last_spark_stack&cooldown.arcane_surge.remains>30&(cooldown.radiant_spark.ready||dot.radiant_spark.remains||debuff.radiant_spark_vulnerability.up)&(cooldown.touch_of_the_magi.remains<=(gcd.max*3)||debuff.touch_of_the_magi.up)&active_enemies<variable.aoe_target_count)\nactions+=/call_action_list,name=aoe_spark_phase,strict=1,if=talent.radiant_spark&variable.aoe_spark_phase\nactions+=/call_action_list,name=spark_phase,strict=1,if=variable.totm_on_last_spark_stack&talent.radiant_spark&variable.spark_phase\nactions+=/call_action_list,name=aoe_touch_phase,strict=1,if=debuff.touch_of_the_magi.up&active_enemies>=variable.aoe_target_count\nactions+=/call_action_list,name=touch_phase,strict=1,if=variable.totm_on_last_spark_stack&debuff.touch_of_the_magi.up&active_enemies<variable.aoe_target_count\nactions+=/call_action_list,name=aoe_rotation,strict=1,if=active_enemies>=variable.aoe_target_count\nactions+=/call_action_list,name=rotation\n\nactions.aoe_rotation+=/shifting_power,if=(!talent.evocation||cooldown.evocation.remains>12)&(!talent.arcane_surge||cooldown.arcane_surge.remains>12)&(!talent.touch_of_the_magi||cooldown.touch_of_the_magi.remains>12)&buff.arcane_surge.down&((!talent.charged_orb&cooldown.arcane_orb.remains>12)||(action.arcane_orb.charges=0||cooldown.arcane_orb.remains>12))\nactions.aoe_rotation+=/nether_tempest,if=(refreshable||!ticking)&buff.arcane_charge.stack=buff.arcane_charge.max_stack&buff.arcane_surge.down&(active_enemies>6||!talent.orb_barrage)\nactions.aoe_rotation+=/arcane_barrage,if=(active_enemies<=4||buff.clearcasting.up)&buff.arcane_charge.stack=3\nactions.aoe_rotation+=/arcane_orb,if=buff.arcane_charge.stack=0&cooldown.touch_of_the_magi.remains>18\nactions.aoe_rotation+=/arcane_barrage,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack||mana.pct<10\nactions.aoe_rotation+=/arcane_explosion\n\nactions.aoe_spark_phase=cancel_buff,name=presence_of_mind,if=prev_gcd.1.arcane_blast&cooldown.arcane_surge.remains>75\nactions.aoe_spark_phase+=/touch_of_the_magi,use_off_gcd=1,if=prev_gcd.1.arcane_barrage\nactions.aoe_spark_phase+=/radiant_spark\nactions.aoe_spark_phase+=/arcane_orb,if=buff.arcane_charge.stack<3,line_cd=1\nactions.aoe_spark_phase+=/nether_tempest,if=talent.arcane_echo,line_cd=15\nactions.aoe_spark_phase+=/arcane_surge\n### Waits are used to simulate players allowing radiant spark to increment in stacks\n## actions.aoe_spark_phase+=/wait,sec=0.05,if=cooldown.arcane_surge.remains>75&prev_gcd.1.arcane_blast&!talent.presence_of_mind,line_cd=15\n## actions.aoe_spark_phase+=/wait,sec=0.05,if=prev_gcd.1.arcane_surge,line_cd=15\n## actions.aoe_spark_phase+=/wait,sec=0.05,if=cooldown.arcane_surge.remains<75&debuff.radiant_spark_vulnerability.stack=3&!talent.presence_of_mind,line_cd=15\nactions.aoe_spark_phase+=/arcane_barrage,if=cooldown.arcane_surge.remains<75&debuff.radiant_spark_vulnerability.stack=4&!talent.orb_barrage\nactions.aoe_spark_phase+=/arcane_barrage,if=(debuff.radiant_spark_vulnerability.stack=2&cooldown.arcane_surge.remains>75)||(debuff.radiant_spark_vulnerability.stack=1&cooldown.arcane_surge.remains<75)&!talent.orb_barrage\n# Optimize orb barrage procs during spark at the cost of vulnerabilities, except at 5 or fewer targets where you arcane blast on the 3rd spark stack if its up and you have charges\nactions.aoe_spark_phase+=/arcane_barrage,if=(debuff.radiant_spark_vulnerability.stack=1||debuff.radiant_spark_vulnerability.stack=2||(debuff.radiant_spark_vulnerability.stack=3&active_enemies>5)||debuff.radiant_spark_vulnerability.stack=4)&buff.arcane_charge.stack=buff.arcane_charge.max_stack&talent.orb_barrage\nactions.aoe_spark_phase+=/presence_of_mind\nactions.aoe_spark_phase+=/arcane_blast,if=((debuff.radiant_spark_vulnerability.stack=2||debuff.radiant_spark_vulnerability.stack=3)&!talent.orb_barrage)||(debuff.radiant_spark_vulnerability.remains&talent.orb_barrage)\nactions.aoe_spark_phase+=/arcane_barrage,if=(debuff.radiant_spark_vulnerability.stack=4&buff.arcane_surge.up)||(debuff.radiant_spark_vulnerability.stack=3&buff.arcane_surge.down)&!talent.orb_barrage\n\n## actions.aoe_touch_phase+=/variable,name=conserve_mana,op=set,if=debuff.touch_of_the_magi.remains>9,value=1-variable.conserve_mana\nactions.aoe_touch_phase+=/arcane_barrage,if=(active_enemies<=4&buff.arcane_charge.stack=3)||buff.arcane_charge.stack=buff.arcane_charge.max_stack\nactions.aoe_touch_phase+=/arcane_orb,if=buff.arcane_charge.stack<2\nactions.aoe_touch_phase+=/arcane_explosion\n\nactions.cooldown_phase+=/touch_of_the_magi,use_off_gcd=1,if=prev_gcd.1.arcane_barrage\n## actions.cooldown_phase+=/variable,name=conserve_mana,op=set,if=cooldown.radiant_spark.ready,value=0+(cooldown.arcane_surge.remains<10)\nactions.cooldown_phase+=/shifting_power,if=buff.arcane_surge.down&!talent.radiant_spark\nactions.cooldown_phase+=/arcane_orb,if=cooldown.radiant_spark.ready&buff.arcane_charge.stack<buff.arcane_charge.max_stack\nactions.cooldown_phase+=/arcane_blast,if=cooldown.radiant_spark.ready&(buff.arcane_charge.stack<2||(buff.arcane_charge.stack<buff.arcane_charge.max_stack&cooldown.arcane_orb.remains>=gcd.max))\nactions.cooldown_phase+=/arcane_missiles,if=cooldown.radiant_spark.ready&buff.clearcasting.react&(talent.nether_precision&(buff.nether_precision.down||buff.nether_precision.remains<gcd.max))\nactions.cooldown_phase+=/radiant_spark\nactions.cooldown_phase+=/nether_tempest,if=talent.arcane_echo,line_cd=30\nactions.cooldown_phase+=/arcane_surge\n## actions.cooldown_phase+=/wait,sec=0.05,if=prev_gcd.1.arcane_surge,line_cd=15\nactions.cooldown_phase+=/arcane_barrage,if=prev_gcd.1.arcane_surge||prev_gcd.1.nether_tempest||prev_gcd.1.radiant_spark\nactions.cooldown_phase+=/arcane_blast,if=prev_gcd.1.arcane_barrage||prev_gcd.2.arcane_barrage||prev_gcd.3.arcane_barrage||(prev_gcd.4.arcane_barrage&cooldown.arcane_surge.remains<60)\nactions.cooldown_phase+=/presence_of_mind,if=debuff.touch_of_the_magi.remains<=gcd.max\nactions.cooldown_phase+=/arcane_blast,if=buff.presence_of_mind.up\n# Canceling missile channels as soon as blast is ready to cast\nactions.cooldown_phase+=/arcane_missiles,if=buff.nether_precision.down&buff.clearcasting.react,interrupt_if=gcd.remains=0&mana.pct>30&buff.nether_precision.up\nactions.cooldown_phase+=/arcane_blast\n\nactions.rotation+=/arcane_orb,if=buff.arcane_charge.stack<3&(buff.bloodlust.down||mana.pct>70||(variable.totm_on_last_spark_stack&cooldown.touch_of_the_magi.remains>30))\nactions.rotation+=/shifting_power,if=variable.totm_on_last_spark_stack&(!talent.evocation||cooldown.evocation.remains>12)&(!talent.arcane_surge||cooldown.arcane_surge.remains>12)&(!talent.touch_of_the_magi||cooldown.touch_of_the_magi.remains>12)&buff.arcane_surge.down&fight_remains>15\nactions.rotation+=/shifting_power,if=!variable.totm_on_last_spark_stack&buff.arcane_surge.down&cooldown.arcane_surge.remains>45&fight_remains>15\nactions.rotation+=/nether_tempest,if=(refreshable||!ticking)&equipped.neltharions_call_to_chaos&fight_remains>=12\nactions.rotation+=/presence_of_mind,if=buff.arcane_charge.stack<3&target.health.pct<35&talent.arcane_bombardment\nactions.rotation+=/arcane_blast,if=talent.time_anomaly&buff.arcane_surge.up&buff.arcane_surge.remains<=6\nactions.rotation+=/arcane_blast,if=buff.presence_of_mind.up&target.health.pct<35&talent.arcane_bombardment&buff.arcane_charge.stack<3\nactions.rotation+=/arcane_missiles,if=buff.clearcasting.react&buff.clearcasting.stack=buff.clearcasting.max_stack\nactions.rotation+=/nether_tempest,if=(refreshable||!ticking)&buff.arcane_charge.stack=buff.arcane_charge.max_stack&(buff.temporal_warp.up||mana.pct<10||!talent.shifting_power)&buff.arcane_surge.down&fight_remains>=12\nactions.rotation+=/arcane_barrage,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack&mana.pct<50&!talent.evocation&fight_remains>20\nactions.rotation+=/arcane_barrage,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack&mana.pct<70&variable.conserve_mana&buff.bloodlust.up&cooldown.touch_of_the_magi.remains>5&fight_remains>20\nactions.rotation+=/arcane_missiles,if=buff.clearcasting.react&buff.concentration.up&buff.arcane_charge.stack=buff.arcane_charge.max_stack\nactions.rotation+=/arcane_blast,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack&buff.nether_precision.up\nactions.rotation+=/arcane_barrage,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack&mana.pct<60&variable.conserve_mana&cooldown.touch_of_the_magi.remains>10&cooldown.evocation.remains>40&fight_remains>20\n# Canceling missile channels as soon as blast is ready to cast\nactions.rotation+=/arcane_missiles,if=buff.clearcasting.react&buff.nether_precision.down,interrupt_if=gcd.remains=0&buff.nether_precision.up&(mana.pct>30&cooldown.touch_of_the_magi.remains>30||mana.pct>70)\nactions.rotation+=/arcane_blast\nactions.rotation+=/arcane_barrage\n\nactions.spark_phase+=/nether_tempest,if=!ticking&variable.opener&buff.bloodlust.up,line_cd=45\nactions.spark_phase+=/arcane_blast,if=variable.opener&cooldown.arcane_surge.ready&buff.bloodlust.up&mana>=variable.opener_min_mana\nactions.spark_phase+=/arcane_missiles,if=variable.opener&buff.bloodlust.up&buff.clearcasting.react&buff.clearcasting.stack>=2&cooldown.radiant_spark.remains<5&buff.nether_precision.down,chain=1\nactions.spark_phase+=/arcane_missiles,if=talent.arcane_harmony&buff.arcane_harmony.stack<15&((variable.opener&buff.bloodlust.up)||buff.clearcasting.react&cooldown.radiant_spark.remains<5)&cooldown.arcane_surge.remains<30,chain=1\nactions.spark_phase+=/radiant_spark\nactions.spark_phase+=/nether_tempest,if=(prev_gcd.4.radiant_spark&cooldown.arcane_surge.remains<=execute_time)||prev_gcd.5.radiant_spark,line_cd=15\nactions.spark_phase+=/arcane_surge,if=(!talent.nether_tempest&prev_gcd.4.radiant_spark)||prev_gcd.1.nether_tempest\nactions.spark_phase+=/arcane_blast,if=cast_time>=gcd&execute_time<debuff.radiant_spark_vulnerability.remains&(!talent.arcane_bombardment||target.health.pct>=35)&(talent.nether_tempest&prev_gcd.6.radiant_spark||!talent.nether_tempest&prev_gcd.5.radiant_spark)\n### Waits are used to simulate players allowing radiant spark to increment in stacks\n## actions.spark_phase+=/wait,sec=0.05,if=(talent.nether_tempest&prev_gcd.6.radiant_spark)||(!talent.nether_tempest&prev_gcd.5.radiant_spark),line_cd=15\nactions.spark_phase+=/arcane_barrage,if=debuff.radiant_spark_vulnerability.stack=4\nactions.spark_phase+=/touch_of_the_magi,use_off_gcd=1,if=prev_gcd.1.arcane_barrage&(action.arcane_barrage.in_flight_remains<=0.2||gcd.remains<=0.2)\nactions.spark_phase+=/arcane_blast\nactions.spark_phase+=/arcane_barrage\n\n## actions.touch_phase+=/variable,name=conserve_mana,op=set,if=debuff.touch_of_the_magi.remains>9,value=1-variable.conserve_mana\nactions.touch_phase+=/presence_of_mind,if=debuff.touch_of_the_magi.remains<=gcd.max\nactions.touch_phase+=/arcane_blast,if=buff.presence_of_mind.up&buff.arcane_charge.stack=buff.arcane_charge.max_stack\nactions.touch_phase+=/arcane_barrage,if=(buff.arcane_harmony.up||(talent.arcane_bombardment&target.health.pct<35))&debuff.touch_of_the_magi.remains<=gcd.max\nactions.touch_phase+=/arcane_missiles,if=buff.clearcasting.stack>1&talent.conjure_mana_gem&cooldown.use_mana_gem.ready,chain=1\nactions.touch_phase+=/arcane_blast,if=buff.nether_precision.up\nactions.touch_phase+=/arcane_missiles,if=buff.clearcasting.react&(debuff.touch_of_the_magi.remains>execute_time||!talent.presence_of_mind),chain=1\nactions.touch_phase+=/arcane_blast\nactions.touch_phase+=/arcane_barrage",
				},
				["Arms"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230711,
					["author"] = "SimulationCraft",
					["desc"] = "2023-07-11:  Update trinkets for 10.1.5.\n\n2023-05-20:  Update trinket/CDs.\n\n2023-05-08:  Use Arcane Torrent at pretty low priority in single-target.\n\n2023-05-02:  Update for 10.1.\n\n2023-03-26:  Include Spell Reflection.",
					["lists"] = {
						["single_target"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 1",
								["action"] = "sweeping_strikes",
							}, -- [1]
							{
								["action"] = "mortal_strike",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "remains <= gcd.max || talent.tide_of_blood.enabled & cooldown.skullsplitter.remains <= gcd.max & ( cooldown.colossus_smash.remains <= gcd.max || debuff.colossus_smash.up ) & dot.rend.remains < dot.rend.duration * 0.85",
								["action"] = "rend",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.warlords_torment.enabled & rage.pct < 33 & ( cooldown.colossus_smash.ready || debuff.colossus_smash.up || buff.test_of_might.up ) || ! talent.warlords_torment.enabled & ( cooldown.colossus_smash.ready || debuff.colossus_smash.up )",
								["action"] = "avatar",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.colossus_smash.remains <= gcd.max || cooldown.warbreaker.remains <= gcd.max",
								["action"] = "spear_of_bastion",
							}, -- [5]
							{
								["action"] = "warbreaker",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "colossus_smash",
								["enabled"] = true,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.test_of_might.up || talent.test_of_might.enabled & debuff.colossus_smash.up & rage.pct < 33 || ! talent.test_of_might.enabled & debuff.colossus_smash.up",
								["action"] = "thunderous_roar",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.hurricane.enabled & ( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up ) || talent.unhinged.enabled & ( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up )",
								["action"] = "bladestorm",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.tide_of_blood.enabled & dot.rend.remains & ( debuff.colossus_smash.up || cooldown.colossus_smash.remains > gcd.max * 4 & buff.test_of_might.up || ! talent.test_of_might.enabled & cooldown.colossus_smash.remains > gcd.max * 4 ) || rage < 30",
								["action"] = "skullsplitter",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.sudden_death.react",
								["action"] = "execute",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "talent.sonic_boom.enabled",
								["action"] = "shockwave",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "talent.anger_management.enabled || talent.test_of_might.enabled & debuff.colossus_smash.up",
								["action"] = "ignore_pain",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "talent.storm_of_swords.enabled & talent.battlelord.enabled & rage.pct > 80 & debuff.colossus_smash.up",
								["action"] = "whirlwind",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "charges = 2 & ! talent.battlelord.enabled & ( debuff.colossus_smash.down || rage.pct < 25 ) || talent.battlelord.enabled",
								["action"] = "overpower",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "talent.storm_of_swords.enabled || talent.fervor_of_battle.enabled & active_enemies > 1",
								["action"] = "whirlwind",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.battlelord.enabled & talent.blood_and_thunder.enabled",
								["action"] = "thunder_clap",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.down & rage.pct < 50 & ! talent.battlelord.enabled || rage.pct < 25",
								["action"] = "overpower",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.merciless_bonegrinder.up",
								["action"] = "whirlwind",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier29_2pc & ! talent.crushing_force.enabled",
								["action"] = "cleave",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "rage > 30 & ( ! talent.fervor_of_battle.enabled || talent.fervor_of_battle.enabled & active_enemies = 1 )",
								["action"] = "slam",
							}, -- [21]
							{
								["action"] = "bladestorm",
								["enabled"] = true,
							}, -- [22]
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							}, -- [23]
							{
								["action"] = "cleave",
								["enabled"] = true,
							}, -- [24]
							{
								["action"] = "wrecking_throw",
								["enabled"] = true,
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "remains < duration * 0.3",
								["action"] = "rend",
							}, -- [26]
						},
						["default"] = {
							{
								["enabled"] = true,
								["criteria"] = "time <= 0.5 || movement.distance > 8",
								["action"] = "charge",
							}, -- [1]
							{
								["action"] = "pummel",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "spell_reflection",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "gcd.remains = 0 & debuff.colossus_smash.remains > 8 || boss & fight_remains < 25",
								["action"] = "potion",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.avatar.remains < 3",
								["action"] = "algethar_puzzle_box",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "vial_of_animated_blood",
							}, -- [6]
							{
								["use_off_gcd"] = 1,
								["action"] = "elementium_pocket_anvil",
								["enabled"] = true,
							}, -- [7]
							{
								["use_off_gcd"] = 1,
								["action"] = "beacon_to_the_beyond",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "irideus_fragment",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "! buff.avatar.up & ! debuff.colossus_smash.up",
								["action"] = "manic_grieftorch",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "gcd.remains = 0 & debuff.colossus_smash.remains > 8 || boss & fight_remains < 25",
								["action"] = "gladiators_badge",
							}, -- [11]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.mortal_strike.remains > 1.5 & rage < 50",
								["action"] = "arcane_torrent",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.down & cooldown.mortal_strike.remains",
								["action"] = "lights_judgment",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.down & cooldown.mortal_strike.remains",
								["action"] = "bag_of_tricks",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.remains > 6",
								["action"] = "berserking",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.up",
								["action"] = "ancestral_call",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.up",
								["action"] = "blood_fury",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.up",
								["action"] = "ancestral_call",
							}, -- [19]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "raid_event.adds.exists || active_enemies > 2",
								["list_name"] = "hac",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["cycle_targets"] = 1,
								["strict"] = 1,
								["criteria"] = "( talent.massacre.enabled & target.health.pct < 35 ) || target.health.pct < 20",
								["list_name"] = "execute",
							}, -- [21]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "! raid_event.adds.exists",
								["list_name"] = "single_target",
							}, -- [22]
						},
						["precombat"] = {
							{
								["action"] = "battle_stance",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "battle_shout",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [3]
						},
						["execute"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 1",
								["action"] = "sweeping_strikes",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "remains <= gcd.max & ( ! talent.warbreaker.enabled & cooldown.colossus_smash.remains < 4 || talent.warbreaker.enabled & cooldown.warbreaker.remains < 4 ) & target.time_to_die > 12",
								["action"] = "rend",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.colossus_smash.ready || debuff.colossus_smash.up || boss & fight_remains < 20",
								["action"] = "avatar",
							}, -- [3]
							{
								["action"] = "warbreaker",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "colossus_smash",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up",
								["action"] = "thunderous_roar",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.up || buff.test_of_might.up",
								["action"] = "spear_of_bastion",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "rage < 40",
								["action"] = "skullsplitter",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 2 & dot.deep_wounds.remains < gcd.max",
								["action"] = "cleave",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "rage < 40 & buff.martial_prowess.stack < 2",
								["action"] = "overpower",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "debuff.executioners_precision.stack = 2 || dot.deep_wounds.remains <= gcd.max",
								["action"] = "mortal_strike",
							}, -- [11]
							{
								["action"] = "execute",
								["enabled"] = true,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "talent.sonic_boom.enabled",
								["action"] = "shockwave",
							}, -- [13]
							{
								["action"] = "overpower",
								["enabled"] = true,
							}, -- [14]
							{
								["action"] = "bladestorm",
								["enabled"] = true,
							}, -- [15]
						},
						["hac"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.juggernaut.up & buff.juggernaut.remains < gcd.max",
								["action"] = "execute",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 & talent.thunder_clap.enabled & talent.blood_and_thunder.enabled & talent.rend.enabled & dot.rend.remains <= dot.rend.duration * 0.3",
								["action"] = "thunder_clap",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 2 & ( cooldown.bladestorm.remains > 15 || ! talent.bladestorm.enabled )",
								["action"] = "sweeping_strikes",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & remains <= gcd.max & ( target.health.pct > 20 || talent.massacre.enabled & target.health.pct > 35 ) || talent.tide_of_blood.enabled & cooldown.skullsplitter.remains <= gcd.max & ( cooldown.colossus_smash.remains <= gcd.max || debuff.colossus_smash.up ) & dot.rend.remains < dot.rend.duration * 0.85",
								["action"] = "rend",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15 || talent.blademasters_torment.enabled & active_enemies > 1 || target.time_to_die < 20",
								["action"] = "avatar",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 22 || active_enemies > 1",
								["action"] = "warbreaker",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( target.health.pct < 20 || talent.massacre.enabled & target.health.pct < 35 )",
								["action"] = "colossus_smash",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["action"] = "colossus_smash",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up ) & raid_event.adds.in > 15 || active_enemies > 1 & dot.deep_wounds.remains",
								["action"] = "thunderous_roar",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up ) & raid_event.adds.in > 15",
								["action"] = "spear_of_bastion",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "talent.unhinged.enabled & ( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up )",
								["action"] = "bladestorm",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & ( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up ) & raid_event.adds.in > 30 || active_enemies > 1 & dot.deep_wounds.remains",
								["action"] = "bladestorm",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 || ! talent.battlelord.enabled & buff.merciless_bonegrinder.up & cooldown.mortal_strike.remains > gcd.max",
								["action"] = "cleave",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 || talent.storm_of_swords.enabled & ( buff.merciless_bonegrinder.up || buff.hurricane.up )",
								["action"] = "whirlwind",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "rage < 40 || talent.tide_of_blood.enabled & dot.rend.remains & ( buff.sweeping_strikes.up & active_enemies >= 2 || debuff.colossus_smash.up || buff.test_of_might.up )",
								["action"] = "skullsplitter",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc",
								["action"] = "mortal_strike",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "buff.sweeping_strikes.up & talent.dreadnaught.enabled",
								["action"] = "overpower",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "debuff.executioners_precision.stack = 2 || dot.deep_wounds.remains <= gcd.max || talent.dreadnaught.enabled & talent.battlelord.enabled & active_enemies <= 2",
								["action"] = "mortal_strike",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.sudden_death.react || active_enemies <= 2 & ( target.health.pct < 20 || talent.massacre.enabled & target.health.pct < 35 ) || buff.sweeping_strikes.up",
								["action"] = "execute",
								["cycle_targets"] = 1,
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15",
								["action"] = "thunderous_roar",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 & talent.sonic_boom.enabled",
								["action"] = "shockwave",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & ( charges = 2 & ! talent.battlelord.enabled & ( debuff.colossus_smash.down || rage.pct < 25 ) || talent.battlelord.enabled )",
								["action"] = "overpower",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & ! talent.battlelord.enabled & rage.pct > 70",
								["action"] = "slam",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "charges = 2 & ( ! talent.test_of_might.enabled || talent.test_of_might.enabled & debuff.colossus_smash.down || talent.battlelord.enabled ) || rage < 70",
								["action"] = "overpower",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2",
								["action"] = "thunder_clap",
							}, -- [25]
							{
								["action"] = "mortal_strike",
								["enabled"] = true,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & dot.rend.remains < duration * 0.3",
								["action"] = "rend",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "talent.storm_of_swords.enabled || talent.fervor_of_battle.enabled & active_enemies > 1",
								["action"] = "whirlwind",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "! talent.crushing_force.enabled",
								["action"] = "cleave",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "talent.battlelord.enabled & talent.anger_management.enabled & rage > 30 & ( target.health.pct > 20 || talent.massacre.enabled & target.health.pct > 35 )",
								["action"] = "ignore_pain",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "talent.crushing_force.enabled & rage > 30 & ( talent.fervor_of_battle.enabled & active_enemies = 1 || ! talent.fervor_of_battle.enabled )",
								["action"] = "slam",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "talent.sonic_boom.enabled",
								["action"] = "shockwave",
							}, -- [32]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 30",
								["action"] = "bladestorm",
							}, -- [33]
							{
								["action"] = "wrecking_throw",
								["enabled"] = true,
							}, -- [34]
						},
					},
					["version"] = 20230711,
					["warnings"] = "The import for 'single_target' required some automated changes.\nLine 3: Converted 'talent.tide_of_blood' to 'talent.tide_of_blood.enabled' (1x).\nLine 4: Converted 'talent.warlords_torment' to 'talent.warlords_torment.enabled' (1x).\nLine 4: Converted 'talent.warlords_torment' to 'talent.warlords_torment.enabled' (1x).\nLine 8: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 8: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 9: Converted 'talent.hurricane' to 'talent.hurricane.enabled' (1x).\nLine 9: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 9: Converted 'talent.unhinged' to 'talent.unhinged.enabled' (1x).\nLine 9: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 10: Converted 'talent.tide_of_blood' to 'talent.tide_of_blood.enabled' (1x).\nLine 10: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 13: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 13: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 14: Converted 'talent.storm_of_swords' to 'talent.storm_of_swords.enabled' (1x).\nLine 14: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 15: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 15: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 16: Converted 'talent.storm_of_swords' to 'talent.storm_of_swords.enabled' (1x).\nLine 16: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 17: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 17: Converted 'talent.blood_and_thunder' to 'talent.blood_and_thunder.enabled' (1x).\nLine 18: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 20: Converted 'talent.crushing_force' to 'talent.crushing_force.enabled' (1x).\nLine 21: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 21: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\n\nThe import for 'execute' required some automated changes.\nLine 2: Converted 'talent.warbreaker' to 'talent.warbreaker.enabled' (1x).\nLine 2: Converted 'talent.warbreaker' to 'talent.warbreaker.enabled' (1x).\nLine 6: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 13: Converted 'talent.sonic_boom' to 'talent.sonic_boom.enabled' (1x).\n\nThe import for 'hac' required some automated changes.\nLine 2: Converted 'talent.thunder_clap' to 'talent.thunder_clap.enabled' (1x).\nLine 2: Converted 'talent.blood_and_thunder' to 'talent.blood_and_thunder.enabled' (1x).\nLine 2: Converted 'talent.rend' to 'talent.rend.enabled' (1x).\nLine 3: Converted 'talent.bladestorm' to 'talent.bladestorm.enabled' (1x).\nLine 4: Converted 'talent.massacre' to 'talent.massacre.enabled' (1x).\nLine 4: Converted 'talent.tide_of_blood' to 'talent.tide_of_blood.enabled' (1x).\nLine 5: Converted 'talent.blademasters_torment' to 'talent.blademasters_torment.enabled' (1x).\nLine 7: Converted 'talent.massacre' to 'talent.massacre.enabled' (1x).\nLine 9: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 10: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 11: Converted 'talent.unhinged' to 'talent.unhinged.enabled' (1x).\nLine 11: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 12: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 13: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 14: Converted 'talent.storm_of_swords' to 'talent.storm_of_swords.enabled' (1x).\nLine 15: Converted 'talent.tide_of_blood' to 'talent.tide_of_blood.enabled' (1x).\nLine 17: Converted 'talent.dreadnaught' to 'talent.dreadnaught.enabled' (1x).\nLine 18: Converted 'talent.dreadnaught' to 'talent.dreadnaught.enabled' (1x).\nLine 18: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 19: Converted 'talent.massacre' to 'talent.massacre.enabled' (1x).\nLine 21: Converted 'talent.sonic_boom' to 'talent.sonic_boom.enabled' (1x).\nLine 22: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 22: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 23: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 24: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 24: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 24: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 28: Converted 'talent.storm_of_swords' to 'talent.storm_of_swords.enabled' (1x).\nLine 28: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 29: Converted 'talent.crushing_force' to 'talent.crushing_force.enabled' (1x).\nLine 30: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 30: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 30: Converted 'talent.massacre' to 'talent.massacre.enabled' (1x).\nLine 31: Converted 'talent.crushing_force' to 'talent.crushing_force.enabled' (1x).\nLine 31: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 31: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 32: Converted 'talent.sonic_boom' to 'talent.sonic_boom.enabled' (1x).\n\nImported 5 action lists.\n",
					["spec"] = 71,
					["profile"] = "actions.precombat+=/battle_stance\nactions.precombat+=/battle_shout\nactions.precombat+=/use_item,name=algethar_puzzle_box\n\nactions+=/charge,if=time<=0.5||movement.distance>8\nactions+=/pummel\nactions+=/spell_reflection\nactions+=/potion,if=gcd.remains=0&debuff.colossus_smash.remains>8||boss&fight_remains<25\nactions+=/algethar_puzzle_box,if=cooldown.avatar.remains<3\nactions+=/vial_of_animated_blood,if=buff.avatar.up\nactions+=/elementium_pocket_anvil,use_off_gcd=1\nactions+=/beacon_to_the_beyond,use_off_gcd=1\nactions+=/irideus_fragment,if=buff.avatar.up\nactions+=/manic_grieftorch,if=!buff.avatar.up&!debuff.colossus_smash.up\nactions+=/gladiators_badge,if=gcd.remains=0&debuff.colossus_smash.remains>8||boss&fight_remains<25\nactions+=/use_items\nactions+=/arcane_torrent,if=cooldown.mortal_strike.remains>1.5&rage<50\nactions+=/lights_judgment,if=debuff.colossus_smash.down&cooldown.mortal_strike.remains\nactions+=/bag_of_tricks,if=debuff.colossus_smash.down&cooldown.mortal_strike.remains\nactions+=/berserking,if=debuff.colossus_smash.remains>6\nactions+=/ancestral_call,if=debuff.colossus_smash.up\nactions+=/blood_fury,if=debuff.colossus_smash.up\nactions+=/ancestral_call,if=debuff.colossus_smash.up\nactions+=/run_action_list,name=hac,strict=1,if=raid_event.adds.exists||active_enemies>2\nactions+=/call_action_list,name=execute,cycle_targets=1,strict=1,if=(talent.massacre.enabled&target.health.pct<35)||target.health.pct<20\nactions+=/run_action_list,name=single_target,strict=1,if=!raid_event.adds.exists\n\nactions.execute+=/sweeping_strikes,if=spell_targets.whirlwind>1\nactions.execute+=/rend,if=remains<=gcd&(!talent.warbreaker&cooldown.colossus_smash.remains<4||talent.warbreaker&cooldown.warbreaker.remains<4)&target.time_to_die>12\nactions.execute+=/avatar,if=cooldown.colossus_smash.ready||debuff.colossus_smash.up||boss&fight_remains<20\nactions.execute+=/warbreaker\nactions.execute+=/colossus_smash\nactions.execute+=/thunderous_roar,if=buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up\nactions.execute+=/spear_of_bastion,if=debuff.colossus_smash.up||buff.test_of_might.up\nactions.execute+=/skullsplitter,if=rage<40\nactions.execute+=/cleave,if=spell_targets.whirlwind>2&dot.deep_wounds.remains<gcd\nactions.execute+=/overpower,if=rage<40&buff.martial_prowess.stack<2\nactions.execute+=/mortal_strike,if=debuff.executioners_precision.stack=2||dot.deep_wounds.remains<=gcd\nactions.execute+=/execute\nactions.execute+=/shockwave,if=talent.sonic_boom\nactions.execute+=/overpower\nactions.execute+=/bladestorm\n\nactions.hac+=/execute,if=buff.juggernaut.up&buff.juggernaut.remains<gcd\nactions.hac+=/thunder_clap,if=active_enemies>2&talent.thunder_clap&talent.blood_and_thunder&talent.rend&dot.rend.remains<=dot.rend.duration*0.3\nactions.hac+=/sweeping_strikes,if=active_enemies>=2&(cooldown.bladestorm.remains>15||!talent.bladestorm)\nactions.hac+=/rend,if=active_enemies=1&remains<=gcd&(target.health.pct>20||talent.massacre&target.health.pct>35)||talent.tide_of_blood&cooldown.skullsplitter.remains<=gcd&(cooldown.colossus_smash.remains<=gcd||debuff.colossus_smash.up)&dot.rend.remains<dot.rend.duration*0.85\nactions.hac+=/avatar,if=raid_event.adds.in>15||talent.blademasters_torment&active_enemies>1||target.time_to_die<20\nactions.hac+=/warbreaker,if=raid_event.adds.in>22||active_enemies>1\nactions.hac+=/colossus_smash,cycle_targets=1,if=(target.health.pct<20||talent.massacre&target.health.pct<35)\nactions.hac+=/colossus_smash\nactions.hac+=/thunderous_roar,if=(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)&raid_event.adds.in>15||active_enemies>1&dot.deep_wounds.remains\nactions.hac+=/spear_of_bastion,if=(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)&raid_event.adds.in>15\nactions.hac+=/bladestorm,if=talent.unhinged&(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)\nactions.hac+=/bladestorm,if=active_enemies>1&(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)&raid_event.adds.in>30||active_enemies>1&dot.deep_wounds.remains\nactions.hac+=/cleave,if=active_enemies>2||!talent.battlelord&buff.merciless_bonegrinder.up&cooldown.mortal_strike.remains>gcd\nactions.hac+=/whirlwind,if=active_enemies>2||talent.storm_of_swords&(buff.merciless_bonegrinder.up||buff.hurricane.up)\nactions.hac+=/skullsplitter,if=rage<40||talent.tide_of_blood&dot.rend.remains&(buff.sweeping_strikes.up&active_enemies>=2||debuff.colossus_smash.up||buff.test_of_might.up)\nactions.hac+=/mortal_strike,if=buff.sweeping_strikes.up&buff.crushing_advance.stack=3,if=set_bonus.tier30_4pc\nactions.hac+=/overpower,if=buff.sweeping_strikes.up&talent.dreadnaught\nactions.hac+=/mortal_strike,cycle_targets=1,if=debuff.executioners_precision.stack=2||dot.deep_wounds.remains<=gcd||talent.dreadnaught&talent.battlelord&active_enemies<=2\nactions.hac+=/execute,cycle_targets=1,if=buff.sudden_death.react||active_enemies<=2&(target.health.pct<20||talent.massacre&target.health.pct<35)||buff.sweeping_strikes.up\nactions.hac+=/thunderous_roar,if=raid_event.adds.in>15\nactions.hac+=/shockwave,if=active_enemies>2&talent.sonic_boom\nactions.hac+=/overpower,if=active_enemies=1&(charges=2&!talent.battlelord&(debuff.colossus_smash.down||rage.pct<25)||talent.battlelord)\nactions.hac+=/slam,if=active_enemies=1&!talent.battlelord&rage.pct>70\nactions.hac+=/overpower,if=charges=2&(!talent.test_of_might||talent.test_of_might&debuff.colossus_smash.down||talent.battlelord)||rage<70\nactions.hac+=/thunder_clap,if=active_enemies>2\nactions.hac+=/mortal_strike\nactions.hac+=/rend,if=active_enemies=1&dot.rend.remains<duration*0.3\nactions.hac+=/whirlwind,if=talent.storm_of_swords||talent.fervor_of_battle&active_enemies>1\nactions.hac+=/cleave,if=!talent.crushing_force\nactions.hac+=/ignore_pain,if=talent.battlelord&talent.anger_management&rage>30&(target.health.pct>20||talent.massacre&target.health.pct>35)\nactions.hac+=/slam,if=talent.crushing_force&rage>30&(talent.fervor_of_battle&active_enemies=1||!talent.fervor_of_battle)\nactions.hac+=/shockwave,if=talent.sonic_boom\nactions.hac+=/bladestorm,if=raid_event.adds.in>30\nactions.hac+=/wrecking_throw\n\nactions.single_target+=/sweeping_strikes,if=spell_targets.whirlwind>1\nactions.single_target+=/mortal_strike\nactions.single_target+=/rend,if=remains<=gcd||talent.tide_of_blood&cooldown.skullsplitter.remains<=gcd&(cooldown.colossus_smash.remains<=gcd||debuff.colossus_smash.up)&dot.rend.remains<dot.rend.duration*0.85\nactions.single_target+=/avatar,if=talent.warlords_torment&rage.pct<33&(cooldown.colossus_smash.ready||debuff.colossus_smash.up||buff.test_of_might.up)||!talent.warlords_torment&(cooldown.colossus_smash.ready||debuff.colossus_smash.up)\nactions.single_target+=/spear_of_bastion,if=cooldown.colossus_smash.remains<=gcd||cooldown.warbreaker.remains<=gcd\nactions.single_target+=/warbreaker\nactions.single_target+=/colossus_smash\nactions.single_target+=/thunderous_roar,if=buff.test_of_might.up||talent.test_of_might&debuff.colossus_smash.up&rage.pct<33||!talent.test_of_might&debuff.colossus_smash.up\nactions.single_target+=/bladestorm,if=talent.hurricane&(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)||talent.unhinged&(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)\nactions.single_target+=/skullsplitter,if=talent.tide_of_blood&dot.rend.remains&(debuff.colossus_smash.up||cooldown.colossus_smash.remains>gcd*4&buff.test_of_might.up||!talent.test_of_might&cooldown.colossus_smash.remains>gcd*4)||rage<30\nactions.single_target+=/execute,if=buff.sudden_death.react\nactions.single_target+=/shockwave,if=talent.sonic_boom.enabled\nactions.single_target+=/ignore_pain,if=talent.anger_management||talent.test_of_might&debuff.colossus_smash.up\nactions.single_target+=/whirlwind,if=talent.storm_of_swords&talent.battlelord&rage.pct>80&debuff.colossus_smash.up\nactions.single_target+=/overpower,if=charges=2&!talent.battlelord&(debuff.colossus_smash.down||rage.pct<25)||talent.battlelord\nactions.single_target+=/whirlwind,if=talent.storm_of_swords||talent.fervor_of_battle&active_enemies>1\nactions.single_target+=/thunder_clap,if=talent.battlelord&talent.blood_and_thunder\nactions.single_target+=/overpower,if=debuff.colossus_smash.down&rage.pct<50&!talent.battlelord||rage.pct<25\nactions.single_target+=/whirlwind,if=buff.merciless_bonegrinder.up\nactions.single_target+=/cleave,if=set_bonus.tier29_2pc&!talent.crushing_force\nactions.single_target+=/slam,if=rage>30&(!talent.fervor_of_battle||talent.fervor_of_battle&active_enemies=1)\nactions.single_target+=/bladestorm\nactions.single_target+=/arcane_torrent\nactions.single_target+=/cleave\nactions.single_target+=/wrecking_throw\nactions.single_target+=/rend,if=remains<duration*0.3",
				},
				["Outlaw"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230711.1,
					["author"] = "SimC",
					["desc"] = "2023-07-11:  Patch 10.1.5 update (from SimulationCraft).\n\n2023-05-26:  Relax Beacon to the Beyond timing so it doesn't vanish after hitting the previous button.  Use it immediately after the previous ability; don't wait for the GCD!\n\n2023-05-14:  Shiv.\n\n2023-05-12:  Add Beacon to the Beyond.\n\n2023-02-15:  Added option to use Adrenaline Rush before Roll the Bones in the opener if Loaded Dice is talented, to guarantee two buffs.  This would mainly be used by folks taking Count the Odds and Loaded Dice.  See Outlaw specialization options (at left).\n\nAdded logic to prevent Vanish in the first 10s of combat (in case of delayed opener).\n\n2023-03-13:  Update Manic Grieftorch usage.",
					["lists"] = {
						["build"] = {
							{
								["enabled"] = true,
								["action"] = "sepsis",
								["cycle_targets"] = 1,
								["criteria"] = "target.time_to_die > 11 & debuff.between_the_eyes.up || boss & fight_remains < 11",
								["description"] = "Builders",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "debuff.ghostly_strike.remains <= 3 & ( spell_targets.blade_flurry <= 2 || buff.dreadblades.up ) & ! buff.subterfuge.up & target.time_to_die >= 5",
								["action"] = "ghostly_strike",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.keep_it_rolling.enabled & ( ( buff.audacity.up || buff.sepsis_buff.up ) & talent.find_weakness.enabled & debuff.find_weakness.remains < 2 || buff.subterfuge.up & cooldown.keep_it_rolling.ready )",
								["action"] = "ambush",
								["description"] = "High priority Ambush line to apply Find Weakness or consume Audacity/Sepsis buff before Pistol Shot",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.hidden_opportunity.enabled & ( buff.audacity.up || buff.sepsis_buff.up )",
								["action"] = "ambush",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "talent.fan_the_hammer.enabled & talent.audacity.enabled & talent.hidden_opportunity.enabled & buff.opportunity.up & ! buff.audacity.up & ! buff.subterfuge.up & ! buff.shadow_dance.up",
								["action"] = "pistol_shot",
								["description"] = "With Audacity + Hidden Opportunity + Fan the Hammer, use Pistol Shot to proc Audacity any time Ambush is not available",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.greenskins_wickers.up & ( ! talent.fan_the_hammer.enabled & buff.opportunity.up || buff.greenskins_wickers.remains < 1.5 )",
								["action"] = "pistol_shot",
								["description"] = "Use Greenskins Wickers buff immediately with Opportunity unless running Fan the Hammer",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.fan_the_hammer.enabled & buff.opportunity.up & ( buff.opportunity.stack >= buff.opportunity.max_stack || buff.opportunity.remains < 2 )",
								["action"] = "pistol_shot",
								["description"] = "With Fan the Hammer, consume Opportunity at max stacks or if we will get max 4+ CP and Dreadblades is not up",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.fan_the_hammer.enabled & buff.opportunity.up & combo_points.deficit > ( ( 1 + talent.quick_draw.enabled ) * talent.fan_the_hammer.rank ) & ! buff.dreadblades.up & ( ! talent.hidden_opportunity.enabled || ! buff.subterfuge.up & ! buff.shadow_dance.up )",
								["action"] = "pistol_shot",
							}, -- [8]
							{
								["action"] = "echoing_reprimand",
								["enabled"] = true,
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "settings.ambush_anyway || talent.hidden_opportunity.enabled || talent.find_weakness.enabled & debuff.find_weakness.down",
								["action"] = "ambush",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "! talent.fan_the_hammer.enabled & buff.opportunity.up & ( energy.base_deficit > energy.regen * 1.5 || ! talent.weaponmaster.enabled & combo_points.deficit <= 1 + buff.broadside.up || talent.quick_draw.enabled || talent.audacity.enabled & ! buff.audacity.up )",
								["action"] = "pistol_shot",
								["description"] = "Use Pistol Shot with Opportunity if Combat Potency won't overcap energy, when it will exactly cap CP, or when using Quick Draw",
							}, -- [11]
							{
								["action"] = "sinister_strike",
								["enabled"] = true,
							}, -- [12]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Restealth if possible (no vulnerable enemies in combat)",
								["action"] = "stealth",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Interrupt on cooldown to allow simming interactions with that",
								["action"] = "kick",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "debuff.dispellable_enrage.up",
								["action"] = "shiv",
								["description"] = "Shiv to dispel Enrage effects.",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.count_the_odds.enabled & ( stealthed.basic || buff.shadowmeld.up || buff.shadow_dance.up )",
								["description"] = "Checks if we are in an appropriate Stealth state for triggering the Count the Odds bonus",
								["var_name"] = "stealthed_cto",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "rtb_reroll",
								["criteria"] = "! talent.hidden_opportunity.enabled",
								["description"] = "Roll the Bones Reroll Conditions",
								["value"] = "rtb_buffs < 2 & ( ! buff.broadside.up & ( ! talent.fan_the_hammer.enabled || ! buff.skull_and_crossbones.up ) & ! buff.true_bearing.up || buff.loaded_dice.up ) || rtb_buffs = 2 & ( buff.buried_treasure.up & buff.grand_melee.up || ! buff.broadside.up & ! buff.true_bearing.up & buff.loaded_dice.up )",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "rtb_reroll",
								["criteria"] = "! talent.hidden_opportunity.enabled & ( talent.keep_it_rolling.enabled || talent.count_the_odds.enabled )",
								["description"] = "Additional Reroll Conditions for Keep it Rolling or Count the Odds",
								["value"] = "variable.rtb_reroll || ( ( rtb_buffs_normal = 0 & rtb_buffs_longer >= 1 ) & ! ( buff.broadside.up & buff.true_bearing.up & buff.skull_and_crossbones.up ) & ! ( buff.broadside.remains > 39 || buff.true_bearing.remains > 39 || buff.ruthless_precision.remains > 39 || buff.skull_and_crossbones.remains > 39 ) )",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "rtb_reroll",
								["criteria"] = "talent.hidden_opportunity.enabled",
								["description"] = "With Hidden Opportunity, prioritize rerolling for Skull and Crossbones over everything else",
								["value"] = "! rtb_buffs_will_lose_buff.skull_and_crossbones & rtb_buffs_will_lose < 2 & buff.shadow_dance.down & buff.subterfuge.down",
							}, -- [7]
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "rtb_reroll",
								["criteria"] = "! ( raid_event.adds.remains > 12 || raid_event.adds.up & ( raid_event.adds.in - raid_event.adds.remains ) < 6 || target.time_to_die > 12 ) || boss & fight_remains < 12",
								["description"] = "Avoid rerolls when we will not have time remaining on the fight or add wave to recoup the opportunity cost of the global",
							}, -- [8]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "( talent.hidden_opportunity.enabled || combo_points.deficit >= 2 + talent.improved_ambush.enabled + buff.broadside.up || buff.vicious_followup.up || settings.ambush_anyway ) & energy >= 50",
								["description"] = "Ensure we want to cast Ambush prior to triggering a Stealth cooldown",
								["var_name"] = "ambush_condition",
							}, -- [9]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "combo_points >= ( ( cp_max_spend - 1 ) <? ( 6 - talent.summarily_dispatched.enabled ) ) || effective_combo_points >= cp_max_spend",
								["description"] = "Finish at 6 (5 with Summarily Dispatched talented) CP or CP Max-1, whichever is greater of the two",
								["var_name"] = "finish_condition",
							}, -- [10]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.blade_flurry < 2 & raid_event.adds.in > 20 || buff.blade_flurry.remains > 1 + talent.killing_spree.enabled",
								["description"] = "With multiple targets, this variable is checked to decide whether some CDs should be synced with Blade Flurry",
								["var_name"] = "blade_flurry_sync",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Higher priority Stealth list for Count the Odds or true Stealth/Vanish that will break in a single global",
								["criteria"] = "stealthed.basic || buff.shadowmeld.up",
								["list_name"] = "stealth",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cds",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Lower priority Stealth list for Shadow Dance",
								["criteria"] = "variable.stealthed_cto",
								["list_name"] = "stealth",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "variable.finish_condition",
								["action"] = "run_action_list",
								["list_name"] = "finish",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "build",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "energy.base_deficit >= 15 + energy.regen",
								["action"] = "arcane_torrent",
							}, -- [17]
							{
								["action"] = "arcane_pulse",
								["enabled"] = true,
							}, -- [18]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [19]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [20]
						},
						["precombat"] = {
							{
								["action"] = "apply_poison",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "bottled_flayedwing_toxin",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [3]
							{
								["action"] = "stealth",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "marked_for_death",
								["criteria"] = "raid_event.adds.in > 25",
								["precombat_seconds"] = "10",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "adrenaline_rush",
								["criteria"] = "talent.improved_adrenaline_rush.enabled || settings.use_ld_opener & cooldown.roll_the_bones.remains < 1 & ( buff.roll_the_bones.remains < 3 || rtb_buffs_normal = 0 )",
								["precombat_seconds"] = "3",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "roll_the_bones",
								["criteria"] = "remains < 3 || rtb_buffs_normal = 0",
								["precombat_seconds"] = "2",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "slice_and_dice",
								["criteria"] = "refreshable & buff.grand_melee.down & ! settings.use_ld_opener",
								["precombat_seconds"] = "1",
							}, -- [8]
						},
						["stealth"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.subterfuge.enabled & talent.hidden_opportunity.enabled & spell_targets >= 2 & ! buff.blade_flurry.up",
								["action"] = "blade_flurry",
								["description"] = "Stealth",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "variable.finish_condition",
								["action"] = "cold_blood",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "variable.finish_condition",
								["action"] = "dispatch",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "variable.stealthed_cto || stealthed.basic & ( settings.ambush_anyway || talent.find_weakness.enabled & ! debuff.find_weakness.up || talent.hidden_opportunity.enabled )",
								["action"] = "ambush",
							}, -- [4]
						},
						["cds"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.adrenaline_rush.up & ( ! talent.improved_adrenaline_rush.enabled || combo_points <= 2 )",
								["action"] = "adrenaline_rush",
								["description"] = "Cooldowns",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( spell_targets >= 2 || ( ( buff.grand_melee.up & talent.hidden_opportunity.enabled ) || ( buff.grand_melee.remains > 10 ) ) & ! stealthed.rogue & ! buff.dreadblades.up ) & buff.blade_flurry.remains < gcd.max",
								["action"] = "blade_flurry",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.dreadblades.down & ( rtb_buffs = 0 || variable.rtb_reroll )",
								["action"] = "roll_the_bones",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! variable.rtb_reroll & ( buff.broadside.up + buff.true_bearing.up + buff.skull_and_crossbones.up + buff.ruthless_precision.up + buff.grand_melee.up ) > 2 & ( buff.shadow_dance.down || rtb_buffs >= 6 )",
								["action"] = "keep_it_rolling",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "variable.blade_flurry_sync & ! buff.dreadblades.up & ( energy.base_time_to_max > 4 + stealthed.rogue - spell_targets / 3 )",
								["action"] = "blade_rush",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! stealthed.all || talent.count_the_odds.enabled & ! talent.hidden_opportunity.enabled & ! variable.stealthed_cto",
								["action"] = "call_action_list",
								["list_name"] = "stealth_cds",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! ( variable.stealthed_cto || stealthed.basic || talent.hidden_opportunity.enabled & stealthed.rogue ) & combo_points <= 2 & ( ! talent.marked_for_death.enabled || ! cooldown.marked_for_death.ready ) & target.time_to_die >= 10",
								["action"] = "dreadblades",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "marked_for_death",
								["line_cd"] = "1.5",
								["cycle_targets"] = 1,
								["criteria"] = "raid_event.adds.up & ( target.time_to_die < combo_points.deficit || combo_points.deficit >= cp_max_spend - 1 ) & ! buff.dreadblades.up",
								["description"] = "If adds are up, snipe the one with lowest TTD. Use when dying faster than CP deficit or without any CP.",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 30 - raid_event.adds.duration & combo_points.deficit >= cp_max_spend - 1 & ! buff.dreadblades.up",
								["action"] = "marked_for_death",
								["description"] = "If no adds will die within the next 30s, use MfD on boss without any CP.",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "! buff.thistle_tea.up & ( energy.base_deficit >= 100 || boss & fight_remains < charges * 6 )",
								["action"] = "thistle_tea",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "variable.blade_flurry_sync & ! stealthed.rogue & debuff.between_the_eyes.up & energy.base_time_to_max > 4",
								["action"] = "killing_spree",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "! stealthed.all & ( talent.count_the_odds.enabled & variable.finish_condition || ! talent.weaponmaster.enabled & variable.ambush_condition )",
								["action"] = "shadowmeld",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.react || boss & fight_remains < 30 || buff.adrenaline_rush.up",
								["action"] = "potion",
							}, -- [13]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [14]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [15]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [16]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "manic_grieftorch",
								["use_off_gcd"] = 1,
								["name"] = "manic_grieftorch",
								["criteria"] = "! stealthed.all & debuff.between_the_eyes.up & ( ! talent.ghostly_strike.enabled || debuff.ghostly_strike.up || spell_targets.blade_flurry > 2 ) || boss & fight_remains <= 5",
								["description"] = "Default conditions for usable items.",
							}, -- [18]
							{
								["enabled"] = true,
								["action"] = "dragonfire_bomb_dispenser",
								["use_off_gcd"] = 1,
								["name"] = "dragonfire_bomb_dispenser",
								["criteria"] = "( ! trinket.t1.is.dragonfire_bomb_dispenser & trinket.t1.cooldown.remains > 10 || trinket.t2.cooldown.remains > 10 ) || cooldown.dragonfire_bomb_dispenser.charges > 2 || fight_remains < 20 || ! trinket.t2.has_cooldown || ! trinket.t1.has_cooldown",
							}, -- [19]
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["name"] = "beacon_to_the_beyond",
								["criteria"] = "! stealthed.all & debuff.between_the_eyes.up & ( ! talent.ghostly_strike.enabled || debuff.ghostly_strike.up || spell_targets.blade_flurry > 2 ) || boss & fight_remains <= 5",
								["description"] = "Note: SimulationCraft tries to use Beacon only in the first 0.1s of the GCD, which I've relaxed here because that's too narrow a window.",
							}, -- [20]
							{
								["enabled"] = true,
								["name"] = "stormeaters_boon",
								["action"] = "stormeaters_boon",
								["criteria"] = "spell_targets.blade_flurry > desired_targets || raid_event.adds.in > 60 || boss & fight_remains < 10",
							}, -- [21]
							{
								["enabled"] = true,
								["name"] = "windscar_whetstone",
								["action"] = "windscar_whetstone",
								["criteria"] = "spell_targets.blade_flurry > desired_targets || raid_event.adds.in > 60 || boss & fight_remains < 7",
							}, -- [22]
							{
								["enabled"] = true,
								["slots"] = "trinket1",
								["action"] = "trinket1",
								["criteria"] = "debuff.between_the_eyes.up || trinket.t1.has_stat.any_dps || boss & fight_remains <= 20",
							}, -- [23]
							{
								["enabled"] = true,
								["slots"] = "trinket2",
								["action"] = "trinket2",
								["criteria"] = "debuff.between_the_eyes.up || trinket.t2.has_stat.any_dps || boss & fight_remains <= 20",
							}, -- [24]
						},
						["stealth_cds"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "time > 10 & ( talent.hidden_opportunity.enabled || ! talent.shadow_dance.enabled || ! cooldown.shadow_dance.ready )",
								["description"] = "Stealth Cooldowns",
								["var_name"] = "vanish_condition",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! talent.shadow_dance.enabled & talent.fan_the_hammer.rank + talent.quick_draw.enabled + talent.audacity.enabled < talent.count_the_odds.enabled + talent.keep_it_rolling.enabled",
								["var_name"] = "vanish_opportunity_condition",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.find_weakness.enabled & ! talent.audacity.enabled & debuff.find_weakness.down & variable.ambush_condition & variable.vanish_condition",
								["action"] = "vanish",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.hidden_opportunity.enabled & ! buff.audacity.up & ( variable.vanish_opportunity_condition || buff.opportunity.stack < buff.opportunity.max_stack ) & variable.ambush_condition & variable.vanish_condition",
								["action"] = "vanish",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.find_weakness.enabled || talent.audacity.enabled ) & ! talent.hidden_opportunity.enabled & variable.finish_condition & variable.vanish_condition",
								["action"] = "vanish",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.shadow_dance.enabled & debuff.between_the_eyes.up & ( ! talent.ghostly_strike.enabled || debuff.ghostly_strike.up ) & ( ! talent.dreadblades.enabled || ! cooldown.dreadblades.ready ) & ( ! talent.hidden_opportunity.enabled || ! buff.audacity.up & ( talent.fan_the_hammer.rank < 2 || ! buff.opportunity.up ) )",
								["var_name"] = "shadow_dance_condition",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! talent.keep_it_rolling.enabled & variable.shadow_dance_condition & buff.slice_and_dice.up & ( variable.finish_condition || talent.hidden_opportunity.enabled ) & ( ! talent.hidden_opportunity.enabled || ! cooldown.vanish.ready )",
								["action"] = "shadow_dance",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.keep_it_rolling.enabled & variable.shadow_dance_condition & ( cooldown.keep_it_rolling.remains <= 30 || cooldown.keep_it_rolling.remains > 120 & ( variable.finish_condition || talent.hidden_opportunity.enabled ) )",
								["action"] = "shadow_dance",
							}, -- [8]
						},
						["finish"] = {
							{
								["enabled"] = true,
								["criteria"] = "target.time_to_die > 3 & ( debuff.between_the_eyes.remains < 4 || talent.greenskins_wickers.enabled & ! buff.greenskins_wickers.up || ! talent.greenskins_wickers.enabled & talent.improved_between_the_eyes.enabled & buff.ruthless_precision.up || ! talent.greenskins_wickers.enabled & set_bonus.tier30_4pc )",
								["action"] = "between_the_eyes",
								["description"] = "Finishers  BtE to keep the Crit debuff up, if RP is up, or for Greenskins, unless the target is about to die.",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.slice_and_dice.remains < fight_remains & refreshable & ( ! talent.swift_slasher.enabled || combo_points >= cp_max_spend )",
								["action"] = "slice_and_dice",
							}, -- [2]
							{
								["action"] = "cold_blood",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "dispatch",
								["enabled"] = true,
							}, -- [4]
						},
					},
					["version"] = 20230711.1,
					["warnings"] = "The import for 'finish' required some automated changes.\nLine 1: Converted 'talent.greenskins_wickers' to 'talent.greenskins_wickers.enabled' (1x).\nLine 1: Converted 'talent.greenskins_wickers' to 'talent.greenskins_wickers.enabled' (1x).\nLine 1: Converted 'talent.improved_between_the_eyes' to 'talent.improved_between_the_eyes.enabled' (1x).\nLine 1: Converted 'talent.greenskins_wickers' to 'talent.greenskins_wickers.enabled' (1x).\nLine 2: Converted 'talent.swift_slasher' to 'talent.swift_slasher.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 4: Converted 'talent.count_the_odds' to 'talent.count_the_odds.enabled' (1x).\nLine 5: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 5: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 6: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 6: Converted 'talent.keep_it_rolling' to 'talent.keep_it_rolling.enabled' (1x).\nLine 6: Converted 'talent.count_the_odds' to 'talent.count_the_odds.enabled' (1x).\nLine 7: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 7: Converted 'rtb_buffs.will_lose.skull_and_crossbones' to 'rtb_buffs_will_lose_buff.skull_and_crossbones' (1x).\nLine 9: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 9: Converted 'talent.improved_ambush' to 'talent.improved_ambush.enabled' (1x).\nLine 10: Converted 'talent.summarily_dispatched' to 'talent.summarily_dispatched.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 6: Converted 'talent.improved_adrenaline_rush' to 'talent.improved_adrenaline_rush.enabled' (1x).\n\nThe import for 'stealth' required some automated changes.\nLine 1: Converted 'talent.subterfuge' to 'talent.subterfuge.enabled' (1x).\nLine 1: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 4: Converted 'talent.find_weakness' to 'talent.find_weakness.enabled' (1x).\nLine 4: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 1: Converted 'talent.improved_adrenaline_rush' to 'talent.improved_adrenaline_rush.enabled' (1x).\nLine 2: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 5: Converted operations in 'variable.blade_flurry_sync&!buff.dreadblades.up&(energy.base_time_to_max>4+stealthed.rogue-spell_targets%3)' to 'variable.blade_flurry_sync&!buff.dreadblades.up&(energy.base_time_to_max>4+stealthed.rogue-spell_targets/3)'.\nLine 6: Converted 'talent.count_the_odds' to 'talent.count_the_odds.enabled' (1x).\nLine 6: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 7: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 7: Converted 'talent.marked_for_death' to 'talent.marked_for_death.enabled' (1x).\nLine 12: Converted 'talent.count_the_odds' to 'talent.count_the_odds.enabled' (1x).\nLine 18: Converted 'talent.ghostly_strike' to 'talent.ghostly_strike.enabled' (1x).\nLine 19: Converted 'trinket.1.is.dragonfire_bomb_dispenser' to 'trinket.t1.is.dragonfire_bomb_dispenser' (1x).\nLine 19: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 19: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 19: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 19: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 19: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 19: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 20: Converted 'talent.ghostly_strike' to 'talent.ghostly_strike.enabled' (1x).\nLine 23: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 24: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\n\nThe import for 'stealth_cds' required some automated changes.\nLine 1: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 1: Converted 'talent.shadow_dance' to 'talent.shadow_dance.enabled' (1x).\nLine 2: Converted 'talent.shadow_dance' to 'talent.shadow_dance.enabled' (1x).\nLine 2: Converted 'talent.quick_draw' to 'talent.quick_draw.enabled' (1x).\nLine 2: Converted 'talent.audacity' to 'talent.audacity.enabled' (1x).\nLine 2: Converted 'talent.count_the_odds' to 'talent.count_the_odds.enabled' (1x).\nLine 2: Converted 'talent.keep_it_rolling' to 'talent.keep_it_rolling.enabled' (1x).\nLine 3: Converted 'talent.find_weakness' to 'talent.find_weakness.enabled' (1x).\nLine 3: Converted 'talent.audacity' to 'talent.audacity.enabled' (1x).\nLine 4: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 5: Converted 'talent.find_weakness' to 'talent.find_weakness.enabled' (1x).\nLine 5: Converted 'talent.audacity' to 'talent.audacity.enabled' (1x).\nLine 5: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 6: Converted 'talent.shadow_dance' to 'talent.shadow_dance.enabled' (1x).\nLine 6: Converted 'talent.ghostly_strike' to 'talent.ghostly_strike.enabled' (1x).\nLine 6: Converted 'talent.dreadblades' to 'talent.dreadblades.enabled' (1x).\nLine 6: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 7: Converted 'talent.keep_it_rolling' to 'talent.keep_it_rolling.enabled' (1x).\nLine 7: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 7: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 8: Converted 'talent.keep_it_rolling' to 'talent.keep_it_rolling.enabled' (1x).\nLine 8: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\n\nThe import for 'build' required some automated changes.\nLine 3: Converted 'talent.keep_it_rolling' to 'talent.keep_it_rolling.enabled' (1x).\nLine 3: Converted 'talent.find_weakness' to 'talent.find_weakness.enabled' (1x).\nLine 4: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 5: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 5: Converted 'talent.audacity' to 'talent.audacity.enabled' (1x).\nLine 5: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 6: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 7: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 8: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 8: Converted 'talent.quick_draw' to 'talent.quick_draw.enabled' (1x).\nLine 8: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 10: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 10: Converted 'talent.find_weakness' to 'talent.find_weakness.enabled' (1x).\nLine 11: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 11: Converted 'talent.weaponmaster' to 'talent.weaponmaster.enabled' (1x).\n\nImported 7 action lists.\n",
					["spec"] = 260,
					["profile"] = "actions.precombat+=/apply_poison\nactions.precombat+=/bottled_flayedwing_toxin\nactions.precombat+=/use_item,name=algethar_puzzle_box\nactions.precombat+=/stealth\nactions.precombat+=/marked_for_death,precombat_seconds=10,if=raid_event.adds.in>25\nactions.precombat+=/adrenaline_rush,precombat_seconds=3,if=talent.improved_adrenaline_rush||settings.use_ld_opener&cooldown.roll_the_bones.remains<1&(buff.roll_the_bones.remains<3||rtb_buffs.normal=0)\nactions.precombat+=/roll_the_bones,precombat_seconds=2,if=remains<3||rtb_buffs.normal=0\nactions.precombat+=/slice_and_dice,precombat_seconds=1,if=refreshable&buff.grand_melee.down&!settings.use_ld_opener\n\n# Restealth if possible (no vulnerable enemies in combat)\nactions+=/stealth\n# Interrupt on cooldown to allow simming interactions with that\nactions+=/kick\n# Shiv to dispel Enrage effects.\nactions+=/shiv,if=debuff.dispellable_enrage.up\n# Checks if we are in an appropriate Stealth state for triggering the Count the Odds bonus\nactions+=/variable,name=stealthed_cto,value=talent.count_the_odds&(stealthed.basic||buff.shadowmeld.up||buff.shadow_dance.up)\n# Roll the Bones Reroll Conditions\nactions+=/variable,name=rtb_reroll,if=!talent.hidden_opportunity,value=rtb_buffs<2&(!buff.broadside.up&(!talent.fan_the_hammer||!buff.skull_and_crossbones.up)&!buff.true_bearing.up||buff.loaded_dice.up)||rtb_buffs=2&(buff.buried_treasure.up&buff.grand_melee.up||!buff.broadside.up&!buff.true_bearing.up&buff.loaded_dice.up)\n# Additional Reroll Conditions for Keep it Rolling or Count the Odds\nactions+=/variable,name=rtb_reroll,if=!talent.hidden_opportunity&(talent.keep_it_rolling||talent.count_the_odds),value=variable.rtb_reroll||((rtb_buffs.normal=0&rtb_buffs.longer>=1)&!(buff.broadside.up&buff.true_bearing.up&buff.skull_and_crossbones.up)&!(buff.broadside.remains>39||buff.true_bearing.remains>39||buff.ruthless_precision.remains>39||buff.skull_and_crossbones.remains>39))\n# With Hidden Opportunity, prioritize rerolling for Skull and Crossbones over everything else\nactions+=/variable,name=rtb_reroll,if=talent.hidden_opportunity,value=!rtb_buffs.will_lose.skull_and_crossbones&rtb_buffs.will_lose<2&buff.shadow_dance.down&buff.subterfuge.down\n# Avoid rerolls when we will not have time remaining on the fight or add wave to recoup the opportunity cost of the global\nactions+=/variable,name=rtb_reroll,op=reset,if=!(raid_event.adds.remains>12||raid_event.adds.up&(raid_event.adds.in-raid_event.adds.remains)<6||target.time_to_die>12)||boss&fight_remains<12\n# Ensure we want to cast Ambush prior to triggering a Stealth cooldown\nactions+=/variable,name=ambush_condition,value=(talent.hidden_opportunity||combo_points.deficit>=2+talent.improved_ambush+buff.broadside.up||buff.vicious_followup.up||settings.ambush_anyway)&energy>=50\n# Finish at 6 (5 with Summarily Dispatched talented) CP or CP Max-1, whichever is greater of the two\nactions+=/variable,name=finish_condition,value=combo_points>=((cp_max_spend-1)<?(6-talent.summarily_dispatched))||effective_combo_points>=cp_max_spend\n# With multiple targets, this variable is checked to decide whether some CDs should be synced with Blade Flurry\nactions+=/variable,name=blade_flurry_sync,value=spell_targets.blade_flurry<2&raid_event.adds.in>20||buff.blade_flurry.remains>1+talent.killing_spree.enabled\n# Higher priority Stealth list for Count the Odds or true Stealth/Vanish that will break in a single global\nactions+=/call_action_list,name=stealth,if=stealthed.basic||buff.shadowmeld.up\nactions+=/call_action_list,name=cds\n# Lower priority Stealth list for Shadow Dance\nactions+=/call_action_list,name=stealth,if=variable.stealthed_cto\nactions+=/run_action_list,name=finish,if=variable.finish_condition\nactions+=/call_action_list,name=build\nactions+=/arcane_torrent,if=energy.base_deficit>=15+energy.regen\nactions+=/arcane_pulse\nactions+=/lights_judgment\nactions+=/bag_of_tricks\n\n# Builders\nactions.build+=/sepsis,cycle_targets=1,if=target.time_to_die>11&debuff.between_the_eyes.up||boss&fight_remains<11\nactions.build+=/ghostly_strike,if=debuff.ghostly_strike.remains<=3&(spell_targets.blade_flurry<=2||buff.dreadblades.up)&!buff.subterfuge.up&target.time_to_die>=5\n# High priority Ambush line to apply Find Weakness or consume Audacity/Sepsis buff before Pistol Shot\nactions.build+=/ambush,if=talent.keep_it_rolling&((buff.audacity.up||buff.sepsis_buff.up)&talent.find_weakness&debuff.find_weakness.remains<2||buff.subterfuge.up&cooldown.keep_it_rolling.ready)\nactions.build+=/ambush,if=talent.hidden_opportunity&(buff.audacity.up||buff.sepsis_buff.up)\n# With Audacity + Hidden Opportunity + Fan the Hammer, use Pistol Shot to proc Audacity any time Ambush is not available\nactions.build+=/pistol_shot,if=talent.fan_the_hammer&talent.audacity&talent.hidden_opportunity&buff.opportunity.up&!buff.audacity.up&!buff.subterfuge.up&!buff.shadow_dance.up\n# Use Greenskins Wickers buff immediately with Opportunity unless running Fan the Hammer\nactions.build+=/pistol_shot,if=buff.greenskins_wickers.up&(!talent.fan_the_hammer&buff.opportunity.up||buff.greenskins_wickers.remains<1.5)\n# With Fan the Hammer, consume Opportunity at max stacks or if we will get max 4+ CP and Dreadblades is not up\nactions.build+=/pistol_shot,if=talent.fan_the_hammer&buff.opportunity.up&(buff.opportunity.stack>=buff.opportunity.max_stack||buff.opportunity.remains<2)\nactions.build+=/pistol_shot,if=talent.fan_the_hammer&buff.opportunity.up&combo_points.deficit>((1+talent.quick_draw)*talent.fan_the_hammer.rank)&!buff.dreadblades.up&(!talent.hidden_opportunity||!buff.subterfuge.up&!buff.shadow_dance.up)\nactions.build+=/echoing_reprimand\n## actions.build+=/pool_resource,for_next=1\nactions.build+=/ambush,if=settings.ambush_anyway||talent.hidden_opportunity||talent.find_weakness&debuff.find_weakness.down\n# Use Pistol Shot with Opportunity if Combat Potency won't overcap energy, when it will exactly cap CP, or when using Quick Draw\nactions.build+=/pistol_shot,if=!talent.fan_the_hammer&buff.opportunity.up&(energy.base_deficit>energy.regen*1.5||!talent.weaponmaster&combo_points.deficit<=1+buff.broadside.up||talent.quick_draw.enabled||talent.audacity.enabled&!buff.audacity.up)\nactions.build+=/sinister_strike\n\n# Cooldowns\nactions.cds+=/adrenaline_rush,if=!buff.adrenaline_rush.up&(!talent.improved_adrenaline_rush||combo_points<=2)\nactions.cds+=/blade_flurry,if=(spell_targets>=2||((buff.grand_melee.up&talent.hidden_opportunity)||(buff.grand_melee.remains>10))&!stealthed.rogue&!buff.dreadblades.up)&buff.blade_flurry.remains<gcd\nactions.cds+=/roll_the_bones,if=buff.dreadblades.down&(rtb_buffs.total=0||variable.rtb_reroll)\nactions.cds+=/keep_it_rolling,if=!variable.rtb_reroll&(buff.broadside.up+buff.true_bearing.up+buff.skull_and_crossbones.up+buff.ruthless_precision.up+buff.grand_melee.up)>2&(buff.shadow_dance.down||rtb_buffs>=6)\nactions.cds+=/blade_rush,if=variable.blade_flurry_sync&!buff.dreadblades.up&(energy.base_time_to_max>4+stealthed.rogue-spell_targets%3)\nactions.cds+=/call_action_list,name=stealth_cds,if=!stealthed.all||talent.count_the_odds&!talent.hidden_opportunity&!variable.stealthed_cto\nactions.cds+=/dreadblades,if=!(variable.stealthed_cto||stealthed.basic||talent.hidden_opportunity&stealthed.rogue)&combo_points<=2&(!talent.marked_for_death||!cooldown.marked_for_death.ready)&target.time_to_die>=10\n# If adds are up, snipe the one with lowest TTD. Use when dying faster than CP deficit or without any CP.\nactions.cds+=/marked_for_death,line_cd=1.5,cycle_targets=1,if=raid_event.adds.up&(target.time_to_die<combo_points.deficit||combo_points.deficit>=cp_max_spend-1)&!buff.dreadblades.up\n# If no adds will die within the next 30s, use MfD on boss without any CP.\nactions.cds+=/marked_for_death,if=raid_event.adds.in>30-raid_event.adds.duration&combo_points.deficit>=cp_max_spend-1&!buff.dreadblades.up\nactions.cds+=/thistle_tea,if=!buff.thistle_tea.up&(energy.base_deficit>=100||boss&fight_remains<charges*6)\nactions.cds+=/killing_spree,if=variable.blade_flurry_sync&!stealthed.rogue&debuff.between_the_eyes.up&energy.base_time_to_max>4\nactions.cds+=/shadowmeld,if=!stealthed.all&(talent.count_the_odds&variable.finish_condition||!talent.weaponmaster.enabled&variable.ambush_condition)\nactions.cds+=/potion,if=buff.bloodlust.react||boss&fight_remains<30||buff.adrenaline_rush.up\nactions.cds+=/blood_fury\nactions.cds+=/berserking\nactions.cds+=/fireblood\nactions.cds+=/ancestral_call\n# Default conditions for usable items.\nactions.cds+=/use_item,name=manic_grieftorch,use_off_gcd=1,if=!stealthed.all&debuff.between_the_eyes.up&(!talent.ghostly_strike||debuff.ghostly_strike.up||spell_targets.blade_flurry>2)||boss&fight_remains<=5\nactions.cds+=/use_item,name=dragonfire_bomb_dispenser,use_off_gcd=1,if=(!trinket.1.is.dragonfire_bomb_dispenser&trinket.1.cooldown.remains>10||trinket.2.cooldown.remains>10)||cooldown.dragonfire_bomb_dispenser.charges>2||fight_remains<20||!trinket.2.has_cooldown||!trinket.1.has_cooldown\n# Note: SimulationCraft tries to use Beacon only in the first 0.1s of the GCD, which I've relaxed here because that's too narrow a window.\nactions.cds+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=!stealthed.all&debuff.between_the_eyes.up&(!talent.ghostly_strike||debuff.ghostly_strike.up||spell_targets.blade_flurry>2)||boss&fight_remains<=5\nactions.cds+=/use_item,name=stormeaters_boon,if=spell_targets.blade_flurry>desired_targets||raid_event.adds.in>60||boss&fight_remains<10\nactions.cds+=/use_item,name=windscar_whetstone,if=spell_targets.blade_flurry>desired_targets||raid_event.adds.in>60||boss&fight_remains<7\nactions.cds+=/use_items,slots=trinket1,if=debuff.between_the_eyes.up||trinket.1.has_stat.any_dps||boss&fight_remains<=20\nactions.cds+=/use_items,slots=trinket2,if=debuff.between_the_eyes.up||trinket.2.has_stat.any_dps||boss&fight_remains<=20\n\n# Finishers  BtE to keep the Crit debuff up, if RP is up, or for Greenskins, unless the target is about to die.\nactions.finish+=/between_the_eyes,if=target.time_to_die>3&(debuff.between_the_eyes.remains<4||talent.greenskins_wickers&!buff.greenskins_wickers.up||!talent.greenskins_wickers&talent.improved_between_the_eyes&buff.ruthless_precision.up||!talent.greenskins_wickers&set_bonus.tier30_4pc)\nactions.finish+=/slice_and_dice,if=buff.slice_and_dice.remains<fight_remains&refreshable&(!talent.swift_slasher||combo_points>=cp_max_spend)\nactions.finish+=/cold_blood\nactions.finish+=/dispatch\n\n# Stealth\nactions.stealth+=/blade_flurry,if=talent.subterfuge&talent.hidden_opportunity&spell_targets>=2&!buff.blade_flurry.up\nactions.stealth+=/cold_blood,if=variable.finish_condition\nactions.stealth+=/dispatch,if=variable.finish_condition\nactions.stealth+=/ambush,if=variable.stealthed_cto||stealthed.basic&(settings.ambush_anyway||talent.find_weakness&!debuff.find_weakness.up||talent.hidden_opportunity)\n\n# Stealth Cooldowns\nactions.stealth_cds+=/variable,name=vanish_condition,value=time>10&(talent.hidden_opportunity||!talent.shadow_dance||!cooldown.shadow_dance.ready)\nactions.stealth_cds+=/variable,name=vanish_opportunity_condition,value=!talent.shadow_dance&talent.fan_the_hammer.rank+talent.quick_draw+talent.audacity<talent.count_the_odds+talent.keep_it_rolling\nactions.stealth_cds+=/vanish,if=talent.find_weakness&!talent.audacity&debuff.find_weakness.down&variable.ambush_condition&variable.vanish_condition\nactions.stealth_cds+=/vanish,if=talent.hidden_opportunity&!buff.audacity.up&(variable.vanish_opportunity_condition||buff.opportunity.stack<buff.opportunity.max_stack)&variable.ambush_condition&variable.vanish_condition\nactions.stealth_cds+=/vanish,if=(!talent.find_weakness||talent.audacity)&!talent.hidden_opportunity&variable.finish_condition&variable.vanish_condition\nactions.stealth_cds+=/variable,name=shadow_dance_condition,value=talent.shadow_dance&debuff.between_the_eyes.up&(!talent.ghostly_strike||debuff.ghostly_strike.up)&(!talent.dreadblades||!cooldown.dreadblades.ready)&(!talent.hidden_opportunity||!buff.audacity.up&(talent.fan_the_hammer.rank<2||!buff.opportunity.up))\nactions.stealth_cds+=/shadow_dance,if=!talent.keep_it_rolling&variable.shadow_dance_condition&buff.slice_and_dice.up&(variable.finish_condition||talent.hidden_opportunity)&(!talent.hidden_opportunity||!cooldown.vanish.ready)\nactions.stealth_cds+=/shadow_dance,if=talent.keep_it_rolling&variable.shadow_dance_condition&(cooldown.keep_it_rolling.remains<=30||cooldown.keep_it_rolling.remains>120&(variable.finish_condition||talent.hidden_opportunity))",
				},
				["Retribution"] = {
					["builtIn"] = true,
					["date"] = 20230714,
					["spec"] = 70,
					["desc"] = "2023-07-14: Update for 10.1.5.\n\n2023-06-24: Execution Sentence usage adjusted for Executioner's Will.\n\n2023-05-18: More work to let abilities synced abilities desync if the other ability is disabled/toggled/etc.\n\n2023-05-17: Iterate on FR/AW sync to allow spenders to be used while waiting for FR/AW.\n\n2023-05-14:  Improve FR/AW sync.\n\n2023-05-08:  More 10.1 updates.\n\n2023-05-02:  10.1 update.\n\n2023-03-28:  Update potion end-of-fight usage to check for boss.\n\n2023-03-21:  10.0.7 priority update.\n\n2023-03-13:  Edits to support finishers during Crusade procs from Retribution Aura.\n\n2023-02-21:  Iterate on trinket timing (end of bossfight logic).",
					["profile"] = "actions.precombat+=/arcane_torrent,if=talent.final_reckoning\nactions.precombat+=/shield_of_vengeance\nactions.precombat+=/variable,name=trinket_1_buffs,value=trinket.1.has_buff.strength||trinket.1.has_buff.mastery||trinket.1.has_buff.versatility||trinket.1.has_buff.haste||trinket.1.has_buff.crit\nactions.precombat+=/variable,name=trinket_2_buffs,value=trinket.2.has_buff.strength||trinket.2.has_buff.mastery||trinket.2.has_buff.versatility||trinket.2.has_buff.haste||trinket.2.has_buff.crit\nactions.precombat+=/variable,name=trinket_1_manual,value=trinket.1.is.manic_grieftorch\nactions.precombat+=/variable,name=trinket_2_manual,value=trinket.2.is.manic_grieftorch\nactions.precombat+=/variable,name=trinket_1_sync,op=setif,value=1,value_else=0.5,condition=variable.trinket_1_buffs&(trinket.1.cooldown.duration%%cooldown.crusade.duration=0||cooldown.crusade.duration%%trinket.1.cooldown.duration=0||trinket.1.cooldown.duration%%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%%trinket.1.cooldown.duration=0)\nactions.precombat+=/variable,name=trinket_2_sync,op=setif,value=1,value_else=0.5,condition=variable.trinket_2_buffs&(trinket.2.cooldown.duration%%cooldown.crusade.duration=0||cooldown.crusade.duration%%trinket.2.cooldown.duration=0||trinket.2.cooldown.duration%%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%%trinket.2.cooldown.duration=0)\nactions.precombat+=/variable,name=trinket_priority,op=setif,value=2,value_else=1,condition=!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.2.cooldown.duration%trinket.2.proc.any_dps.duration)*(1.5+trinket.2.has_buff.strength)*(variable.trinket_2_sync))>((trinket.1.cooldown.duration%trinket.1.proc.any_dps.duration)*(1.5+trinket.1.has_buff.strength)*(variable.trinket_1_sync))\n\n# Executed every time the actor is available.\nactions+=/rebuke\nactions+=/variable,name=time_to_crusade,op=setif,value=cooldown.crusade.remains<?buff.crusade.remains,value_else=0,condition=talent.crusade\nactions+=/call_action_list,name=cooldowns\nactions+=/call_action_list,name=generators\n\nactions.cooldowns=potion,if=buff.avenging_wrath.up||buff.crusade.up&buff.crusade.stack=10||boss&fight_remains<25\n## actions.cooldowns+=/invoke_external_buff,name=power_infusion,if=buff.avenging_wrath.up||buff.crusade.up\nactions.cooldowns+=/lights_judgment,if=spell_targets.lights_judgment>=2||!raid_event.adds.exists||raid_event.adds.in>75||raid_event.adds.up\nactions.cooldowns+=/fireblood,if=buff.avenging_wrath.up||buff.crusade.up&buff.crusade.stack=10\nactions.cooldowns+=/use_item,name=algethar_puzzle_box,if=(cooldown.avenging_wrath.remains<5&!talent.crusade||variable.time_to_crusade<5&talent.crusade)&(holy_power>=5&time<5||holy_power>=3&time>5)\nactions.cooldowns+=/use_item,slot=trinket1,if=(buff.avenging_wrath.up&cooldown.avenging_wrath.remains>40||buff.crusade.up&buff.crusade.stack=10)&(!trinket.2.has_cooldown||trinket.2.cooldown.remains||variable.trinket_priority=1)||trinket.1.proc.any_dps.duration>=fight_remains\nactions.cooldowns+=/use_item,slot=trinket2,if=(buff.avenging_wrath.up&cooldown.avenging_wrath.remains>40||buff.crusade.up&buff.crusade.stack=10)&(!trinket.1.has_cooldown||trinket.1.cooldown.remains||variable.trinket_priority=2)||trinket.2.proc.any_dps.duration>=fight_remains\nactions.cooldowns+=/use_item,slot=trinket1,if=!variable.trinket_1_buffs&(!variable.trinket_1_manual||buff.avenging_wrath.down&buff.crusade.down)&(trinket.2.cooldown.remains||!variable.trinket_2_buffs||!buff.crusade.up&cooldown.crusade.remains>20||!buff.avenging_wrath.up&cooldown.avenging_wrath.remains>20)\nactions.cooldowns+=/use_item,slot=trinket2,if=!variable.trinket_2_buffs&(!variable.trinket_2_manual||buff.avenging_wrath.down&buff.crusade.down)&(trinket.1.cooldown.remains||!variable.trinket_1_buffs||!buff.crusade.up&cooldown.crusade.remains>20||!buff.avenging_wrath.up&cooldown.avenging_wrath.remains>20)\nactions.cooldowns+=/use_item,name=shadowed_razing_annihilator,if=(trinket.2.cooldown.remains||!variable.trinket_2_buffs)&(trinket.2.cooldown.remains||!variable.trinket_2_buffs)\nactions.cooldowns+=/shield_of_vengeance,if=fight_remains>15&(!talent.execution_sentence||!debuff.execution_sentence.up)\nactions.cooldowns+=/execution_sentence,if=(!buff.crusade.up&cooldown.crusade.remains>15||buff.crusade.stack=10||cooldown.avenging_wrath.remains<0.75||cooldown.avenging_wrath.remains>15)&(holy_power>=3||holy_power>=2&talent.divine_auxiliary)&(target.time_to_die>8||target.time_to_die>12&talent.executioners_will)\nactions.cooldowns+=/avenging_wrath,if=holy_power>=4&time<5||holy_power>=3&time>5||holy_power>=2&talent.divine_auxiliary&(talent.execution_sentence&(cooldown.execution_sentence.remains=0||cooldown.execution_sentence.remains>15||action.execution_sentence.disabled)||talent.final_reckoning&(cooldown.final_reckoning.remains=0||cooldown.final_reckoning.remains>30||action.final_reckoning.disabled))\nactions.cooldowns+=/crusade,if=buff.crusade.remains<gcd.max&(holy_power>=5&time<5||holy_power>=3&time>5)\nactions.cooldowns+=/final_reckoning,if=(holy_power>=4&time<8||holy_power>=3&time>=8||holy_power>=2&talent.divine_auxiliary)&(!talent.crusade&(buff.avenging_wrath.up||cooldown.avenging_wrath.remains>30||action.avenging_wrath.disabled)||talent.crusade&(cooldown.crusade.remains>30&(!buff.crusade.up||buff.crusade.stack>=10)||action.crusade.disabled))&(time_to_hpg>0||holy_power=5||holy_power>=2&talent.divine_auxiliary)\n\nactions.finishers+=/variable,name=ds_castable,value=(spell_targets.divine_storm>=3||spell_targets.divine_storm>=2&!talent.divine_arbiter||buff.empyrean_power.up)&!buff.empyrean_legacy.up&!(buff.divine_arbiter.up&buff.divine_arbiter.stack>24)\nactions.finishers+=/divine_storm,if=variable.ds_castable&(!talent.crusade||cooldown.crusade.remains>gcd*3||buff.crusade.up&buff.crusade.stack<10)\nactions.finishers+=/justicars_vengeance,if=!talent.crusade||cooldown.crusade.remains>gcd*3||buff.crusade.up&buff.crusade.stack<10\nactions.finishers+=/templars_verdict,if=!talent.crusade||cooldown.crusade.remains>gcd*3||buff.crusade.up&buff.crusade.stack<10\n\nactions.generators+=/call_action_list,name=finishers,strict=1,if=holy_power=5||(debuff.judgment.up||holy_power=4)&buff.divine_resonance.up\nactions.generators+=/wake_of_ashes,if=holy_power<=2&(cooldown.avenging_wrath.remains||cooldown.crusade.remains||!talent.crusade&action.avenging_wrath.disabled||talent.crusade&action.crusade.disabled)&(!talent.execution_sentence||cooldown.execution_sentence.remains>4||target.time_to_die<8||action.execution_sentence.disabled)\nactions.generators+=/divine_toll,if=holy_power<=2&!debuff.judgment.up&(cooldown.avenging_wrath.remains>15||cooldown.crusade.remains>15||!talent.crusade&action.avenging_wrath.disabled||talent.crusade&action.crusade.disabled||fight_remains<8)\nactions.generators+=/call_action_list,name=finishers,strict=1,if=holy_power>=3&buff.crusade.up&buff.crusade.stack<10\nactions.generators+=/templar_slash,if=buff.templar_strikes.remains<gcd&spell_targets.divine_storm>=2\nactions.generators+=/blade_of_justice,if=(holy_power<=3||!talent.holy_blade)&(spell_targets.divine_storm>=2&!talent.crusading_strikes||spell_targets.divine_storm>=4)\nactions.generators+=/hammer_of_wrath,if=(spell_targets.divine_storm<2||!talent.blessed_champion||set_bonus.tier30_4pc)&(holy_power<=3||target.health.pct>20||!talent.vanguards_momentum)\nactions.generators+=/templar_slash,if=buff.templar_strikes.remains<gcd\nactions.generators+=/judgment,if=!buff.avenging_wrath.up&(holy_power<=3||!talent.boundless_judgment)&talent.crusading_strikes\nactions.generators+=/blade_of_justice,if=holy_power<=3||!talent.holy_blade\nactions.generators+=/judgment,if=!debuff.judgment.up&(holy_power<=3||!talent.boundless_judgment)\nactions.generators+=/call_action_list,name=finishers,strict=1,if=(target.health.pct<=20||buff.avenging_wrath.up||buff.crusade.up||buff.empyrean_power.up)\nactions.generators+=/consecration,if=!consecration.up&spell_targets.divine_storm>=2\nactions.generators+=/divine_hammer,if=spell_targets.divine_storm>=2\nactions.generators+=/crusader_strike,if=cooldown.crusader_strike.charges_fractional>=1.75&(holy_power<=2||holy_power<=3&cooldown.blade_of_justice.remains>gcd*2||holy_power=4&cooldown.blade_of_justice.remains>gcd*2&cooldown.judgment.remains>gcd*2)\nactions.generators+=/call_action_list,name=finishers\nactions.generators+=/templar_slash\nactions.generators+=/templar_strike\nactions.generators+=/judgment,if=holy_power<=3||!talent.boundless_judgment\nactions.generators+=/hammer_of_wrath,if=holy_power<=3||target.health.pct>20||!talent.vanguards_momentum\nactions.generators+=/crusader_strike\nactions.generators+=/arcane_torrent\nactions.generators+=/consecration\nactions.generators+=/divine_hammer",
					["version"] = 20230714,
					["warnings"] = "The import for 'default' required some automated changes.\nLine 2: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 1: Converted 'talent.final_reckoning' to 'talent.final_reckoning.enabled' (1x).\nLine 3: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_buff.strength' (1x).\nLine 3: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_buff.mastery' (1x).\nLine 3: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_buff.versatility' (1x).\nLine 3: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_buff.haste' (1x).\nLine 3: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_buff.crit' (1x).\nLine 3: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_buff.strength' (1x).\nLine 4: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_buff.mastery' (1x).\nLine 4: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_buff.versatility' (1x).\nLine 4: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_buff.haste' (1x).\nLine 4: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_buff.crit' (1x).\nLine 4: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 6: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted operations in 'variable.trinket_1_buffs&(trinket.t1.cooldown.duration%%cooldown.crusade.duration=0||cooldown.crusade.duration%%trinket.t1.cooldown.duration=0||trinket.t1.cooldown.duration%%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%%trinket.t1.cooldown.duration=0)' to 'variable.trinket_1_buffs&(trinket.t1.cooldown.duration%cooldown.crusade.duration=0||cooldown.crusade.duration%trinket.t1.cooldown.duration=0||trinket.t1.cooldown.duration%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%trinket.t1.cooldown.duration=0)'.\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted operations in 'variable.trinket_2_buffs&(trinket.t2.cooldown.duration%%cooldown.crusade.duration=0||cooldown.crusade.duration%%trinket.t2.cooldown.duration=0||trinket.t2.cooldown.duration%%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%%trinket.t2.cooldown.duration=0)' to 'variable.trinket_2_buffs&(trinket.t2.cooldown.duration%cooldown.crusade.duration=0||cooldown.crusade.duration%trinket.t2.cooldown.duration=0||trinket.t2.cooldown.duration%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%trinket.t2.cooldown.duration=0)'.\nLine 9: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 9: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 9: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 9: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 9: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_buff.strength' (1x).\nLine 9: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_use_buff' (1x).\nLine 9: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 9: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 9: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 9: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 9: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_buff.strength' (1x).\nLine 9: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_use_buff' (1x).\nLine 9: Converted operations in '!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.t2.cooldown.duration%trinket.t2.buff_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync))>((trinket.t1.cooldown.duration%trinket.t1.buff_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync))' to '!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.t2.cooldown.duration/trinket.t2.buff_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync))>((trinket.t1.cooldown.duration/trinket.t1.buff_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync))'.\nThe following auras were used in the action list but were not found in the addon database:\n - crit\n\nThe import for 'cooldowns' required some automated changes.\nLine 4: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 4: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 5: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 5: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 5: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 5: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 5: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 6: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 10: Converted 'talent.execution_sentence' to 'talent.execution_sentence.enabled' (1x).\nLine 11: Converted 'talent.divine_auxiliary' to 'talent.divine_auxiliary.enabled' (1x).\nLine 11: Converted 'talent.executioners_will' to 'talent.executioners_will.enabled' (1x).\nLine 12: Converted 'talent.divine_auxiliary' to 'talent.divine_auxiliary.enabled' (1x).\nLine 12: Converted 'talent.execution_sentence' to 'talent.execution_sentence.enabled' (1x).\nLine 12: Converted 'talent.final_reckoning' to 'talent.final_reckoning.enabled' (1x).\nLine 14: Converted 'talent.divine_auxiliary' to 'talent.divine_auxiliary.enabled' (1x).\nLine 14: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 14: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 14: Converted 'talent.divine_auxiliary' to 'talent.divine_auxiliary.enabled' (1x).\n\nThe import for 'finishers' required some automated changes.\nLine 1: Converted 'talent.divine_arbiter' to 'talent.divine_arbiter.enabled' (1x).\nLine 2: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 3: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 4: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\n\nThe import for 'generators' required some automated changes.\nLine 2: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 2: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 2: Converted 'talent.execution_sentence' to 'talent.execution_sentence.enabled' (1x).\nLine 3: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 3: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 6: Converted 'talent.holy_blade' to 'talent.holy_blade.enabled' (1x).\nLine 6: Converted 'talent.crusading_strikes' to 'talent.crusading_strikes.enabled' (1x).\nLine 7: Converted 'talent.blessed_champion' to 'talent.blessed_champion.enabled' (1x).\nLine 7: Converted 'talent.vanguards_momentum' to 'talent.vanguards_momentum.enabled' (1x).\nLine 9: Converted 'talent.boundless_judgment' to 'talent.boundless_judgment.enabled' (1x).\nLine 9: Converted 'talent.crusading_strikes' to 'talent.crusading_strikes.enabled' (1x).\nLine 10: Converted 'talent.holy_blade' to 'talent.holy_blade.enabled' (1x).\nLine 11: Converted 'talent.boundless_judgment' to 'talent.boundless_judgment.enabled' (1x).\nLine 19: Converted 'talent.boundless_judgment' to 'talent.boundless_judgment.enabled' (1x).\nLine 20: Converted 'talent.vanguards_momentum' to 'talent.vanguards_momentum.enabled' (1x).\n\nImported 5 action lists.\n",
					["lists"] = {
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Executed every time the actor is available.",
								["action"] = "rebuke",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "time_to_crusade",
								["criteria"] = "talent.crusade.enabled",
								["value_else"] = "0",
								["value"] = "cooldown.crusade.remains <? buff.crusade.remains",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cooldowns",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "generators",
							}, -- [4]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.final_reckoning.enabled",
								["action"] = "arcane_torrent",
							}, -- [1]
							{
								["action"] = "shield_of_vengeance",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff",
								["var_name"] = "trinket_1_buffs",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff",
								["var_name"] = "trinket_2_buffs",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t1.is.manic_grieftorch",
								["var_name"] = "trinket_1_manual",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t2.is.manic_grieftorch",
								["var_name"] = "trinket_2_manual",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_1_sync",
								["criteria"] = "variable.trinket_1_buffs & ( trinket.t1.cooldown.duration % cooldown.crusade.duration = 0 || cooldown.crusade.duration % trinket.t1.cooldown.duration = 0 || trinket.t1.cooldown.duration % cooldown.avenging_wrath.duration = 0 || cooldown.avenging_wrath.duration % trinket.t1.cooldown.duration = 0 )",
								["value_else"] = "0.5",
								["value"] = "1",
							}, -- [7]
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_2_sync",
								["criteria"] = "variable.trinket_2_buffs & ( trinket.t2.cooldown.duration % cooldown.crusade.duration = 0 || cooldown.crusade.duration % trinket.t2.cooldown.duration = 0 || trinket.t2.cooldown.duration % cooldown.avenging_wrath.duration = 0 || cooldown.avenging_wrath.duration % trinket.t2.cooldown.duration = 0 )",
								["value_else"] = "0.5",
								["value"] = "1",
							}, -- [8]
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_priority",
								["criteria"] = "! variable.trinket_1_buffs & variable.trinket_2_buffs || variable.trinket_2_buffs & ( ( trinket.t2.cooldown.duration / trinket.t2.buff_duration ) * ( 1.5 + trinket.t2.has_use_buff ) * ( variable.trinket_2_sync ) ) > ( ( trinket.t1.cooldown.duration / trinket.t1.buff_duration ) * ( 1.5 + trinket.t1.has_use_buff ) * ( variable.trinket_1_sync ) )",
								["value_else"] = "1",
								["value"] = "2",
							}, -- [9]
						},
						["generators"] = {
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "holy_power = 5 || ( debuff.judgment.up || holy_power = 4 ) & buff.divine_resonance.up",
								["list_name"] = "finishers",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "holy_power <= 2 & ( cooldown.avenging_wrath.remains || cooldown.crusade.remains || ! talent.crusade.enabled & action.avenging_wrath.disabled || talent.crusade.enabled & action.crusade.disabled ) & ( ! talent.execution_sentence.enabled || cooldown.execution_sentence.remains > 4 || target.time_to_die < 8 || action.execution_sentence.disabled )",
								["action"] = "wake_of_ashes",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "holy_power <= 2 & ! debuff.judgment.up & ( cooldown.avenging_wrath.remains > 15 || cooldown.crusade.remains > 15 || ! talent.crusade.enabled & action.avenging_wrath.disabled || talent.crusade.enabled & action.crusade.disabled || fight_remains < 8 )",
								["action"] = "divine_toll",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "holy_power >= 3 & buff.crusade.up & buff.crusade.stack < 10",
								["list_name"] = "finishers",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.templar_strikes.remains < gcd.max & spell_targets.divine_storm >= 2",
								["action"] = "templar_slash",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( holy_power <= 3 || ! talent.holy_blade.enabled ) & ( spell_targets.divine_storm >= 2 & ! talent.crusading_strikes.enabled || spell_targets.divine_storm >= 4 )",
								["action"] = "blade_of_justice",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( spell_targets.divine_storm < 2 || ! talent.blessed_champion.enabled || set_bonus.tier30_4pc ) & ( holy_power <= 3 || target.health.pct > 20 || ! talent.vanguards_momentum.enabled )",
								["action"] = "hammer_of_wrath",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.templar_strikes.remains < gcd.max",
								["action"] = "templar_slash",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! buff.avenging_wrath.up & ( holy_power <= 3 || ! talent.boundless_judgment.enabled ) & talent.crusading_strikes.enabled",
								["action"] = "judgment",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "holy_power <= 3 || ! talent.holy_blade.enabled",
								["action"] = "blade_of_justice",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "! debuff.judgment.up & ( holy_power <= 3 || ! talent.boundless_judgment.enabled )",
								["action"] = "judgment",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "( target.health.pct <= 20 || buff.avenging_wrath.up || buff.crusade.up || buff.empyrean_power.up )",
								["list_name"] = "finishers",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "! consecration.up & spell_targets.divine_storm >= 2",
								["action"] = "consecration",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.divine_storm >= 2",
								["action"] = "divine_hammer",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.crusader_strike.charges_fractional >= 1.75 & ( holy_power <= 2 || holy_power <= 3 & cooldown.blade_of_justice.remains > gcd.max * 2 || holy_power = 4 & cooldown.blade_of_justice.remains > gcd.max * 2 & cooldown.judgment.remains > gcd.max * 2 )",
								["action"] = "crusader_strike",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "finishers",
							}, -- [16]
							{
								["action"] = "templar_slash",
								["enabled"] = true,
							}, -- [17]
							{
								["action"] = "templar_strike",
								["enabled"] = true,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "holy_power <= 3 || ! talent.boundless_judgment.enabled",
								["action"] = "judgment",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "holy_power <= 3 || target.health.pct > 20 || ! talent.vanguards_momentum.enabled",
								["action"] = "hammer_of_wrath",
							}, -- [20]
							{
								["action"] = "crusader_strike",
								["enabled"] = true,
							}, -- [21]
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							}, -- [22]
							{
								["action"] = "consecration",
								["enabled"] = true,
							}, -- [23]
							{
								["action"] = "divine_hammer",
								["enabled"] = true,
							}, -- [24]
						},
						["finishers"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "( spell_targets.divine_storm >= 3 || spell_targets.divine_storm >= 2 & ! talent.divine_arbiter.enabled || buff.empyrean_power.up ) & ! buff.empyrean_legacy.up & ! ( buff.divine_arbiter.up & buff.divine_arbiter.stack > 24 )",
								["var_name"] = "ds_castable",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "variable.ds_castable & ( ! talent.crusade.enabled || cooldown.crusade.remains > gcd.max * 3 || buff.crusade.up & buff.crusade.stack < 10 )",
								["action"] = "divine_storm",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! talent.crusade.enabled || cooldown.crusade.remains > gcd.max * 3 || buff.crusade.up & buff.crusade.stack < 10",
								["action"] = "justicars_vengeance",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! talent.crusade.enabled || cooldown.crusade.remains > gcd.max * 3 || buff.crusade.up & buff.crusade.stack < 10",
								["action"] = "templars_verdict",
							}, -- [4]
						},
						["cooldowns"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.avenging_wrath.up || buff.crusade.up & buff.crusade.stack = 10 || boss & fight_remains < 25",
								["action"] = "potion",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.lights_judgment >= 2 || ! raid_event.adds.exists || raid_event.adds.in > 75 || raid_event.adds.up",
								["action"] = "lights_judgment",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.avenging_wrath.up || buff.crusade.up & buff.crusade.stack = 10",
								["action"] = "fireblood",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( cooldown.avenging_wrath.remains < 5 & ! talent.crusade.enabled || variable.time_to_crusade < 5 & talent.crusade.enabled ) & ( holy_power >= 5 & time < 5 || holy_power >= 3 & time > 5 )",
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["criteria"] = "( buff.avenging_wrath.up & cooldown.avenging_wrath.remains > 40 || buff.crusade.up & buff.crusade.stack = 10 ) & ( ! trinket.t2.has_cooldown || trinket.t2.cooldown.remains || variable.trinket_priority = 1 ) || trinket.t1.buff_duration >= fight_remains",
								["slot"] = "trinket1",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["criteria"] = "( buff.avenging_wrath.up & cooldown.avenging_wrath.remains > 40 || buff.crusade.up & buff.crusade.stack = 10 ) & ( ! trinket.t1.has_cooldown || trinket.t1.cooldown.remains || variable.trinket_priority = 2 ) || trinket.t2.buff_duration >= fight_remains",
								["slot"] = "trinket2",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["criteria"] = "! variable.trinket_1_buffs & ( ! variable.trinket_1_manual || buff.avenging_wrath.down & buff.crusade.down ) & ( trinket.t2.cooldown.remains || ! variable.trinket_2_buffs || ! buff.crusade.up & cooldown.crusade.remains > 20 || ! buff.avenging_wrath.up & cooldown.avenging_wrath.remains > 20 )",
								["slot"] = "trinket1",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["criteria"] = "! variable.trinket_2_buffs & ( ! variable.trinket_2_manual || buff.avenging_wrath.down & buff.crusade.down ) & ( trinket.t1.cooldown.remains || ! variable.trinket_1_buffs || ! buff.crusade.up & cooldown.crusade.remains > 20 || ! buff.avenging_wrath.up & cooldown.avenging_wrath.remains > 20 )",
								["slot"] = "trinket2",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( trinket.t2.cooldown.remains || ! variable.trinket_2_buffs ) & ( trinket.t2.cooldown.remains || ! variable.trinket_2_buffs )",
								["name"] = "shadowed_razing_annihilator",
								["action"] = "shadowed_razing_annihilator",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains > 15 & ( ! talent.execution_sentence.enabled || ! debuff.execution_sentence.up )",
								["action"] = "shield_of_vengeance",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "( ! buff.crusade.up & cooldown.crusade.remains > 15 || buff.crusade.stack = 10 || cooldown.avenging_wrath.remains < 0.75 || cooldown.avenging_wrath.remains > 15 ) & ( holy_power >= 3 || holy_power >= 2 & talent.divine_auxiliary.enabled ) & ( target.time_to_die > 8 || target.time_to_die > 12 & talent.executioners_will.enabled )",
								["action"] = "execution_sentence",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "holy_power >= 4 & time < 5 || holy_power >= 3 & time > 5 || holy_power >= 2 & talent.divine_auxiliary.enabled & ( talent.execution_sentence.enabled & ( cooldown.execution_sentence.remains = 0 || cooldown.execution_sentence.remains > 15 || action.execution_sentence.disabled ) || talent.final_reckoning.enabled & ( cooldown.final_reckoning.remains = 0 || cooldown.final_reckoning.remains > 30 || action.final_reckoning.disabled ) )",
								["action"] = "avenging_wrath",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.crusade.remains < gcd.max & ( holy_power >= 5 & time < 5 || holy_power >= 3 & time > 5 )",
								["action"] = "crusade",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( holy_power >= 4 & time < 8 || holy_power >= 3 & time >= 8 || holy_power >= 2 & talent.divine_auxiliary.enabled ) & ( ! talent.crusade.enabled & ( buff.avenging_wrath.up || cooldown.avenging_wrath.remains > 30 || action.avenging_wrath.disabled ) || talent.crusade.enabled & ( cooldown.crusade.remains > 30 & ( ! buff.crusade.up || buff.crusade.stack >= 10 ) || action.crusade.disabled ) ) & ( time_to_hpg > 0 || holy_power = 5 || holy_power >= 2 & talent.divine_auxiliary.enabled )",
								["action"] = "final_reckoning",
							}, -- [14]
						},
					},
					["author"] = "SimC",
				},
				["Fury"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230711,
					["author"] = "SimC",
					["desc"] = "2023-07-11:  Update trinkets for 10.1.5.\n\n2023-05-20:  Trinket/CD update.\n\n2023-05-14:  Add slider for Tier 30 crit % setting.\n\n2023-05-04:  Updates related to Tier 30.\n\n2023-05-02:  Update for 10.1.\n\n2023-03-26:  Include Spell Reflection; remove Heroic Leap.",
					["profile"] = "actions.precombat+=/berserker_stance\nactions.precombat+=/battle_shout\nactions.precombat+=/algethar_puzzle_box\nactions.precombat+=/avatar,if=!talent.titans_torment\nactions.precombat+=/recklessness,if=!talent.reckless_abandon\n\nactions+=/charge,if=time<=0.5||movement.distance>5\n## actions+=/heroic_leap,if=(raid_event.movement.distance>25&raid_event.movement.in>45)\nactions+=/pummel\nactions+=/spell_reflection\nactions+=/potion\nactions+=/algethar_puzzle_box,if=cooldown.recklessness.remains<3||(talent.anger_management&cooldown.avatar.remains<3)\nactions+=/vial_of_animated_blood,if=buff.avatar.up\nactions+=/elementium_pocket_anvil,use_off_gcd=1\nactions+=/beacon_to_the_beyond,use_off_gcd=1\nactions+=/irideus_fragment,if=buff.avatar.up\nactions+=/manic_grieftorch,if=buff.avatar.down\nactions+=/gladiators_badge,if=cooldown.recklessness.remains>10&(buff.recklessness.up||target.time_to_die<11||target.time_to_die>65)\nactions+=/use_items\nactions+=/ravager,if=cooldown.recklessness.remains<3||buff.recklessness.up\nactions+=/lights_judgment,if=buff.recklessness.down\nactions+=/berserking,if=buff.recklessness.up\nactions+=/blood_fury\nactions+=/fireblood\nactions+=/ancestral_call\n## actions+=/bag_of_tricks,if=buff.recklessness.down&buff.enrage.up\nactions+=/avatar,if=talent.titans_torment&buff.enrage.up&raid_event.adds.in>15||talent.berserkers_torment&buff.enrage.up&!buff.avatar.up&raid_event.adds.in>15||!talent.titans_torment&!talent.berserkers_torment&(buff.recklessness.up||boss&fight_remains<20)\nactions+=/recklessness,if=!raid_event.adds.exists&(talent.annihilator&cooldown.avatar.remains<1||cooldown.avatar.remains>40||!talent.avatar||target.time_to_die<12)\nactions+=/recklessness,if=!raid_event.adds.exists&!talent.annihilator||boss&fight_remains<12\nactions+=/spear_of_bastion,if=buff.enrage.up&(buff.recklessness.up||buff.avatar.up||boss&fight_remains<20||active_enemies>1)&raid_event.adds.in>15\nactions+=/call_action_list,name=multi_target,strict=1,if=active_enemies>2\nactions+=/call_action_list,name=single_target\n\nactions.multi_target+=/recklessness,if=raid_event.adds.in>15||active_enemies>1||boss&fight_remains<12\nactions.multi_target+=/odyns_fury,if=active_enemies>1&talent.titanic_rage&(!buff.meat_cleaver.up||buff.avatar.up||buff.recklessness.up)\nactions.multi_target+=/whirlwind,if=spell_targets.whirlwind>1&talent.improved_whirlwind&!buff.meat_cleaver.up||raid_event.adds.in<2&talent.improved_whirlwind&!buff.meat_cleaver.up\nactions.multi_target+=/execute,if=buff.ashen_juggernaut.up&buff.ashen_juggernaut.remains<gcd\nactions.multi_target+=/thunderous_roar,if=buff.enrage.up&(spell_targets.whirlwind>1||raid_event.adds.in>15)\nactions.multi_target+=/odyns_fury,if=active_enemies>1&buff.enrage.up&raid_event.adds.in>15\nactions.multi_target+=/bloodbath,if=set_bonus.tier30_4pc&action.bloodthirst.crit_pct_current>=bloodthirst_crit_threshold\nactions.multi_target+=/bloodthirst,if=set_bonus.tier30_4pc&action.bloodthirst.crit_pct_current>=bloodthirst_crit_threshold\nactions.multi_target+=/crushing_blow,if=talent.wrath_and_fury&buff.enrage.up\nactions.multi_target+=/execute,if=buff.enrage.up\nactions.multi_target+=/odyns_fury,if=buff.enrage.up&raid_event.adds.in>15\nactions.multi_target+=/rampage,if=buff.recklessness.up||buff.enrage.remains<gcd||(rage>110&talent.overwhelming_rage)||(rage>80&!talent.overwhelming_rage)\nactions.multi_target+=/execute\nactions.multi_target+=/bloodbath,if=buff.enrage.up&talent.reckless_abandon&!talent.wrath_and_fury\nactions.multi_target+=/bloodthirst,if=buff.enrage.down||(talent.annihilator&!buff.recklessness.up)\nactions.multi_target+=/onslaught,if=!talent.annihilator&buff.enrage.up||talent.tenderize\nactions.multi_target+=/raging_blow,if=charges>1&talent.wrath_and_fury\nactions.multi_target+=/crushing_blow,if=charges>1&talent.wrath_and_fury\nactions.multi_target+=/bloodbath,if=buff.enrage.down||!talent.wrath_and_fury\nactions.multi_target+=/crushing_blow,if=buff.enrage.up&talent.reckless_abandon\nactions.multi_target+=/bloodthirst,if=!talent.wrath_and_fury\nactions.multi_target+=/raging_blow,if=charges>=1\nactions.multi_target+=/rampage\nactions.multi_target+=/slam,if=talent.annihilator\nactions.multi_target+=/bloodbath\nactions.multi_target+=/raging_blow\nactions.multi_target+=/crushing_blow\nactions.multi_target+=/whirlwind\n\nactions.single_target+=/whirlwind,if=spell_targets.whirlwind>1&talent.improved_whirlwind&!buff.meat_cleaver.up||raid_event.adds.in<2&talent.improved_whirlwind&!buff.meat_cleaver.up\nactions.single_target+=/execute,if=buff.ashen_juggernaut.up&buff.ashen_juggernaut.remains<gcd\nactions.single_target+=/thunderous_roar,if=buff.enrage.up&(spell_targets.whirlwind>1||raid_event.adds.in>15)\nactions.single_target+=/odyns_fury,if=buff.enrage.up&(spell_targets.whirlwind>1||raid_event.adds.in>15)&(talent.dancing_blades&buff.dancing_blades.remains<5||!talent.dancing_blades)\nactions.single_target+=/rampage,if=talent.anger_management&(buff.recklessness.up||buff.enrage.remains<gcd||rage.pct>85)\nactions.single_target+=/bloodbath,if=set_bonus.tier30_4pc&action.bloodthirst.crit_pct_current>=bloodthirst_crit_threshold\nactions.single_target+=/bloodthirst,if=set_bonus.tier30_4pc&action.bloodthirst.crit_pct_current>=bloodthirst_crit_threshold\nactions.single_target+=/execute,if=buff.enrage.up\nactions.single_target+=/onslaught,if=buff.enrage.up||talent.tenderize\nactions.single_target+=/crushing_blow,if=talent.wrath_and_fury&buff.enrage.up\nactions.single_target+=/rampage,if=talent.reckless_abandon&(buff.recklessness.up||buff.enrage.remains<gcd||rage.pct>85)\nactions.single_target+=/rampage,if=talent.anger_management\nactions.single_target+=/execute\nactions.single_target+=/bloodbath,if=buff.enrage.up&talent.reckless_abandon&!talent.wrath_and_fury\nactions.single_target+=/bloodthirst,if=buff.enrage.down||(talent.annihilator&!buff.recklessness.up)\nactions.single_target+=/raging_blow,if=charges>1&talent.wrath_and_fury\nactions.single_target+=/crushing_blow,if=charges>1&talent.wrath_and_fury\nactions.single_target+=/bloodbath,if=buff.enrage.down||!talent.wrath_and_fury\nactions.single_target+=/crushing_blow,if=buff.enrage.up&talent.reckless_abandon\nactions.single_target+=/bloodthirst,if=!talent.wrath_and_fury\nactions.single_target+=/raging_blow,if=charges>1\nactions.single_target+=/rampage\nactions.single_target+=/slam,if=talent.annihilator\nactions.single_target+=/bloodbath\nactions.single_target+=/raging_blow\nactions.single_target+=/crushing_blow\nactions.single_target+=/bloodthirst\nactions.single_target+=/whirlwind\nactions.single_target+=/wrecking_throw\nactions.single_target+=/storm_bolt",
					["version"] = 20230711,
					["warnings"] = "The import for 'single_target' required some automated changes.\nLine 1: Converted 'talent.improved_whirlwind' to 'talent.improved_whirlwind.enabled' (1x).\nLine 1: Converted 'talent.improved_whirlwind' to 'talent.improved_whirlwind.enabled' (1x).\nLine 4: Converted 'talent.dancing_blades' to 'talent.dancing_blades.enabled' (1x).\nLine 4: Converted 'talent.dancing_blades' to 'talent.dancing_blades.enabled' (1x).\nLine 5: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 9: Converted 'talent.tenderize' to 'talent.tenderize.enabled' (1x).\nLine 10: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 11: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 12: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 14: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 14: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 15: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\nLine 16: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 17: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 18: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 19: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 20: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 23: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\n\nThe import for 'multi_target' required some automated changes.\nLine 2: Converted 'talent.titanic_rage' to 'talent.titanic_rage.enabled' (1x).\nLine 3: Converted 'talent.improved_whirlwind' to 'talent.improved_whirlwind.enabled' (1x).\nLine 3: Converted 'talent.improved_whirlwind' to 'talent.improved_whirlwind.enabled' (1x).\nLine 9: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 12: Converted 'talent.overwhelming_rage' to 'talent.overwhelming_rage.enabled' (1x).\nLine 12: Converted 'talent.overwhelming_rage' to 'talent.overwhelming_rage.enabled' (1x).\nLine 14: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 14: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 15: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\nLine 16: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\nLine 16: Converted 'talent.tenderize' to 'talent.tenderize.enabled' (1x).\nLine 17: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 18: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 19: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 20: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 21: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 24: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 5: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 19: Converted 'talent.titans_torment' to 'talent.titans_torment.enabled' (1x).\nLine 19: Converted 'talent.berserkers_torment' to 'talent.berserkers_torment.enabled' (1x).\nLine 19: Converted 'talent.titans_torment' to 'talent.titans_torment.enabled' (1x).\nLine 19: Converted 'talent.berserkers_torment' to 'talent.berserkers_torment.enabled' (1x).\nLine 20: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\nLine 20: Converted 'talent.avatar' to 'talent.avatar.enabled' (1x).\nLine 21: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 4: Converted 'talent.titans_torment' to 'talent.titans_torment.enabled' (1x).\nLine 5: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\n\nImported 4 action lists.\n",
					["spec"] = 72,
					["lists"] = {
						["single_target"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 1 & talent.improved_whirlwind.enabled & ! buff.meat_cleaver.up || raid_event.adds.in < 2 & talent.improved_whirlwind.enabled & ! buff.meat_cleaver.up",
								["action"] = "whirlwind",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.ashen_juggernaut.up & buff.ashen_juggernaut.remains < gcd.max",
								["action"] = "execute",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & ( spell_targets.whirlwind > 1 || raid_event.adds.in > 15 )",
								["action"] = "thunderous_roar",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & ( spell_targets.whirlwind > 1 || raid_event.adds.in > 15 ) & ( talent.dancing_blades.enabled & buff.dancing_blades.remains < 5 || ! talent.dancing_blades.enabled )",
								["action"] = "odyns_fury",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "talent.anger_management.enabled & ( buff.recklessness.up || buff.enrage.remains < gcd.max || rage.pct > 85 )",
								["action"] = "rampage",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & action.bloodthirst.crit_pct_current >= bloodthirst_crit_threshold",
								["action"] = "bloodbath",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & action.bloodthirst.crit_pct_current >= bloodthirst_crit_threshold",
								["action"] = "bloodthirst",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up",
								["action"] = "execute",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up || talent.tenderize.enabled",
								["action"] = "onslaught",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.wrath_and_fury.enabled & buff.enrage.up",
								["action"] = "crushing_blow",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "talent.reckless_abandon.enabled & ( buff.recklessness.up || buff.enrage.remains < gcd.max || rage.pct > 85 )",
								["action"] = "rampage",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "talent.anger_management.enabled",
								["action"] = "rampage",
							}, -- [12]
							{
								["action"] = "execute",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & talent.reckless_abandon.enabled & ! talent.wrath_and_fury.enabled",
								["action"] = "bloodbath",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.down || ( talent.annihilator.enabled & ! buff.recklessness.up )",
								["action"] = "bloodthirst",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1 & talent.wrath_and_fury.enabled",
								["action"] = "raging_blow",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1 & talent.wrath_and_fury.enabled",
								["action"] = "crushing_blow",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.down || ! talent.wrath_and_fury.enabled",
								["action"] = "bloodbath",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & talent.reckless_abandon.enabled",
								["action"] = "crushing_blow",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! talent.wrath_and_fury.enabled",
								["action"] = "bloodthirst",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1",
								["action"] = "raging_blow",
							}, -- [21]
							{
								["action"] = "rampage",
								["enabled"] = true,
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.annihilator.enabled",
								["action"] = "slam",
							}, -- [23]
							{
								["action"] = "bloodbath",
								["enabled"] = true,
							}, -- [24]
							{
								["action"] = "raging_blow",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "crushing_blow",
								["enabled"] = true,
							}, -- [26]
							{
								["action"] = "bloodthirst",
								["enabled"] = true,
							}, -- [27]
							{
								["action"] = "whirlwind",
								["enabled"] = true,
							}, -- [28]
							{
								["action"] = "wrecking_throw",
								["enabled"] = true,
							}, -- [29]
							{
								["action"] = "storm_bolt",
								["enabled"] = true,
							}, -- [30]
						},
						["precombat"] = {
							{
								["action"] = "berserker_stance",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "battle_shout",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "algethar_puzzle_box",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! talent.titans_torment.enabled",
								["action"] = "avatar",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! talent.reckless_abandon.enabled",
								["action"] = "recklessness",
							}, -- [5]
						},
						["default"] = {
							{
								["enabled"] = true,
								["criteria"] = "time <= 0.5 || movement.distance > 5",
								["action"] = "charge",
							}, -- [1]
							{
								["action"] = "pummel",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "spell_reflection",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.recklessness.remains < 3 || ( talent.anger_management.enabled & cooldown.avatar.remains < 3 )",
								["action"] = "algethar_puzzle_box",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "vial_of_animated_blood",
							}, -- [6]
							{
								["use_off_gcd"] = 1,
								["action"] = "elementium_pocket_anvil",
								["enabled"] = true,
							}, -- [7]
							{
								["use_off_gcd"] = 1,
								["action"] = "beacon_to_the_beyond",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "irideus_fragment",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.down",
								["action"] = "manic_grieftorch",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.recklessness.remains > 10 & ( buff.recklessness.up || target.time_to_die < 11 || target.time_to_die > 65 )",
								["action"] = "gladiators_badge",
							}, -- [11]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.recklessness.remains < 3 || buff.recklessness.up",
								["action"] = "ravager",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.recklessness.down",
								["action"] = "lights_judgment",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.recklessness.up",
								["action"] = "berserking",
							}, -- [15]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [16]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [17]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "talent.titans_torment.enabled & buff.enrage.up & raid_event.adds.in > 15 || talent.berserkers_torment.enabled & buff.enrage.up & ! buff.avatar.up & raid_event.adds.in > 15 || ! talent.titans_torment.enabled & ! talent.berserkers_torment.enabled & ( buff.recklessness.up || boss & fight_remains < 20 )",
								["action"] = "avatar",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! raid_event.adds.exists & ( talent.annihilator.enabled & cooldown.avatar.remains < 1 || cooldown.avatar.remains > 40 || ! talent.avatar.enabled || target.time_to_die < 12 )",
								["action"] = "recklessness",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "! raid_event.adds.exists & ! talent.annihilator.enabled || boss & fight_remains < 12",
								["action"] = "recklessness",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & ( buff.recklessness.up || buff.avatar.up || boss & fight_remains < 20 || active_enemies > 1 ) & raid_event.adds.in > 15",
								["action"] = "spear_of_bastion",
							}, -- [22]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 2",
								["list_name"] = "multi_target",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "single_target",
							}, -- [24]
						},
						["multi_target"] = {
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15 || active_enemies > 1 || boss & fight_remains < 12",
								["action"] = "recklessness",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & talent.titanic_rage.enabled & ( ! buff.meat_cleaver.up || buff.avatar.up || buff.recklessness.up )",
								["action"] = "odyns_fury",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 1 & talent.improved_whirlwind.enabled & ! buff.meat_cleaver.up || raid_event.adds.in < 2 & talent.improved_whirlwind.enabled & ! buff.meat_cleaver.up",
								["action"] = "whirlwind",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.ashen_juggernaut.up & buff.ashen_juggernaut.remains < gcd.max",
								["action"] = "execute",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & ( spell_targets.whirlwind > 1 || raid_event.adds.in > 15 )",
								["action"] = "thunderous_roar",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & buff.enrage.up & raid_event.adds.in > 15",
								["action"] = "odyns_fury",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & action.bloodthirst.crit_pct_current >= bloodthirst_crit_threshold",
								["action"] = "bloodbath",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & action.bloodthirst.crit_pct_current >= bloodthirst_crit_threshold",
								["action"] = "bloodthirst",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.wrath_and_fury.enabled & buff.enrage.up",
								["action"] = "crushing_blow",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up",
								["action"] = "execute",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & raid_event.adds.in > 15",
								["action"] = "odyns_fury",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.recklessness.up || buff.enrage.remains < gcd.max || ( rage > 110 & talent.overwhelming_rage.enabled ) || ( rage > 80 & ! talent.overwhelming_rage.enabled )",
								["action"] = "rampage",
							}, -- [12]
							{
								["action"] = "execute",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & talent.reckless_abandon.enabled & ! talent.wrath_and_fury.enabled",
								["action"] = "bloodbath",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.down || ( talent.annihilator.enabled & ! buff.recklessness.up )",
								["action"] = "bloodthirst",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "! talent.annihilator.enabled & buff.enrage.up || talent.tenderize.enabled",
								["action"] = "onslaught",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1 & talent.wrath_and_fury.enabled",
								["action"] = "raging_blow",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1 & talent.wrath_and_fury.enabled",
								["action"] = "crushing_blow",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.down || ! talent.wrath_and_fury.enabled",
								["action"] = "bloodbath",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & talent.reckless_abandon.enabled",
								["action"] = "crushing_blow",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "! talent.wrath_and_fury.enabled",
								["action"] = "bloodthirst",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "charges >= 1",
								["action"] = "raging_blow",
							}, -- [22]
							{
								["action"] = "rampage",
								["enabled"] = true,
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "talent.annihilator.enabled",
								["action"] = "slam",
							}, -- [24]
							{
								["action"] = "bloodbath",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "raging_blow",
								["enabled"] = true,
							}, -- [26]
							{
								["action"] = "crushing_blow",
								["enabled"] = true,
							}, -- [27]
							{
								["action"] = "whirlwind",
								["enabled"] = true,
							}, -- [28]
						},
					},
				},
				["Mistweaver"] = {
					["builtIn"] = true,
					["date"] = 20230325,
					["spec"] = 270,
					["desc"] = "2023-02-16:  Added option to avoid recasting Faeline Stomp when standing in an existing faeline (for mana efficiency).\n\n2023-03-25:  Add Roll/Chi Torpedo with specialization option.",
					["lists"] = {
						["aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "active_enemies <= 3",
								["action"] = "thunder_focus_tea",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies <= 3",
								["action"] = "rising_sun_kick",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! talent.teachings_of_the_monastery.enabled || buff.teachings_of_the_monastery.up & active_enemies <= 3",
								["action"] = "blackout_kick",
							}, -- [3]
							{
								["action"] = "chi_wave",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "chi_burst",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "spinning_crane_kick",
								["enabled"] = true,
							}, -- [6]
						},
						["default"] = {
							{
								["action"] = "spear_hand_strike",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "distance_check",
								["action"] = "roll",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "distance_check",
								["action"] = "chi_torpedo",
							}, -- [3]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [8]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [9]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [10]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "! settings.save_faeline || ! ( buff.ancient_concordance.up || buff.awakened_faeline.up )",
								["action"] = "faeline_stomp",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies >= 3",
								["list_name"] = "aoe",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies < 3",
								["list_name"] = "st",
							}, -- [14]
						},
						["st"] = {
							{
								["action"] = "thunder_focus_tea",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "rising_sun_kick",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! talent.teachings_of_the_monastery.enabled || buff.teachings_of_the_monastery.up & cooldown.rising_sun_kick.remains > gcd.max",
								["action"] = "blackout_kick",
							}, -- [3]
							{
								["action"] = "chi_wave",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "chi_burst",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! talent.teachings_of_the_monastery.enabled || buff.teachings_of_the_monastery.stack < 3 || buff.teachings_of_the_monastery.remains < 2",
								["action"] = "tiger_palm",
							}, -- [6]
						},
						["precombat"] = {
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "chi_burst",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "chi_wave",
								["enabled"] = true,
							}, -- [3]
						},
					},
					["version"] = 20230325,
					["warnings"] = "The import for 'aoe' required some automated changes.\nLine 3: Converted 'talent.teachings_of_the_monastery' to 'talent.teachings_of_the_monastery.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 3: Converted 'talent.teachings_of_the_monastery' to 'talent.teachings_of_the_monastery.enabled' (1x).\nLine 6: Converted 'talent.teachings_of_the_monastery' to 'talent.teachings_of_the_monastery.enabled' (1x).\n\nImported 4 action lists.\n",
					["author"] = "Aikanaka",
					["profile"] = "actions.precombat+=/potion\nactions.precombat+=/chi_burst\nactions.precombat+=/chi_wave\n\nactions+=/spear_hand_strike\nactions+=/roll,if=distance_check\nactions+=/chi_torpedo,if=distance_check\nactions+=/use_items\nactions+=/blood_fury\nactions+=/berserking\nactions+=/lights_judgment\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/potion\nactions+=/faeline_stomp,if=!settings.save_faeline||!(buff.ancient_concordance.up||buff.awakened_faeline.up)\nactions+=/call_action_list,name=aoe,strict=1,if=active_enemies>=3\nactions+=/call_action_list,name=st,strict=1,if=active_enemies<3\n\nactions.st+=/thunder_focus_tea\nactions.st+=/rising_sun_kick\nactions.st+=/blackout_kick,if=!talent.teachings_of_the_monastery||buff.teachings_of_the_monastery.up&cooldown.rising_sun_kick.remains>gcd.max\nactions.st+=/chi_wave\nactions.st+=/chi_burst\nactions.st+=/tiger_palm,if=!talent.teachings_of_the_monastery||buff.teachings_of_the_monastery.stack<3||buff.teachings_of_the_monastery.remains<2\n\nactions.aoe+=/thunder_focus_tea,if=active_enemies<=3\nactions.aoe+=/rising_sun_kick,if=active_enemies<=3\nactions.aoe+=/blackout_kick,if=!talent.teachings_of_the_monastery||buff.teachings_of_the_monastery.up&active_enemies<=3\nactions.aoe+=/chi_wave\nactions.aoe+=/chi_burst\nactions.aoe+=/spinning_crane_kick",
				},
				["Holy Paladin"] = {
					["builtIn"] = true,
					["date"] = 20230327,
					["spec"] = 65,
					["desc"] = "2023-03-22:  Updated for 10.0.7 (Seraphim removed, Avenging Wrath and Avenging Crusader split).",
					["lists"] = {
						["spenders"] = {
							{
								["enabled"] = true,
								["criteria"] = "! talent.awakening.enabled || active_enemies > 1",
								["action"] = "shield_of_the_righteous",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "talent.awakening.enabled & group",
								["action"] = "light_of_dawn",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.awakening.enabled",
								["action"] = "word_of_glory",
							}, -- [3]
						},
						["default"] = {
							{
								["action"] = "rebuke",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "avenging_wrath",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "avenging_crusader",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "blessing_of_summer",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "blessing_of_autumn",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "blessing_of_winter",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "blessing_of_spring",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "! talent.avenging_crusader.enabled || cooldown.avenging_crusader.remains > gcd.max || holy_power.deficit = 0",
								["list_name"] = "spenders",
							}, -- [9]
							{
								["action"] = "divine_toll",
								["enabled"] = true,
							}, -- [10]
							{
								["action"] = "lights_hammer",
								["enabled"] = true,
							}, -- [11]
							{
								["action"] = "holy_prism",
								["enabled"] = true,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "! consecration.up & target.within10",
								["action"] = "consecration",
							}, -- [13]
							{
								["action"] = "hammer_of_wrath",
								["enabled"] = true,
							}, -- [14]
							{
								["action"] = "judgment",
								["enabled"] = true,
							}, -- [15]
							{
								["action"] = "holy_shock",
								["enabled"] = true,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.holy_shock.remains > gcd.max",
								["action"] = "crusader_strike",
							}, -- [17]
						},
					},
					["version"] = 20230327,
					["warnings"] = "The import for 'spenders' required some automated changes.\nLine 1: Converted 'talent.awakening' to 'talent.awakening.enabled' (1x).\nLine 2: Converted 'talent.awakening' to 'talent.awakening.enabled' (1x).\nLine 3: Converted 'talent.awakening' to 'talent.awakening.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 9: Converted 'talent.avenging_crusader' to 'talent.avenging_crusader.enabled' (1x).\n\nImported 3 action lists.\n",
					["profile"] = "actions+=/rebuke\nactions+=/avenging_wrath\nactions+=/avenging_crusader\nactions+=/blessing_of_summer\nactions+=/blessing_of_autumn\nactions+=/blessing_of_winter\nactions+=/blessing_of_spring\nactions+=/use_items\nactions+=/call_action_list,name=spenders,strict=1,if=!talent.avenging_crusader||cooldown.avenging_crusader.remains>gcd.max||holy_power.deficit=0\nactions+=/divine_toll\nactions+=/lights_hammer\nactions+=/holy_prism\nactions+=/consecration,if=!consecration.up&target.within10\nactions+=/hammer_of_wrath\nactions+=/judgment\nactions+=/holy_shock\nactions+=/crusader_strike,if=cooldown.holy_shock.remains>gcd.max\n\nactions.spenders+=/shield_of_the_righteous,if=!talent.awakening||active_enemies>1\nactions.spenders+=/light_of_dawn,if=talent.awakening&group\nactions.spenders+=/word_of_glory,if=talent.awakening",
					["author"] = "Kaleokalani",
				},
				["Elemental"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230520,
					["spec"] = 262,
					["desc"] = "2023-05-20: Updates from SimC (opener CDs and Windspeaker's Lava Resurgence).\n\n2023-05-15: Don't consume some buffs with Flame Shock.\n\n2023-05-06: Update to Lava Burst prioritization.\n\n2023-04-22: Updates from SimulationCraft.\n\n2023-04-15: Correct Echo of the Elements talent.",
					["profile"] = "# Ensure weapon enchant is applied.\nactions.precombat+=/flametongue_weapon,if=talent.improved_flametongue_weapon.enabled\nactions.precombat+=/lightning_shield,if=buff.lightning_shield.down&(buff.earth_shield.down||talent.elemental_orbit.enabled)\nactions.precombat+=/earth_shield,if=buff.lightning_shield.up&buff.earth_shield.down&talent.elemental_orbit.enabled\nactions.precombat+=/potion\nactions.precombat+=/stormkeeper\nactions.precombat+=/icefury\n\n# Executed every time the actor is available.\n# Interrupt of casts.\nactions+=/wind_shear\nactions+=/purge,if=settings.hostile_dispel\nactions+=/greater_purge,if=settings.hostile_dispel\n# Enable more movement.\nactions+=/spiritwalkers_grace,moving=1,if=movement.distance>6\nactions+=/blood_fury,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/berserking,if=!talent.ascendance.enabled||buff.ascendance.up\nactions+=/fireblood,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/ancestral_call,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/bag_of_tricks,if=!talent.ascendance.enabled||!buff.ascendance.up\nactions+=/use_items\nactions+=/meteor\nactions+=/tempest,if=buff.call_lightning.up\nactions+=/vesper_totem\nactions+=/natures_swiftness\nactions+=/potion\nactions+=/run_action_list,name=aoe,strict=1,if=active_enemies>2&(spell_targets.chain_lightning>2||spell_targets.lava_beam>2)\nactions+=/run_action_list,name=single_target\n\n# Keep your cooldowns rolling.\nactions.aoe=fire_elemental\n# Keep your cooldowns rolling.\nactions.aoe+=/storm_elemental\n# Keep your cooldowns rolling.\nactions.aoe+=/stormkeeper,if=!buff.stormkeeper.up\n# Reset LMT CD as early as possible.\nactions.aoe+=/totemic_recall,if=cooldown.liquid_magma_totem.remains>45\n# Keep your cooldowns rolling.\nactions.aoe+=/liquid_magma_totem\n# Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).\nactions.aoe+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up&buff.surge_of_power.up&!buff.splintered_elements.up\n# Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).\nactions.aoe+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up&talent.deeply_rooted_elements.enabled&!talent.surge_of_power.enabled&!buff.splintered_elements.up\n# Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).\nactions.aoe+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up&talent.master_of_the_elements.enabled&!talent.lightning_rod.enabled\n# Spread Flame Shock using Surge of Power on up to 4 for Lightning builds with Windspeaker's Lava Resurgence.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&buff.surge_of_power.up&talent.lightning_rod.enabled&talent.windspeakers_lava_resurgence.enabled&dot.flame_shock.remains<target.time_to_die-16&active_enemies<5\n# Spread Flame Shock using Surge of Power up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&buff.surge_of_power.up&(!talent.lightning_rod.enabled||talent.skybreakers_fiery_demise.enabled)&dot.flame_shock.remains<target.time_to_die-5&active_dot.flame_shock<6\n# Spread Flame Shock against low target counts if Master of the Elements was selected up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.master_of_the_elements.enabled&!talent.lightning_rod.enabled&dot.flame_shock.remains<target.time_to_die-5&active_dot.flame_shock<6\n# Spread Flame Shock to gamble on Deeply Rooted Element procs up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.deeply_rooted_elements.enabled&!talent.surge_of_power.enabled&dot.flame_shock.remains<target.time_to_die-5&active_dot.flame_shock<6\n# Refresh Flame Shock using Surge of Power up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&buff.surge_of_power.up&(!talent.lightning_rod.enabled||talent.skybreakers_fiery_demise.enabled)&dot.flame_shock.remains<target.time_to_die-5&dot.flame_shock.remains>0\n# Refresh Flame Shock against low target counts if Master of the Elements was selected up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.master_of_the_elements.enabled&!talent.lightning_rod.enabled&dot.flame_shock.remains<target.time_to_die-5&dot.flame_shock.remains>0\n# Refresh Flame Shock to gamble on Deeply Rooted Element procs up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.deeply_rooted_elements.enabled&!talent.surge_of_power.enabled&dot.flame_shock.remains<target.time_to_die-5&dot.flame_shock.remains>0\n# JUST DO IT! https://i.kym-cdn.com/entries/icons/mobile/000/018/147/Shia_LaBeouf__Just_Do_It__Motivational_Speech_(Original_Video_by_LaBeouf__R%C3%B6nkk%C3%B6___Turner)_0-4_screenshot.jpg\nactions.aoe+=/ascendance\n# Cast Lava Burst to buff your immediately follow-up Earthquake with Master of the Elements.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&cooldown_react&buff.lava_surge.up&talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&(maelstrom>=60-5*talent.eye_of_the_storm.rank-2*talent.flow_of_power.enabled)&(!talent.echoes_of_great_sundering.enabled&!talent.lightning_rod.enabled||buff.echoes_of_great_sundering.up)&(!buff.ascendance.up&active_enemies>3&talent.unrelenting_calamity.enabled||active_enemies>3&!talent.unrelenting_calamity.enabled||active_enemies=3)\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/earthquake,if=!talent.echoes_of_great_sundering.enabled&active_enemies>3&(spell_targets.chain_lightning>3||spell_targets.lava_beam>3)\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/earthquake,if=!talent.echoes_of_great_sundering.enabled&!talent.elemental_blast.enabled&active_enemies=3&(spell_targets.chain_lightning=3||spell_targets.lava_beam=3)\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/earthquake,if=buff.echoes_of_great_sundering.up\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Spread Lightning Rod to as many targets as possible.\nactions.aoe+=/elemental_blast,cycle_targets=1,if=talent.echoes_of_great_sundering\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/elemental_blast,if=talent.echoes_of_great_sundering\n# Elemental Blast is stronger than Earthquake against 3 targets.\nactions.aoe+=/elemental_blast,if=active_enemies=3&!talent.echoes_of_great_sundering.enabled\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Spread Lightning Rod to as many targets as possible.\nactions.aoe+=/earth_shock,cycle_targets=1,if=talent.echoes_of_great_sundering\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/earth_shock,if=talent.echoes_of_great_sundering\n# Use Icefury if you can get the full benefit from Electrified Shocks. If more targets are present ignore it. High priority on 3 targets.\nactions.aoe+=/icefury,if=!buff.ascendance.up&talent.electrified_shocks.enabled&(talent.lightning_rod.enabled&active_enemies<5&!buff.master_of_the_elements.up||talent.deeply_rooted_elements.enabled&active_enemies=3)\n# Spread out your Frost Shock casts to empower as many Chain Lightnings as possible.\nactions.aoe+=/frost_shock,if=!buff.ascendance.up&buff.icefury.up&talent.electrified_shocks.enabled&(!debuff.electrified_shocks.up||buff.icefury.remains<gcd)&(talent.lightning_rod.enabled&active_enemies<5&!buff.master_of_the_elements.up||talent.deeply_rooted_elements.enabled&active_enemies=3)\n# Buff Stormkeeper with Master of the elements on 3-4 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&(buff.stormkeeper.up||t30_2pc_timer.next_tick<3&set_bonus.tier30_2pc)&(maelstrom<60-5*talent.eye_of_the_storm.rank-2*talent.flow_of_power.enabled-10)&active_enemies<5\n# Stormkeeper is strong and should be used.\nactions.aoe+=/lava_beam,if=buff.stormkeeper.up\n# Stormkeeper is strong and should be used.\nactions.aoe+=/chain_lightning,if=buff.stormkeeper.up\n# Power of the Maelstrom is strong and should be used.\nactions.aoe+=/lava_beam,if=buff.power_of_the_maelstrom.up&buff.ascendance.remains>cast_time\n# Power of the Maelstrom is strong and should be used.\nactions.aoe+=/chain_lightning,if=buff.power_of_the_maelstrom.up\n# Against 6 targets or more Surge of Power should be used with Lava Beam rather than Lava Burst.\nactions.aoe+=/lava_beam,if=active_enemies>=6&buff.surge_of_power.up&buff.ascendance.remains>cast_time\n# Against 6 targets or more Surge of Power should be used with Chain Lightning rather than Lava Burst.\nactions.aoe+=/chain_lightning,if=active_enemies>=6&buff.surge_of_power.up\n# Proc Deeply Rooted Elements against 3 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>0&buff.lava_surge.up&talent.deeply_rooted_elements.enabled&buff.windspeakers_lava_resurgence.up\n# Consume Master of the Elements with Lava Beam.\nactions.aoe+=/lava_beam,if=buff.master_of_the_elements.up&buff.ascendance.remains>cast_time\n# Proc Master of the Elements against 3 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>0&active_enemies=3&talent.master_of_the_elements.enabled\n# Gamble away for Deeply Rooted Elements procs whenever Lava Surge makes Lava Burst more efficient.\nactions.aoe+=/lava_burst,if=dot.flame_shock.remains>0&buff.lava_surge.up&talent.deeply_rooted_elements.enabled\n# Use Icefury if you can get the full benefit from Electrified Shocks. If more targets are present ignore it.\nactions.aoe+=/icefury,if=talent.electrified_shocks.enabled&active_enemies<5\n# Spread out your Frost Shock casts to empower as many Chain Lightnings as possible.\nactions.aoe+=/frost_shock,if=buff.icefury.up&talent.electrified_shocks.enabled&!debuff.electrified_shocks.up&active_enemies<5\nactions.aoe+=/lava_beam,if=buff.ascendance.remains>cast_time\nactions.aoe+=/chain_lightning\nactions.aoe+=/flame_shock,moving=1,cycle_targets=1,if=refreshable\nactions.aoe+=/frost_shock,moving=1\n\n# Keep your cooldowns rolling.\nactions.single_target+=/fire_elemental\n# Keep your cooldowns rolling.\nactions.single_target+=/storm_elemental\n# Reset LMT CD as early as possible.\nactions.single_target+=/totemic_recall,if=cooldown.liquid_magma_totem.remains>45&(talent.lava_surge.enabled&talent.splintered_elements.enabled||active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1))\n# Keep your cooldowns rolling.\nactions.single_target+=/liquid_magma_totem,if=talent.lava_surge.enabled&talent.splintered_elements.enabled||active_dot.flame_shock=0||dot.flame_shock.remains<6||active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# Use Primordial Wave as much as possible without wasting buffs.\nactions.single_target+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up&!buff.splintered_elements.up\nactions.single_target+=/flame_shock,cycle_targets=1,if=active_enemies=1&refreshable&!buff.surge_of_power.up&(!buff.master_of_the_elements.up||(!buff.stormkeeper.up&(talent.elemental_blast.enabled&maelstrom<90-8*talent.eye_of_the_storm.rank||maelstrom<60-5*talent.eye_of_the_storm.rank)))\n# Use Flame shock without Surge of Power if you can't spread it with SoP because it is going to be used on Stormkeeper or Surge of Power is not talented.\nactions.single_target+=/flame_shock,if=active_dot.flame_shock=0&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&(talent.deeply_rooted_elements.enabled||talent.ascendance.enabled||talent.primordial_wave.enabled||talent.searing_flames.enabled||talent.magma_chamber.enabled)&(!buff.master_of_the_elements.up&(buff.stormkeeper.up||cooldown.stormkeeper.remains=0)||!talent.surge_of_power.enabled)\n# Spread Flame Shock to multiple targets only if talents were selected that benefit from it.\nactions.single_target+=/flame_shock,cycle_targets=1,if=active_dot.flame_shock<cycle_enemies&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&refreshable&(talent.deeply_rooted_elements.enabled||talent.ascendance.enabled||talent.primordial_wave.enabled||talent.searing_flames.enabled||talent.magma_chamber.enabled)&(buff.surge_of_power.up&!buff.stormkeeper.up&!cooldown.stormkeeper.remains=0||!talent.surge_of_power.enabled)\n# {EB/Swelling/SoP Lightning build} Start SK window if you have enough maelstrom to: EB > SoP SK_LB > LvB > EB.\nactions.single_target+=/stormkeeper,if=!buff.ascendance.up&!buff.stormkeeper.up&maelstrom>=116&talent.elemental_blast.enabled&talent.surge_of_power.enabled&talent.swelling_maelstrom.enabled&!talent.lava_surge.enabled&!talent.echo_of_the_elements.enabled&!talent.primordial_surge.enabled\n# {EB/SoP Lightning builds} Use Stormkeeper if you already got Surge of Power buff rolling.\nactions.single_target+=/stormkeeper,if=!buff.ascendance.up&!buff.stormkeeper.up&buff.surge_of_power.up&!talent.lava_surge.enabled&!talent.echo_of_the_elements.enabled&!talent.primordial_surge.enabled\nactions.single_target+=/stormkeeper,if=!buff.ascendance.up&!buff.stormkeeper.up&(!talent.surge_of_power.enabled||!talent.elemental_blast.enabled||talent.lava_surge.enabled||talent.echo_of_the_elements.enabled||talent.primordial_surge.enabled)\nactions.single_target+=/ascendance,if=!buff.stormkeeper.up\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.stormkeeper.up&buff.surge_of_power.up\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lava_beam,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&buff.stormkeeper.up&!talent.surge_of_power.enabled\n# Stormkeeper is strong and should be used.\nactions.single_target+=/chain_lightning,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&buff.stormkeeper.up&!talent.surge_of_power.enabled\n# Buff stormkeeper with MotE when not using Surge.\nactions.single_target+=/lava_burst,if=buff.stormkeeper.up&!buff.master_of_the_elements.up&!talent.surge_of_power.enabled&talent.master_of_the_elements.enabled\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.stormkeeper.up&!talent.surge_of_power.enabled&buff.master_of_the_elements.up\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.stormkeeper.up&!talent.surge_of_power.enabled&!talent.master_of_the_elements.enabled\n# Surge of Power is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.surge_of_power.up\nactions.single_target+=/icefury,if=talent.electrified_shocks.enabled\nactions.single_target+=/frost_shock,if=buff.icefury.up&talent.electrified_shocks.enabled&(debuff.electrified_shocks.remains<2||buff.icefury.remains<=gcd)\nactions.single_target+=/frost_shock,if=buff.icefury.up&talent.electrified_shocks.enabled&maelstrom>=50&debuff.electrified_shocks.remains<2*gcd&buff.stormkeeper.up\nactions.single_target+=/lava_beam,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&buff.power_of_the_maelstrom.up&buff.ascendance.remains>cast_time\n# {EB/SoP Lightning builds} Spend extra Frost Shock if it gives you the ability to get to next spender without using Stormkeeper charge.\nactions.single_target+=/frost_shock,if=buff.icefury.up&buff.stormkeeper.up&!talent.lava_surge.enabled&!talent.echo_of_the_elements.enabled&!talent.primordial_surge.enabled&talent.elemental_blast.enabled&(maelstrom>=61&maelstrom<75&cooldown.lava_burst.remains>gcd||maelstrom>=49&maelstrom<63&cooldown.lava_burst.ready)\n# {ES/SoP Lightning builds} Spend extra Frost Shock if it gives you the ability to get to next spender without using Stormkeeper charge.\nactions.single_target+=/frost_shock,if=buff.icefury.up&buff.stormkeeper.up&!talent.lava_surge.enabled&!talent.echo_of_the_elements.enabled&!talent.elemental_blast.enabled&(maelstrom>=36&maelstrom<50&cooldown.lava_burst.remains>gcd||maelstrom>=24&maelstrom<38&cooldown.lava_burst.ready)\n# Windspeaker's Lava Resurgence is strong. Don't sit on it...Unless it's Lightning build and you save it to buff Elemental Blast.\nactions.single_target+=/lava_burst,if=buff.windspeakers_lava_resurgence.up&(talent.echo_of_the_elements.enabled||talent.lava_surge.enabled||talent.primordial_surge.enabled||maelstrom>=63&talent.master_of_the_elements.enabled||maelstrom>=38&buff.echoes_of_great_sundering.up&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)||!talent.elemental_blast.enabled)\n# Lava Surge is neat. Utilize it...Unless it's Lightning build and you save it to buff Elemental Blast.\nactions.single_target+=/lava_burst,if=cooldown_react&buff.lava_surge.up&(talent.echo_of_the_elements.enabled||talent.lava_surge.enabled||talent.primordial_surge.enabled||!talent.master_of_the_elements.enabled||!talent.elemental_blast.enabled)\n# Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.\nactions.single_target+=/lava_burst,if=talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&maelstrom>=50&!talent.swelling_maelstrom.enabled&maelstrom<=80\n# Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.\nactions.single_target+=/lava_burst,if=talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&(maelstrom>=75||maelstrom>=50&!talent.elemental_blast.enabled)&talent.swelling_maelstrom.enabled&maelstrom<=130\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Additionally Elemental Blast is stronger than EoGS. In this case don't use Earthquake on single target.\nactions.single_target+=/earthquake,if=buff.echoes_of_great_sundering.up&(!talent.elemental_blast.enabled&active_enemies<2||active_enemies>1)\n# Use Earthquake against two enemies unless you have to alternate because of Echoes of Great Sundering.\nactions.single_target+=/earthquake,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&!talent.echoes_of_great_sundering.enabled&!talent.elemental_blast.enabled\nactions.single_target+=/elemental_blast\nactions.single_target+=/earth_shock\n# Utilize present buffs.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&buff.flux_melting.up&active_enemies>1\n# Single target Lava Burst is stronk.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&active_enemies=1&talent.deeply_rooted_elements.enabled\n# Spread out your Icefury usage if you can get more use out of accompanied buffs.\nactions.single_target+=/frost_shock,if=buff.icefury.up&talent.flux_melting.enabled&!buff.flux_melting.up\n# Spread out your Icefury usage if you can get more use out of accompanied buffs.\nactions.single_target+=/frost_shock,if=buff.icefury.up&(talent.electrified_shocks.enabled&debuff.electrified_shocks.remains<2||buff.icefury.remains<6)\n# Use Lava Burst normally with fire builds. Save it as much as possible in lightning builds unless you cant use Lightning Bolt without wasting Stormkeeper charges.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&talent.echo_of_the_elements.enabled||talent.lava_surge.enabled||talent.primordial_surge.enabled||!talent.elemental_blast.enabled||!talent.master_of_the_elements.enabled||buff.stormkeeper.up\n# Utilize the Power of the Maelstrom buff if your Chain Lightning is empowered by Unrelenting Calamity.\nactions.single_target+=/chain_lightning,if=buff.power_of_the_maelstrom.up&talent.unrelenting_calamity.enabled&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# Utilize the Power of the Maelstrom buff if your Lightning Bolt is empowered by Unrelenting Calamity.\nactions.single_target+=/lightning_bolt,if=buff.power_of_the_maelstrom.up&talent.unrelenting_calamity.enabled\nactions.single_target+=/icefury\n# Spam Chain Lightning if Storm Elemental is active. But honor all previous priorities.\nactions.single_target+=/chain_lightning,if=pet.storm_elemental.active&debuff.lightning_rod.up&(debuff.electrified_shocks.up||buff.power_of_the_maelstrom.up)&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# If you have MotE up and aren't at risk of capping LvB, spend MotE on FrS/LB.\nactions.single_target+=/frost_shock,if=buff.icefury.up&buff.master_of_the_elements.up&!buff.lava_surge.up&!talent.electrified_shocks.enabled&!talent.flux_melting.enabled&cooldown.lava_burst.charges_fractional<1.0&talent.echo_of_the_elements.enabled\nactions.single_target+=/frost_shock,if=buff.icefury.up&talent.flux_melting.enabled\n# If you have MotE up and aren't at risk of capping LvB, spend MotE on Chain Lightning.\nactions.single_target+=/chain_lightning,if=buff.master_of_the_elements.up&!buff.lava_surge.up&(cooldown.lava_burst.charges_fractional<1.0&talent.echo_of_the_elements.enabled)&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# If you have MotE up and aren't at risk of capping LvB, spend MotE on FrS/LB.\nactions.single_target+=/lightning_bolt,if=buff.master_of_the_elements.up&!buff.lava_surge.up&(cooldown.lava_burst.charges_fractional<1.0&talent.echo_of_the_elements.enabled)\n# Use your Icefury buffs if you didn't improve the talent.\nactions.single_target+=/frost_shock,if=buff.icefury.up&!talent.electrified_shocks.enabled&!talent.flux_melting.enabled\n# Casting Chain Lightning at two targets is more efficient than Lightning Bolt.\nactions.single_target+=/chain_lightning,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# Filler spell. Always available. Always the bottom line.\nactions.single_target+=/lightning_bolt\nactions.single_target+=/flame_shock,moving=1,cycle_targets=1,if=refreshable\nactions.single_target+=/flame_shock,moving=1,if=movement.distance>6\n# Frost Shock is our movement filler.\nactions.single_target+=/frost_shock,moving=1",
					["version"] = 20230520,
					["warnings"] = "The import for 'aoe' required some automated changes.\nLine 21: Converted 'talent.echoes_of_great_sundering' to 'talent.echoes_of_great_sundering.enabled' (1x).\nLine 22: Converted 'talent.echoes_of_great_sundering' to 'talent.echoes_of_great_sundering.enabled' (1x).\nLine 24: Converted 'talent.echoes_of_great_sundering' to 'talent.echoes_of_great_sundering.enabled' (1x).\nLine 25: Converted 'talent.echoes_of_great_sundering' to 'talent.echoes_of_great_sundering.enabled' (1x).\n\nImported 4 action lists.\n",
					["author"] = "SimulationCraft",
					["lists"] = {
						["single_target"] = {
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "fire_elemental",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "storm_elemental",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.liquid_magma_totem.remains > 45 & ( talent.lava_surge.enabled & talent.splintered_elements.enabled || active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) )",
								["action"] = "totemic_recall",
								["description"] = "Reset LMT CD as early as possible.",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.lava_surge.enabled & talent.splintered_elements.enabled || active_dot.flame_shock = 0 || dot.flame_shock.remains < 6 || active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "liquid_magma_totem",
								["description"] = "Keep your cooldowns rolling.",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["description"] = "Use Primordial Wave as much as possible without wasting buffs.",
								["criteria"] = "! buff.primordial_wave.up & ! buff.splintered_elements.up",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & refreshable & ! buff.surge_of_power.up & ( ! buff.master_of_the_elements.up || ( ! buff.stormkeeper.up & ( talent.elemental_blast.enabled & maelstrom < 90 - 8 * talent.eye_of_the_storm.rank || maelstrom < 60 - 5 * talent.eye_of_the_storm.rank ) ) )",
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock = 0 & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & ( talent.deeply_rooted_elements.enabled || talent.ascendance.enabled || talent.primordial_wave.enabled || talent.searing_flames.enabled || talent.magma_chamber.enabled ) & ( ! buff.master_of_the_elements.up & ( buff.stormkeeper.up || cooldown.stormkeeper.remains = 0 ) || ! talent.surge_of_power.enabled )",
								["action"] = "flame_shock",
								["description"] = "Use Flame shock without Surge of Power if you can't spread it with SoP because it is going to be used on Stormkeeper or Surge of Power is not talented.",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock to multiple targets only if talents were selected that benefit from it.",
								["criteria"] = "active_dot.flame_shock < cycle_enemies & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & refreshable & ( talent.deeply_rooted_elements.enabled || talent.ascendance.enabled || talent.primordial_wave.enabled || talent.searing_flames.enabled || talent.magma_chamber.enabled ) & ( buff.surge_of_power.up & ! buff.stormkeeper.up & ! cooldown.stormkeeper.remains = 0 || ! talent.surge_of_power.enabled )",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! buff.ascendance.up & ! buff.stormkeeper.up & maelstrom >= 116 & talent.elemental_blast.enabled & talent.surge_of_power.enabled & talent.swelling_maelstrom.enabled & ! talent.lava_surge.enabled & ! talent.echo_of_the_elements.enabled & ! talent.primordial_surge.enabled",
								["action"] = "stormkeeper",
								["description"] = "{EB/Swelling/SoP Lightning build} Start SK window if you have enough maelstrom to: EB > SoP SK_LB > LvB > EB.",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "! buff.ascendance.up & ! buff.stormkeeper.up & buff.surge_of_power.up & ! talent.lava_surge.enabled & ! talent.echo_of_the_elements.enabled & ! talent.primordial_surge.enabled",
								["action"] = "stormkeeper",
								["description"] = "{EB/SoP Lightning builds} Use Stormkeeper if you already got Surge of Power buff rolling.",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "! buff.ascendance.up & ! buff.stormkeeper.up & ( ! talent.surge_of_power.enabled || ! talent.elemental_blast.enabled || talent.lava_surge.enabled || talent.echo_of_the_elements.enabled || talent.primordial_surge.enabled )",
								["action"] = "stormkeeper",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "! buff.stormkeeper.up",
								["action"] = "ascendance",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.stormkeeper.up & buff.surge_of_power.up",
								["action"] = "lightning_bolt",
								["description"] = "Stormkeeper is strong and should be used.",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & buff.stormkeeper.up & ! talent.surge_of_power.enabled",
								["action"] = "lava_beam",
								["description"] = "Stormkeeper is strong and should be used.",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & buff.stormkeeper.up & ! talent.surge_of_power.enabled",
								["action"] = "chain_lightning",
								["description"] = "Stormkeeper is strong and should be used.",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "buff.stormkeeper.up & ! buff.master_of_the_elements.up & ! talent.surge_of_power.enabled & talent.master_of_the_elements.enabled",
								["action"] = "lava_burst",
								["description"] = "Buff stormkeeper with MotE when not using Surge.",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "buff.stormkeeper.up & ! talent.surge_of_power.enabled & buff.master_of_the_elements.up",
								["action"] = "lightning_bolt",
								["description"] = "Stormkeeper is strong and should be used.",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.stormkeeper.up & ! talent.surge_of_power.enabled & ! talent.master_of_the_elements.enabled",
								["action"] = "lightning_bolt",
								["description"] = "Stormkeeper is strong and should be used.",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.surge_of_power.up",
								["action"] = "lightning_bolt",
								["description"] = "Surge of Power is strong and should be used.",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "talent.electrified_shocks.enabled",
								["action"] = "icefury",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & talent.electrified_shocks.enabled & ( debuff.electrified_shocks.remains < 2 || buff.icefury.remains <= gcd.max )",
								["action"] = "frost_shock",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & talent.electrified_shocks.enabled & maelstrom >= 50 & debuff.electrified_shocks.remains < 2 * gcd.max & buff.stormkeeper.up",
								["action"] = "frost_shock",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & buff.power_of_the_maelstrom.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & buff.stormkeeper.up & ! talent.lava_surge.enabled & ! talent.echo_of_the_elements.enabled & ! talent.primordial_surge.enabled & talent.elemental_blast.enabled & ( maelstrom >= 61 & maelstrom < 75 & cooldown.lava_burst.remains > gcd.max || maelstrom >= 49 & maelstrom < 63 & cooldown.lava_burst.ready )",
								["action"] = "frost_shock",
								["description"] = "{EB/SoP Lightning builds} Spend extra Frost Shock if it gives you the ability to get to next spender without using Stormkeeper charge.",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & buff.stormkeeper.up & ! talent.lava_surge.enabled & ! talent.echo_of_the_elements.enabled & ! talent.elemental_blast.enabled & ( maelstrom >= 36 & maelstrom < 50 & cooldown.lava_burst.remains > gcd.max || maelstrom >= 24 & maelstrom < 38 & cooldown.lava_burst.ready )",
								["action"] = "frost_shock",
								["description"] = "{ES/SoP Lightning builds} Spend extra Frost Shock if it gives you the ability to get to next spender without using Stormkeeper charge.",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "buff.windspeakers_lava_resurgence.up & ( talent.echo_of_the_elements.enabled || talent.lava_surge.enabled || talent.primordial_surge.enabled || maelstrom >= 63 & talent.master_of_the_elements.enabled || maelstrom >= 38 & buff.echoes_of_great_sundering.up & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) || ! talent.elemental_blast.enabled )",
								["action"] = "lava_burst",
								["description"] = "Windspeaker's Lava Resurgence is strong. Don't sit on it...Unless it's Lightning build and you save it to buff Elemental Blast.",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "cooldown_react & buff.lava_surge.up & ( talent.echo_of_the_elements.enabled || talent.lava_surge.enabled || talent.primordial_surge.enabled || ! talent.master_of_the_elements.enabled || ! talent.elemental_blast.enabled )",
								["action"] = "lava_burst",
								["description"] = "Lava Surge is neat. Utilize it...Unless it's Lightning build and you save it to buff Elemental Blast.",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & maelstrom >= 50 & ! talent.swelling_maelstrom.enabled & maelstrom <= 80",
								["action"] = "lava_burst",
								["description"] = "Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ( maelstrom >= 75 || maelstrom >= 50 & ! talent.elemental_blast.enabled ) & talent.swelling_maelstrom.enabled & maelstrom <= 130",
								["action"] = "lava_burst",
								["description"] = "Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "buff.echoes_of_great_sundering.up & ( ! talent.elemental_blast.enabled & active_enemies < 2 || active_enemies > 1 )",
								["action"] = "earthquake",
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Additionally Elemental Blast is stronger than EoGS. In this case don't use Earthquake on single target.",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & ! talent.echoes_of_great_sundering.enabled & ! talent.elemental_blast.enabled",
								["action"] = "earthquake",
								["description"] = "Use Earthquake against two enemies unless you have to alternate because of Echoes of Great Sundering.",
							}, -- [31]
							{
								["action"] = "elemental_blast",
								["enabled"] = true,
							}, -- [32]
							{
								["action"] = "earth_shock",
								["enabled"] = true,
							}, -- [33]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Utilize present buffs.",
								["criteria"] = "dot.flame_shock.remains > 2 & buff.flux_melting.up & active_enemies > 1",
							}, -- [34]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Single target Lava Burst is stronk.",
								["criteria"] = "dot.flame_shock.remains > 2 & active_enemies = 1 & talent.deeply_rooted_elements.enabled",
							}, -- [35]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & talent.flux_melting.enabled & ! buff.flux_melting.up",
								["action"] = "frost_shock",
								["description"] = "Spread out your Icefury usage if you can get more use out of accompanied buffs.",
							}, -- [36]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & ( talent.electrified_shocks.enabled & debuff.electrified_shocks.remains < 2 || buff.icefury.remains < 6 )",
								["action"] = "frost_shock",
								["description"] = "Spread out your Icefury usage if you can get more use out of accompanied buffs.",
							}, -- [37]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Use Lava Burst normally with fire builds. Save it as much as possible in lightning builds unless you cant use Lightning Bolt without wasting Stormkeeper charges.",
								["criteria"] = "dot.flame_shock.remains > 2 & talent.echo_of_the_elements.enabled || talent.lava_surge.enabled || talent.primordial_surge.enabled || ! talent.elemental_blast.enabled || ! talent.master_of_the_elements.enabled || buff.stormkeeper.up",
							}, -- [38]
							{
								["enabled"] = true,
								["criteria"] = "buff.power_of_the_maelstrom.up & talent.unrelenting_calamity.enabled & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
								["description"] = "Utilize the Power of the Maelstrom buff if your Chain Lightning is empowered by Unrelenting Calamity.",
							}, -- [39]
							{
								["enabled"] = true,
								["criteria"] = "buff.power_of_the_maelstrom.up & talent.unrelenting_calamity.enabled",
								["action"] = "lightning_bolt",
								["description"] = "Utilize the Power of the Maelstrom buff if your Lightning Bolt is empowered by Unrelenting Calamity.",
							}, -- [40]
							{
								["action"] = "icefury",
								["enabled"] = true,
							}, -- [41]
							{
								["enabled"] = true,
								["criteria"] = "pet.storm_elemental.active & debuff.lightning_rod.up & ( debuff.electrified_shocks.up || buff.power_of_the_maelstrom.up ) & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
								["description"] = "Spam Chain Lightning if Storm Elemental is active. But honor all previous priorities.",
							}, -- [42]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & buff.master_of_the_elements.up & ! buff.lava_surge.up & ! talent.electrified_shocks.enabled & ! talent.flux_melting.enabled & cooldown.lava_burst.charges_fractional < 1.0 & talent.echo_of_the_elements.enabled",
								["action"] = "frost_shock",
								["description"] = "If you have MotE up and aren't at risk of capping LvB, spend MotE on FrS/LB.",
							}, -- [43]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & talent.flux_melting.enabled",
								["action"] = "frost_shock",
							}, -- [44]
							{
								["enabled"] = true,
								["criteria"] = "buff.master_of_the_elements.up & ! buff.lava_surge.up & ( cooldown.lava_burst.charges_fractional < 1.0 & talent.echo_of_the_elements.enabled ) & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
								["description"] = "If you have MotE up and aren't at risk of capping LvB, spend MotE on Chain Lightning.",
							}, -- [45]
							{
								["enabled"] = true,
								["criteria"] = "buff.master_of_the_elements.up & ! buff.lava_surge.up & ( cooldown.lava_burst.charges_fractional < 1.0 & talent.echo_of_the_elements.enabled )",
								["action"] = "lightning_bolt",
								["description"] = "If you have MotE up and aren't at risk of capping LvB, spend MotE on FrS/LB.",
							}, -- [46]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & ! talent.electrified_shocks.enabled & ! talent.flux_melting.enabled",
								["action"] = "frost_shock",
								["description"] = "Use your Icefury buffs if you didn't improve the talent.",
							}, -- [47]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
								["description"] = "Casting Chain Lightning at two targets is more efficient than Lightning Bolt.",
							}, -- [48]
							{
								["enabled"] = true,
								["description"] = "Filler spell. Always available. Always the bottom line.",
								["action"] = "lightning_bolt",
							}, -- [49]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["enabled"] = true,
								["criteria"] = "refreshable",
							}, -- [50]
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["moving"] = 1,
								["criteria"] = "movement.distance > 6",
							}, -- [51]
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["action"] = "frost_shock",
								["moving"] = 1,
								["description"] = "Frost Shock is our movement filler.",
							}, -- [52]
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "fire_elemental",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "storm_elemental",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! buff.stormkeeper.up",
								["action"] = "stormkeeper",
								["description"] = "Keep your cooldowns rolling.",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.liquid_magma_totem.remains > 45",
								["action"] = "totemic_recall",
								["description"] = "Reset LMT CD as early as possible.",
							}, -- [4]
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "liquid_magma_totem",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).",
								["criteria"] = "! buff.primordial_wave.up & buff.surge_of_power.up & ! buff.splintered_elements.up",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).",
								["criteria"] = "! buff.primordial_wave.up & talent.deeply_rooted_elements.enabled & ! talent.surge_of_power.enabled & ! buff.splintered_elements.up",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).",
								["criteria"] = "! buff.primordial_wave.up & talent.master_of_the_elements.enabled & ! talent.lightning_rod.enabled",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock using Surge of Power on up to 4 for Lightning builds with Windspeaker's Lava Resurgence.",
								["criteria"] = "refreshable & buff.surge_of_power.up & talent.lightning_rod.enabled & talent.windspeakers_lava_resurgence.enabled & dot.flame_shock.remains < target.time_to_die - 16 & active_enemies < 5",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock using Surge of Power up to 6.",
								["criteria"] = "refreshable & buff.surge_of_power.up & ( ! talent.lightning_rod.enabled || talent.skybreakers_fiery_demise.enabled ) & dot.flame_shock.remains < target.time_to_die - 5 & active_dot.flame_shock < 6",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock against low target counts if Master of the Elements was selected up to 6.",
								["criteria"] = "refreshable & talent.master_of_the_elements.enabled & ! talent.lightning_rod.enabled & dot.flame_shock.remains < target.time_to_die - 5 & active_dot.flame_shock < 6",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock to gamble on Deeply Rooted Element procs up to 6.",
								["criteria"] = "refreshable & talent.deeply_rooted_elements.enabled & ! talent.surge_of_power.enabled & dot.flame_shock.remains < target.time_to_die - 5 & active_dot.flame_shock < 6",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Refresh Flame Shock using Surge of Power up to 6.",
								["criteria"] = "refreshable & buff.surge_of_power.up & ( ! talent.lightning_rod.enabled || talent.skybreakers_fiery_demise.enabled ) & dot.flame_shock.remains < target.time_to_die - 5 & dot.flame_shock.remains > 0",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Refresh Flame Shock against low target counts if Master of the Elements was selected up to 6.",
								["criteria"] = "refreshable & talent.master_of_the_elements.enabled & ! talent.lightning_rod.enabled & dot.flame_shock.remains < target.time_to_die - 5 & dot.flame_shock.remains > 0",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Refresh Flame Shock to gamble on Deeply Rooted Element procs up to 6.",
								["criteria"] = "refreshable & talent.deeply_rooted_elements.enabled & ! talent.surge_of_power.enabled & dot.flame_shock.remains < target.time_to_die - 5 & dot.flame_shock.remains > 0",
							}, -- [15]
							{
								["enabled"] = true,
								["description"] = "JUST DO IT! https://i.kym-cdn.com/entries/icons/mobile/000/018/147/Shia_LaBeouf__Just_Do_It__Motivational_Speech_(Original_Video_by_LaBeouf__R%C3%B6nkk%C3%B6___Turner)_0-4_screenshot.jpg",
								["action"] = "ascendance",
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Cast Lava Burst to buff your immediately follow-up Earthquake with Master of the Elements.",
								["criteria"] = "dot.flame_shock.remains & cooldown_react & buff.lava_surge.up & talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ( maelstrom >= 60 - 5 * talent.eye_of_the_storm.rank - 2 * talent.flow_of_power.enabled ) & ( ! talent.echoes_of_great_sundering.enabled & ! talent.lightning_rod.enabled || buff.echoes_of_great_sundering.up ) & ( ! buff.ascendance.up & active_enemies > 3 & talent.unrelenting_calamity.enabled || active_enemies > 3 & ! talent.unrelenting_calamity.enabled || active_enemies = 3 )",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "! talent.echoes_of_great_sundering.enabled & active_enemies > 3 & ( spell_targets.chain_lightning > 3 || spell_targets.lava_beam > 3 )",
								["action"] = "earthquake",
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "! talent.echoes_of_great_sundering.enabled & ! talent.elemental_blast.enabled & active_enemies = 3 & ( spell_targets.chain_lightning = 3 || spell_targets.lava_beam = 3 )",
								["action"] = "earthquake",
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.echoes_of_great_sundering.up",
								["action"] = "earthquake",
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "elemental_blast",
								["cycle_targets"] = 1,
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Spread Lightning Rod to as many targets as possible.",
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
								["action"] = "elemental_blast",
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 3 & ! talent.echoes_of_great_sundering.enabled",
								["action"] = "elemental_blast",
								["description"] = "Elemental Blast is stronger than Earthquake against 3 targets.",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "earth_shock",
								["cycle_targets"] = 1,
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Spread Lightning Rod to as many targets as possible.",
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
								["action"] = "earth_shock",
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "! buff.ascendance.up & talent.electrified_shocks.enabled & ( talent.lightning_rod.enabled & active_enemies < 5 & ! buff.master_of_the_elements.up || talent.deeply_rooted_elements.enabled & active_enemies = 3 )",
								["action"] = "icefury",
								["description"] = "Use Icefury if you can get the full benefit from Electrified Shocks. If more targets are present ignore it. High priority on 3 targets.",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "! buff.ascendance.up & buff.icefury.up & talent.electrified_shocks.enabled & ( ! debuff.electrified_shocks.up || buff.icefury.remains < gcd.max ) & ( talent.lightning_rod.enabled & active_enemies < 5 & ! buff.master_of_the_elements.up || talent.deeply_rooted_elements.enabled & active_enemies = 3 )",
								["action"] = "frost_shock",
								["description"] = "Spread out your Frost Shock casts to empower as many Chain Lightnings as possible.",
							}, -- [27]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Buff Stormkeeper with Master of the elements on 3-4 targets.",
								["criteria"] = "dot.flame_shock.remains & talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ( buff.stormkeeper.up || t30_2pc_timer.next_tick < 3 & set_bonus.tier30_2pc ) & ( maelstrom < 60 - 5 * talent.eye_of_the_storm.rank - 2 * talent.flow_of_power.enabled - 10 ) & active_enemies < 5",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "buff.stormkeeper.up",
								["action"] = "lava_beam",
								["description"] = "Stormkeeper is strong and should be used.",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "buff.stormkeeper.up",
								["action"] = "chain_lightning",
								["description"] = "Stormkeeper is strong and should be used.",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "buff.power_of_the_maelstrom.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
								["description"] = "Power of the Maelstrom is strong and should be used.",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "buff.power_of_the_maelstrom.up",
								["action"] = "chain_lightning",
								["description"] = "Power of the Maelstrom is strong and should be used.",
							}, -- [32]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 6 & buff.surge_of_power.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
								["description"] = "Against 6 targets or more Surge of Power should be used with Lava Beam rather than Lava Burst.",
							}, -- [33]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 6 & buff.surge_of_power.up",
								["action"] = "chain_lightning",
								["description"] = "Against 6 targets or more Surge of Power should be used with Chain Lightning rather than Lava Burst.",
							}, -- [34]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Proc Deeply Rooted Elements against 3 targets.",
								["criteria"] = "dot.flame_shock.remains > 0 & buff.lava_surge.up & talent.deeply_rooted_elements.enabled & buff.windspeakers_lava_resurgence.up",
							}, -- [35]
							{
								["enabled"] = true,
								["criteria"] = "buff.master_of_the_elements.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
								["description"] = "Consume Master of the Elements with Lava Beam.",
							}, -- [36]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Proc Master of the Elements against 3 targets.",
								["criteria"] = "dot.flame_shock.remains > 0 & active_enemies = 3 & talent.master_of_the_elements.enabled",
							}, -- [37]
							{
								["enabled"] = true,
								["criteria"] = "dot.flame_shock.remains > 0 & buff.lava_surge.up & talent.deeply_rooted_elements.enabled",
								["action"] = "lava_burst",
								["description"] = "Gamble away for Deeply Rooted Elements procs whenever Lava Surge makes Lava Burst more efficient.",
							}, -- [38]
							{
								["enabled"] = true,
								["criteria"] = "talent.electrified_shocks.enabled & active_enemies < 5",
								["action"] = "icefury",
								["description"] = "Use Icefury if you can get the full benefit from Electrified Shocks. If more targets are present ignore it.",
							}, -- [39]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & talent.electrified_shocks.enabled & ! debuff.electrified_shocks.up & active_enemies < 5",
								["action"] = "frost_shock",
								["description"] = "Spread out your Frost Shock casts to empower as many Chain Lightnings as possible.",
							}, -- [40]
							{
								["enabled"] = true,
								["criteria"] = "buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							}, -- [41]
							{
								["action"] = "chain_lightning",
								["enabled"] = true,
							}, -- [42]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["enabled"] = true,
								["criteria"] = "refreshable",
							}, -- [43]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "frost_shock",
								["enabled"] = true,
							}, -- [44]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Interrupt of casts.",
								["action"] = "wind_shear",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "settings.hostile_dispel",
								["action"] = "purge",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "settings.hostile_dispel",
								["action"] = "greater_purge",
							}, -- [3]
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["action"] = "spiritwalkers_grace",
								["moving"] = 1,
								["description"] = "Enable more movement.",
								["criteria"] = "movement.distance > 6",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
								["action"] = "blood_fury",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up",
								["action"] = "berserking",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
								["action"] = "fireblood",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
								["action"] = "ancestral_call",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || ! buff.ascendance.up",
								["action"] = "bag_of_tricks",
							}, -- [9]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [10]
							{
								["action"] = "meteor",
								["enabled"] = true,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.call_lightning.up",
								["action"] = "tempest",
							}, -- [12]
							{
								["action"] = "vesper_totem",
								["enabled"] = true,
							}, -- [13]
							{
								["action"] = "natures_swiftness",
								["enabled"] = true,
							}, -- [14]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 2 & ( spell_targets.chain_lightning > 2 || spell_targets.lava_beam > 2 )",
								["list_name"] = "aoe",
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["list_name"] = "single_target",
							}, -- [17]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.improved_flametongue_weapon.enabled",
								["action"] = "flametongue_weapon",
								["description"] = "Ensure weapon enchant is applied.",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.lightning_shield.down & ( buff.earth_shield.down || talent.elemental_orbit.enabled )",
								["action"] = "lightning_shield",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.lightning_shield.up & buff.earth_shield.down & talent.elemental_orbit.enabled",
								["action"] = "earth_shield",
							}, -- [3]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "stormkeeper",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "icefury",
								["enabled"] = true,
							}, -- [6]
						},
					},
				},
				["Devastation"] = {
					["source"] = "https://github.com/simulationcraft/simc/blob/dragonflight/engine/class_modules/apl/apl_evoker.cpp",
					["builtIn"] = true,
					["date"] = 20230724,
					["spec"] = 1467,
					["desc"] = "2023-07-24: Adjust Spoils trinket logic.\n\n2023-06-26: Fix ES in single-target.\n\n2023-06-24: Adjust FB/ES and Disintegrate.\n\n2023-06-03: Change Verdant Embrace conditions; restore non-T30 FB/ES usage.\n\n2023-05-29: Minor updates from SimulationCraft.\n\n2023-05-28: Ensure FB/ES can finish if target is about to die.  (Simplified.)\n\n2023-05-14: Revise '==' to '=' for consistency.\n\n2023-05-12: Incremental SimC update (drops 'st_opener' priority).\n\n2023-05-08: Substantial changes to SimC once again.\n\n2023-05-04:  Incremental SimC updates (Shattering Star, Fire Breath, Eternity Surge, Pyre, Living Flame).\n\n2023-04-30:  Updated from SimC for 10.1.\n\n2023-04-05:  Update from SimC cleaning up AOE priority a bit.\n\n2023-03-08:  Routine update from SimulationCraft refining Pyre usage at different target counts and stacks of Charged Blast.\n\n2023-02-14:  Added Dragonrage Animosity Padding (dr_padding) setting.",
					["lists"] = {
						["es"] = {
							{
								["enabled"] = true,
								["action"] = "eternity_surge",
								["empower_to"] = "1",
								["description"] = "Eternity Surge, use rank most applicable to targets.",
								["criteria"] = "active_enemies <= 1 + talent.eternitys_span.enabled || buff.dragonrage.remains < 1.75 * spell_haste & buff.dragonrage.remains >= 1 * spell_haste || buff.dragonrage.up & ( active_enemies = 5 || ! talent.eternitys_span.enabled & active_enemies >= 6 || talent.eternitys_span.enabled & active_enemies >= 8 )",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies <= 2 + 2 * talent.eternitys_span.enabled || buff.dragonrage.remains < 2.5 * spell_haste & buff.dragonrage.remains >= 1.75 * spell_haste",
								["action"] = "eternity_surge",
								["empower_to"] = "2",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies <= 3 + 3 * talent.eternitys_span.enabled || ! talent.font_of_magic.enabled || buff.dragonrage.remains <= 3.25 * spell_haste & buff.dragonrage.remains >= 2.5 * spell_haste",
								["action"] = "eternity_surge",
								["empower_to"] = "3",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "eternity_surge",
								["empower_to"] = "4",
							}, -- [4]
						},
						["st"] = {
							{
								["enabled"] = true,
								["name"] = "kharnalex_the_first_light",
								["action"] = "kharnalex_the_first_light",
								["criteria"] = "! buff.dragonrage.up & debuff.shattering_star_debuff.down & raid_event.movement.in > 6",
								["description"] = "ST Action List, it's a mess, but it's getting better!",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.movement.in < 2 & ! buff.hover.up",
								["use_off_gcd"] = 1,
								["description"] = "Movement Logic, Time spiral logic might need some tweaking actions.st+=/time_spiral,if=raid_event.movement.in<3&cooldown.hover.remains>=3&!buff.hover.up",
								["action"] = "hover",
							}, -- [2]
							{
								["enabled"] = true,
								["description"] = "Spend firestorm procs ASAP",
								["criteria"] = "buff.snapfire.up",
								["action"] = "firestorm",
							}, -- [3]
							{
								["enabled"] = true,
								["description"] = "Relaxed Dragonrage Entry Requirements, cannot reliably reach third extend under normal conditions (Bloodlust + Power Infusion/Very high haste gear)  DS optimization: Only cast if current fight will last 32s+ or encounter ends in less than 30s",
								["criteria"] = "cooldown.fire_breath.remains < 4 & cooldown.eternity_surge.remains < 10 & target.time_to_die >= 32 || boss & fight_remains < 30",
								["action"] = "dragonrage",
							}, -- [4]
							{
								["enabled"] = true,
								["description"] = "Tip second FB if not playing font of magic or if playing EBF, otherwise tip ES.",
								["criteria"] = "buff.dragonrage.up & ( ( ( ! talent.font_of_magic.enabled || talent.everburning_flame.enabled ) & cooldown.fire_breath.remains < cooldown.eternity_surge.remains & buff.dragonrage.remains < 14 ) || ( cooldown.eternity_surge.remains < cooldown.fire_breath.remains & ! talent.everburning_flame.enabled & talent.font_of_magic.enabled ) )",
								["action"] = "tip_the_scales",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Fire breath logic  Play around power swell if you don't have pi or lust up. Play around blazing shards if outside of DR.  DS optimization: Only cast if current fight will last 8s+ or encounter ends in less than 30s",
								["criteria"] = "( ! talent.dragonrage.enabled || variable.next_dragonrage > variable.dr_prep_time_st || ! talent.animosity.enabled ) & ( ( buff.power_swell.remains < variable.r1_cast_time || buff.bloodlust.up || buff.power_infusion.up || buff.dragonrage.up ) & ( buff.blazing_shards.remains < variable.r1_cast_time || buff.dragonrage.up ) ) & ( ! cooldown.eternity_surge.up || ! talent.event_horizon.enabled || ! buff.dragonrage.up ) & ( target.time_to_die >= 8 || boss & fight_remains < 30 )",
								["list_name"] = "fb",
							}, -- [6]
							{
								["enabled"] = true,
								["description"] = "Use Disintegrate after FB opener in DR.",
								["criteria"] = "buff.dragonrage.remains > 19 & cooldown.fire_breath.remains > 28 & talent.eye_of_infinity.enabled",
								["action"] = "disintegrate",
							}, -- [7]
							{
								["enabled"] = true,
								["description"] = "Throw Star on CD, Don't overcap with Arcane Vigor.",
								["criteria"] = "( buff.essence_burst.stack < buff.essence_burst.max_stack || ! talent.arcane_vigor.enabled ) & ( ! cooldown.fire_breath.up || ! talent.event_horizon.enabled )",
								["action"] = "shattering_star",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Eternity Surge logic  Play around power swell if you don't have pi or lust up. Play around blazing shards if outside of DR.  DS optimization: Only cast if current fight will last 8s+ or encounter ends in less than 30s",
								["criteria"] = "( ! talent.dragonrage.enabled || variable.next_dragonrage > variable.dr_prep_time_st || ! talent.animosity.enabled ) & ( ( buff.power_swell.remains < variable.r1_cast_time || buff.bloodlust.up || buff.power_infusion.up ) & ( buff.blazing_shards.remains < variable.r1_cast_time || buff.dragonrage.up ) ) & ( target.time_to_die >= 8 || boss & fight_remains < 30 )",
								["list_name"] = "es",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "wait",
								["sec"] = "cooldown.fire_breath.remains",
								["criteria"] = "talent.animosity.enabled & buff.dragonrage.up & buff.dragonrage.remains < gcd.max + variable.r1_cast_time * buff.tip_the_scales.down & buff.dragonrage.remains - cooldown.fire_breath.remains >= variable.r1_cast_time * buff.tip_the_scales.down",
								["description"] = "Wait for FB/ES to be ready if spending another GCD would result in the cast no longer fitting inside of DR",
							}, -- [10]
							{
								["enabled"] = true,
								["sec"] = "cooldown.eternity_surge.remains",
								["action"] = "wait",
								["criteria"] = "talent.animosity.enabled & buff.dragonrage.up & buff.dragonrage.remains < gcd.max + variable.r1_cast_time & buff.dragonrage.remains - cooldown.eternity_surge.remains > variable.r1_cast_time * buff.tip_the_scales.down",
							}, -- [11]
							{
								["enabled"] = true,
								["description"] = "Spend the last 1 or 2 GCDs of DR on fillers to exit with 2 EBs",
								["criteria"] = "buff.dragonrage.up & buff.dragonrage.remains < ( buff.essence_burst.max_stack - buff.essence_burst.stack ) * gcd.max & buff.burnout.up",
								["action"] = "living_flame",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.dragonrage.up & buff.dragonrage.remains < ( buff.essence_burst.max_stack - buff.essence_burst.stack ) * gcd.max",
								["action"] = "azure_strike",
							}, -- [13]
							{
								["enabled"] = true,
								["description"] = "Spend burnout procs without overcapping resources",
								["criteria"] = "buff.burnout.up & ( buff.leaping_flames.up & ! buff.essence_burst.up || ! buff.leaping_flames.up & buff.essence_burst.stack < buff.essence_burst.max_stack ) & essence.deficit >= 2",
								["action"] = "living_flame",
							}, -- [14]
							{
								["enabled"] = true,
								["description"] = "Spend pyre if raging inferno debuff is active and you have 20 stacks of CB on 2T",
								["criteria"] = "debuff.in_firestorm.up & talent.raging_inferno.enabled & buff.charged_blast.stack = 20 & active_enemies >= 2",
								["action"] = "pyre",
							}, -- [15]
							{
								["enabled"] = true,
								["chain"] = "1",
								["action"] = "disintegrate",
								["interrupt_if"] = "evoker.use_clipping&buff.dragonrage.up&ticks>=2&(!(buff.power_infusion.up&buff.bloodlust.up)||cooldown.fire_breath.up||cooldown.eternity_surge.up)&(raid_event.movement.in>2||buff.hover.up)",
								["early_chain_if"] = "evoker.use_early_chaining&ticks>=2&buff.dragonrage.up&!(buff.power_infusion.up&buff.bloodlust.up)&(raid_event.movement.in>2||buff.hover.up)",
								["criteria"] = "raid_event.movement.in > 2 || buff.hover.up",
								["description"] = "Dis logic  Early Chain in DR after third tick if both lust & pi isn't up.  Clip after in DR after third tick for more important buttions, atm that is: empowers, burnout & SS. burnout and SS you only clip for if both lust & pi isn't up.",
							}, -- [16]
							{
								["enabled"] = true,
								["description"] = "Hard cast only outside of SS and DR windows",
								["criteria"] = "! buff.dragonrage.up & debuff.shattering_star_debuff.down",
								["action"] = "firestorm",
							}, -- [17]
							{
								["enabled"] = true,
								["description"] = "Use Deep Breath on 2T, unless adds will come before it'll be ready again or if talented ID.",
								["criteria"] = "! buff.dragonrage.up & active_enemies >= 2 & ( ( raid_event.adds.in >= 120 & ! talent.onyx_legacy.enabled ) || ( raid_event.adds.in >= 60 & talent.onyx_legacy.enabled ) )",
								["action"] = "deep_breath",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "! buff.dragonrage.up & talent.imminent_destruction.enabled & ! debuff.shattering_star_debuff.up",
								["action"] = "deep_breath",
							}, -- [19]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Get Ancient Flame as Filler",
								["criteria"] = "talent.ancient_flame.enabled & ! buff.ancient_flame.up & ! buff.shattering_star_debuff.up & talent.scarlet_adaptation.enabled & ! buff.dragonrage.up",
								["list_name"] = "green",
							}, -- [20]
							{
								["enabled"] = true,
								["description"] = "Cast LF outside of DR, In DR only cast with Iridescence.",
								["criteria"] = "! buff.dragonrage.up || ( buff.iridescence_red.remains > execute_time || buff.iridescence_blue.up ) & active_enemies = 1",
								["action"] = "living_flame",
							}, -- [21]
							{
								["enabled"] = true,
								["description"] = "Fallback for movement",
								["action"] = "azure_strike",
							}, -- [22]
						},
						["default"] = {
							{
								["action"] = "quell",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "unravel",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["description"] = "Delay pot in ST if you are about to SS - mostly relevant for opener where you want DR->FB->SS->rotation",
								["criteria"] = "buff.dragonrage.up & ( ! cooldown.shattering_star.up || active_enemies >= 2 ) || boss & fight_remains < 35",
								["action"] = "potion",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.dragonrage.remains",
								["var_name"] = "next_dragonrage",
								["description"] = "Variable that evaluates when next dragonrage is by working out the maximum between the dragonrage cd and your empowers, ignoring CDR effect estimates.",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "max",
								["action"] = "variable",
								["value"] = "cooldown.eternity_surge.remains - 2 * gcd.max",
								["var_name"] = "next_dragonrage",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "max",
								["action"] = "variable",
								["value"] = "cooldown.fire_breath.remains - gcd.max",
								["var_name"] = "next_dragonrage",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "trinkets",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["description"] = "If we're already empowering a Fire Breath cast, check its empowerment level.",
								["strict"] = 1,
								["criteria"] = "empowering.fire_breath",
								["list_name"] = "fb",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["description"] = "If we're already empowering an Eternity Surge cast, check its empowerment level.",
								["strict"] = 1,
								["criteria"] = "empowering.eternity_surge",
								["list_name"] = "es",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 2",
								["list_name"] = "aoe",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["list_name"] = "st",
							}, -- [11]
						},
						["green"] = {
							{
								["enabled"] = true,
								["description"] = "Green Spells used to trigger Ancient Flame",
								["action"] = "emerald_blossom",
							}, -- [1]
							{
								["action"] = "verdant_embrace",
								["enabled"] = true,
							}, -- [2]
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "4",
								["var_name"] = "dr_prep_time_aoe",
								["description"] = "AOE action list, Actually kinda clean now  Open with star before DR to save a global and start with a free EB",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Open with star before DR to save a global and start with a free EB",
								["criteria"] = "cooldown.dragonrage.up",
								["action"] = "shattering_star",
							}, -- [2]
							{
								["enabled"] = true,
								["description"] = "Send DR on CD with no regard to the safety of the mobs - DPS loss to hold DR for empowers, in real world scenario maybe you hold if you are going for longer DRs  DS optimization: Only cast if current fight will last 32s+ or encounter ends in less than 30s",
								["criteria"] = "target.time_to_die >= 32 || boss & fight_remains < 30",
								["action"] = "dragonrage",
							}, -- [3]
							{
								["enabled"] = true,
								["description"] = "Use tip to get that sweet aggro",
								["criteria"] = "buff.dragonrage.up & ( active_enemies <= 3 + 3 * talent.eternitys_span.enabled || ! cooldown.fire_breath.up )",
								["action"] = "tip_the_scales",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Cast Fire Breath - stagger for swell/blazing shards outside DR  DS optimization: Only cast if current fight will last 8s+ or encounter ends in less than 30s",
								["criteria"] = "( ! talent.dragonrage.enabled || variable.next_dragonrage > variable.dr_prep_time_aoe || ! talent.animosity.enabled ) & ( buff.power_swell.remains < variable.r1_cast_time & buff.blazing_shards.remains < variable.r1_cast_time || buff.dragonrage.up ) & ( target.time_to_die >= 8 || boss & fight_remains < 30 )",
								["list_name"] = "fb",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Cast Eternity Surge - stagger for swell/blazing shards outside DR  DS optimization: Only cast if current fight will last 8s+ or encounter ends in less than 30s",
								["criteria"] = "buff.dragonrage.up || ! talent.dragonrage.enabled || ( cooldown.dragonrage.remains > variable.dr_prep_time_aoe & buff.power_swell.remains < variable.r1_cast_time & buff.blazing_shards.remains < variable.r1_cast_time ) & ( target.time_to_die >= 8 || boss & fight_remains < 30 )",
								["list_name"] = "es",
							}, -- [6]
							{
								["enabled"] = true,
								["description"] = "Cast DB if not in DR and not running imminent destruction. - I'm assuming that casting DB inside of DR with imminent before you start spending should be an increase, but might be worth to save it for outside of DR for more value?",
								["criteria"] = "! buff.dragonrage.up",
								["action"] = "deep_breath",
							}, -- [7]
							{
								["enabled"] = true,
								["description"] = "Send SS when it doesn't overflow EB, without vigor send on CD",
								["criteria"] = "buff.essence_burst.stack < buff.essence_burst.max_stack || ! talent.arcane_vigor.enabled",
								["action"] = "shattering_star",
							}, -- [8]
							{
								["enabled"] = true,
								["description"] = "Cast Firestorm before spending ressources",
								["action"] = "firestorm",
							}, -- [9]
							{
								["enabled"] = true,
								["description"] = "Pyre logic with volatility.  Pyre 4T+  Pyre on 3T if playing CB and neither EB or blue buff is up  Pyre on 3T if not playing CB aslong as both EB and blue buff isn't up at the same time.  Pyre with 15 stacks of CB  Pyre with raging debuff active",
								["criteria"] = "talent.volatility.enabled & ( active_enemies >= 4 || ( talent.charged_blast.enabled & ! buff.essence_burst.up & ! buff.iridescence_blue.up ) || ( ! talent.charged_blast.enabled & ( ! buff.essence_burst.up || ! buff.iridescence_blue.up ) ) || ( buff.charged_blast.stack >= 15 ) || ( talent.raging_inferno.enabled & debuff.in_firestorm.up ) )",
								["action"] = "pyre",
							}, -- [10]
							{
								["enabled"] = true,
								["description"] = "Pyre logic without volatility.  Without Vola use pyre if raging debuff is active, or if on 3T with 15 stacks of CB, or if 4T+",
								["criteria"] = "( talent.raging_inferno.enabled & debuff.in_firestorm.up ) || ( active_enemies = 3 & buff.charged_blast.stack >= 15 ) || active_enemies >= 4",
								["action"] = "pyre",
							}, -- [11]
							{
								["enabled"] = true,
								["description"] = "Cast LF with leaping flames if: not playing burnout, burnout is up, more than 4 enemies, or scarlet adaptation is up.",
								["criteria"] = "( ! talent.burnout.enabled || buff.burnout.up || active_enemies >= 4 || buff.scarlet_adaptation.up ) & buff.leaping_flames.up & ! buff.essence_burst.up & essence < essence.max - 1",
								["action"] = "living_flame",
							}, -- [12]
							{
								["enabled"] = true,
								["name"] = "kharnalex_the_first_light",
								["action"] = "kharnalex_the_first_light",
								["criteria"] = "! buff.dragonrage.up & debuff.shattering_star_debuff.down & active_enemies <= 5",
								["description"] = "Use staff on 5T or below",
							}, -- [13]
							{
								["enabled"] = true,
								["chain"] = "1",
								["action"] = "disintegrate",
								["interrupt_if"] = "evoker.use_clipping&buff.dragonrage.up&ticks>=2&(raid_event.movement.in>2||buff.hover.up)",
								["early_chain_if"] = "evoker.use_early_chaining&(buff.dragonrage.up||essence.deficit<=1)&ticks>=2&(raid_event.movement.in>2||buff.hover.up)",
								["criteria"] = "! moving || buff.hover.up",
								["description"] = "Yoinked the disintegrate logic from ST",
							}, -- [14]
							{
								["enabled"] = true,
								["description"] = "Cast LF with burnout and snapfire(kekW) proc for those juicy insta firestorms",
								["criteria"] = "talent.snapfire.enabled & buff.burnout.up",
								["action"] = "living_flame",
							}, -- [15]
							{
								["enabled"] = true,
								["description"] = "Fallback filler",
								["action"] = "azure_strike",
							}, -- [16]
						},
						["trinkets"] = {
							{
								["enabled"] = true,
								["name"] = "spoils_of_neltharus",
								["action"] = "spoils_of_neltharus",
								["criteria"] = "buff.dragonrage.up & ( ! cooldown.fire_breath.up & ! cooldown.shattering_star.up || active_enemies >= 3 ) || boss & fight_remains <= 20",
								["description"] = "Use spoils along with Dragon Rage when both FB & SS is on CD on <=2T or immediately on >=3T",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["slot"] = "trinket1",
								["description"] = "The trinket with the highest estimated value, will be used first and paired with Dragonrage.",
								["criteria"] = "buff.dragonrage.up & ( ( ! cooldown.fire_breath.up & ! cooldown.shattering_star.up ) || active_enemies >= 3 || ( buff.dragonrage.remains + 4 * ( ( cooldown.eternity_surge.remains <= gcd.max * 2 ) + ( cooldown.fire_breath.remains <= gcd.max * 2 ) ) <= 18 ) ) & ( ! trinket.t2.has_cooldown || trinket.t2.cooldown.remains || variable.trinket_priority = 1 || variable.trinket_2_exclude ) & ! variable.trinket_1_manual || boss & trinket.t1.buff_duration >= fight_remains || trinket.t1.cooldown.duration <= 60 & ( variable.next_dragonrage > 20 || ! talent.dragonrage.enabled ) & ( ! buff.dragonrage.up || variable.trinket_priority = 1 )",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.dragonrage.up & ( ( ! cooldown.fire_breath.up & ! cooldown.shattering_star.up ) || active_enemies >= 3 || ( buff.dragonrage.remains + 4 * ( ( cooldown.eternity_surge.remains <= gcd.max * 2 ) + ( cooldown.fire_breath.remains <= gcd.max * 2 ) ) <= 18 ) ) & ( ! trinket.t1.has_cooldown || trinket.t1.cooldown.remains || variable.trinket_priority = 2 || variable.trinket_1_exclude ) & ! variable.trinket_2_manual || boss & trinket.t2.buff_duration >= fight_remains || trinket.t2.cooldown.duration <= 60 & ( variable.next_dragonrage > 20 || ! talent.dragonrage.enabled ) & ( ! buff.dragonrage.up || variable.trinket_priority = 2 )",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["slot"] = "trinket1",
								["description"] = "If only one on use trinket provides a buff, use the other on cooldown. Or if neither trinket provides a buff, use both on cooldown.",
								["criteria"] = "! variable.trinket_1_buffs & ( trinket.t2.cooldown.remains || ! variable.trinket_2_buffs ) & ( variable.next_dragonrage > 20 || ! talent.dragonrage.enabled ) & ! variable.trinket_1_manual",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! variable.trinket_2_buffs & ( trinket.t1.cooldown.remains || ! variable.trinket_1_buffs ) & ( variable.next_dragonrage > 20 || ! talent.dragonrage.enabled ) & ! variable.trinket_2_manual",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [5]
						},
						["fb"] = {
							{
								["enabled"] = true,
								["action"] = "fire_breath",
								["empower_to"] = "1",
								["description"] = "Fire Breath, use rank appropriate to target count/talents.",
								["criteria"] = "( buff.dragonrage.up & active_enemies <= 2 ) || ( active_enemies = 1 & ! talent.everburning_flame.enabled ) || ( buff.dragonrage.remains < 1.75 * spell_haste & buff.dragonrage.remains >= 1 * spell_haste )",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( ! debuff.in_firestorm.up & talent.everburning_flame.enabled & active_enemies <= 3 ) || ( active_enemies = 2 & ! talent.everburning_flame.enabled ) || ( buff.dragonrage.remains < 2.5 * spell_haste & buff.dragonrage.remains >= 1.75 * spell_haste )",
								["action"] = "fire_breath",
								["empower_to"] = "2",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( talent.everburning_flame.enabled & buff.dragonrage.up & active_enemies >= 5 ) || ! talent.font_of_magic.enabled || ( debuff.in_firestorm.up & talent.everburning_flame.enabled & active_enemies <= 3 ) || ( buff.dragonrage.remains <= 3.25 * spell_haste & buff.dragonrage.remains >= 2.5 * spell_haste )",
								["action"] = "fire_breath",
								["empower_to"] = "3",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "fire_breath",
								["empower_to"] = "4",
							}, -- [4]
						},
						["precombat"] = {
							{
								["action"] = "blessing_of_the_bronze",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff",
								["var_name"] = "trinket_1_buffs",
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff",
								["var_name"] = "trinket_2_buffs",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] = "Decide which trinket to pair with Dragonrage, prefer 2 minute and 1 minute trinkets",
								["value"] = "1",
								["var_name"] = "trinket_1_sync",
								["action"] = "variable",
								["value_else"] = "0.5",
								["criteria"] = "variable.trinket_1_buffs & ( trinket.t1.cooldown.duration % cooldown.dragonrage.duration = 0 || cooldown.dragonrage.duration % trinket.t1.cooldown.duration = 0 )",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_2_sync",
								["value"] = "1",
								["value_else"] = "0.5",
								["criteria"] = "variable.trinket_2_buffs & ( trinket.t2.cooldown.duration % cooldown.dragonrage.duration = 0 || cooldown.dragonrage.duration % trinket.t2.cooldown.duration = 0 )",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t1.is.spoils_of_neltharus",
								["var_name"] = "trinket_1_manual",
								["description"] = "Estimates a trinkets value by comparing the cooldown of the trinket, divided by the duration of the buff it provides. Has a intellect modifier (currently 1.5x) to give a higher priority to intellect trinkets. The intellect modifier should be changed as intellect priority increases or decreases. As well as a modifier for if a trinket will or will not sync with cooldowns.",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t2.is.spoils_of_neltharus",
								["var_name"] = "trinket_2_manual",
							}, -- [7]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t1.is.ruby_whelp_shell || trinket.t1.is.whispering_incarnate_icon",
								["var_name"] = "trinket_1_exclude",
							}, -- [8]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t2.is.ruby_whelp_shell || trinket.t2.is.whispering_incarnate_icon",
								["var_name"] = "trinket_2_exclude",
							}, -- [9]
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_priority",
								["value"] = "2",
								["value_else"] = "1",
								["criteria"] = "! variable.trinket_1_buffs & variable.trinket_2_buffs || variable.trinket_2_buffs & ( ( trinket.t2.cooldown.duration / trinket.t2.buff_duration ) * ( 1.5 + trinket.t2.has_use_buff ) * ( variable.trinket_2_sync ) ) > ( ( trinket.t1.cooldown.duration / trinket.t1.buff_duration ) * ( 1.5 + trinket.t1.has_use_buff ) * ( variable.trinket_1_sync ) )",
							}, -- [10]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "1.0 * spell_haste",
								["var_name"] = "r1_cast_time",
								["description"] = "Rank 1 empower spell cast time",
							}, -- [11]
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "dr_prep_time_aoe",
								["description"] = "Variable for when to start holding empowers for upcoming DR in AoE. - From my testing 4sec seems like the sweetspot, but it's very minor diff so far - Holding for more than 6 seconds it begins to become a loss.",
								["default"] = "4",
							}, -- [12]
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "dr_prep_time_st",
								["description"] = "Variable for when to start holding empowers for upcoming DR in ST.",
								["default"] = "13",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "talent.scarlet_adaptation.enabled & talent.firestorm.enabled",
								["action"] = "verdant_embrace",
							}, -- [14]
							{
								["enabled"] = true,
								["name"] = "shadowed_orb_of_torment",
								["action"] = "shadowed_orb_of_torment",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "talent.firestorm.enabled",
								["action"] = "firestorm",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "! talent.firestorm.enabled",
								["action"] = "living_flame",
							}, -- [17]
						},
					},
					["version"] = 20230724,
					["warnings"] = "The import for 'es' required some automated changes.\nLine 1: Converted 'talent.eternitys_span' to 'talent.eternitys_span.enabled' (1x).\nLine 1: Converted 'talent.eternitys_span' to 'talent.eternitys_span.enabled' (1x).\nLine 1: Converted 'talent.eternitys_span' to 'talent.eternitys_span.enabled' (1x).\nLine 2: Converted 'talent.eternitys_span' to 'talent.eternitys_span.enabled' (1x).\nLine 3: Converted 'talent.eternitys_span' to 'talent.eternitys_span.enabled' (1x).\nLine 3: Converted 'talent.font_of_magic' to 'talent.font_of_magic.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 5: Converted 'talent.font_of_magic' to 'talent.font_of_magic.enabled' (1x).\nLine 5: Converted 'talent.everburning_flame' to 'talent.everburning_flame.enabled' (1x).\nLine 5: Converted 'talent.everburning_flame' to 'talent.everburning_flame.enabled' (1x).\nLine 5: Converted 'talent.font_of_magic' to 'talent.font_of_magic.enabled' (1x).\nLine 6: Converted 'talent.dragonrage' to 'talent.dragonrage.enabled' (1x).\nLine 6: Converted 'talent.animosity' to 'talent.animosity.enabled' (1x).\nLine 6: Converted 'talent.event_horizon' to 'talent.event_horizon.enabled' (1x).\nLine 7: Converted 'talent.eye_of_infinity' to 'talent.eye_of_infinity.enabled' (1x).\nLine 8: Converted 'talent.arcane_vigor' to 'talent.arcane_vigor.enabled' (1x).\nLine 8: Converted 'talent.event_horizon' to 'talent.event_horizon.enabled' (1x).\nLine 9: Converted 'talent.dragonrage' to 'talent.dragonrage.enabled' (1x).\nLine 9: Converted 'talent.animosity' to 'talent.animosity.enabled' (1x).\nLine 10: Converted 'talent.animosity' to 'talent.animosity.enabled' (1x).\nLine 11: Converted 'talent.animosity' to 'talent.animosity.enabled' (1x).\nLine 15: Converted 'talent.raging_inferno' to 'talent.raging_inferno.enabled' (1x).\nLine 18: Converted 'talent.onyx_legacy' to 'talent.onyx_legacy.enabled' (1x).\nLine 18: Converted 'talent.onyx_legacy' to 'talent.onyx_legacy.enabled' (1x).\nLine 19: Converted 'talent.imminent_destruction' to 'talent.imminent_destruction.enabled' (1x).\nLine 20: Converted 'talent.ancient_flame' to 'talent.ancient_flame.enabled' (1x).\nLine 20: Converted 'talent.scarlet_adaptation' to 'talent.scarlet_adaptation.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 2: Converted 'trinket.1.has_buff.intellect' to 'trinket.t1.has_buff.intellect' (1x).\nLine 2: Converted 'trinket.1.has_buff.intellect' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_buff.mastery' (1x).\nLine 2: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_buff.versatility' (1x).\nLine 2: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_buff.haste' (1x).\nLine 2: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_buff.crit' (1x).\nLine 2: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.intellect' to 'trinket.t2.has_buff.intellect' (1x).\nLine 3: Converted 'trinket.2.has_buff.intellect' to 'trinket.t2.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_buff.mastery' (1x).\nLine 3: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_buff.versatility' (1x).\nLine 3: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_buff.haste' (1x).\nLine 3: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_buff.crit' (1x).\nLine 3: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted operations in 'variable.trinket_1_buffs&(trinket.t1.cooldown.duration%%cooldown.dragonrage.duration=0||cooldown.dragonrage.duration%%trinket.t1.cooldown.duration=0)' to 'variable.trinket_1_buffs&(trinket.t1.cooldown.duration%cooldown.dragonrage.duration=0||cooldown.dragonrage.duration%trinket.t1.cooldown.duration=0)'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted operations in 'variable.trinket_2_buffs&(trinket.t2.cooldown.duration%%cooldown.dragonrage.duration=0||cooldown.dragonrage.duration%%trinket.t2.cooldown.duration=0)' to 'variable.trinket_2_buffs&(trinket.t2.cooldown.duration%cooldown.dragonrage.duration=0||cooldown.dragonrage.duration%trinket.t2.cooldown.duration=0)'.\nLine 6: Converted 'trinket.1.is.spoils_of_neltharus' to 'trinket.t1.is.spoils_of_neltharus' (1x).\nLine 7: Converted 'trinket.2.is.spoils_of_neltharus' to 'trinket.t2.is.spoils_of_neltharus' (1x).\nLine 8: Converted 'trinket.1.is.ruby_whelp_shell' to 'trinket.t1.is.ruby_whelp_shell' (1x).\nLine 8: Converted 'trinket.1.is.whispering_incarnate_icon' to 'trinket.t1.is.whispering_incarnate_icon' (1x).\nLine 9: Converted 'trinket.2.is.ruby_whelp_shell' to 'trinket.t2.is.ruby_whelp_shell' (1x).\nLine 9: Converted 'trinket.2.is.whispering_incarnate_icon' to 'trinket.t2.is.whispering_incarnate_icon' (1x).\nLine 10: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 10: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 10: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 10: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 10: Converted 'trinket.2.has_buff.intellect' to 'trinket.t2.has_buff.intellect' (1x).\nLine 10: Converted 'trinket.2.has_buff.intellect' to 'trinket.t2.has_use_buff' (1x).\nLine 10: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 10: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 10: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 10: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 10: Converted 'trinket.1.has_buff.intellect' to 'trinket.t1.has_buff.intellect' (1x).\nLine 10: Converted 'trinket.1.has_buff.intellect' to 'trinket.t1.has_use_buff' (1x).\nLine 10: Converted operations in '!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.t2.cooldown.duration%trinket.t2.buff_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync))>((trinket.t1.cooldown.duration%trinket.t1.buff_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync))' to '!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.t2.cooldown.duration/trinket.t2.buff_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync))>((trinket.t1.cooldown.duration/trinket.t1.buff_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync))'.\nLine 14: Converted 'talent.scarlet_adaptation' to 'talent.scarlet_adaptation.enabled' (1x).\nLine 14: Converted 'talent.firestorm' to 'talent.firestorm.enabled' (1x).\nLine 16: Converted 'talent.firestorm' to 'talent.firestorm.enabled' (1x).\nLine 17: Converted 'talent.firestorm' to 'talent.firestorm.enabled' (1x).\nThe following auras were used in the action list but were not found in the addon database:\n - crit\n\nThe import for 'aoe' required some automated changes.\nLine 4: Converted 'talent.eternitys_span' to 'talent.eternitys_span.enabled' (1x).\nLine 5: Converted 'talent.dragonrage' to 'talent.dragonrage.enabled' (1x).\nLine 5: Converted 'talent.animosity' to 'talent.animosity.enabled' (1x).\nLine 6: Converted 'talent.dragonrage' to 'talent.dragonrage.enabled' (1x).\nLine 8: Converted 'talent.arcane_vigor' to 'talent.arcane_vigor.enabled' (1x).\nLine 10: Converted 'talent.volatility' to 'talent.volatility.enabled' (1x).\nLine 10: Converted 'talent.charged_blast' to 'talent.charged_blast.enabled' (1x).\nLine 10: Converted 'talent.charged_blast' to 'talent.charged_blast.enabled' (1x).\nLine 10: Converted 'talent.raging_inferno' to 'talent.raging_inferno.enabled' (1x).\nLine 11: Converted 'talent.raging_inferno' to 'talent.raging_inferno.enabled' (1x).\nLine 12: Converted 'talent.burnout' to 'talent.burnout.enabled' (1x).\nLine 15: Converted 'talent.snapfire' to 'talent.snapfire.enabled' (1x).\n\nThe import for 'trinkets' required some automated changes.\nLine 2: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 2: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 2: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 2: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 2: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 2: Converted 'talent.dragonrage' to 'talent.dragonrage.enabled' (1x).\nLine 3: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 3: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 3: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 3: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 3: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 3: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 3: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 3: Converted 'talent.dragonrage' to 'talent.dragonrage.enabled' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'talent.dragonrage' to 'talent.dragonrage.enabled' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'talent.dragonrage' to 'talent.dragonrage.enabled' (1x).\n\nThe import for 'fb' required some automated changes.\nLine 1: Converted 'talent.everburning_flame' to 'talent.everburning_flame.enabled' (1x).\nLine 2: Converted 'talent.everburning_flame' to 'talent.everburning_flame.enabled' (1x).\nLine 2: Converted 'talent.everburning_flame' to 'talent.everburning_flame.enabled' (1x).\nLine 3: Converted 'talent.everburning_flame' to 'talent.everburning_flame.enabled' (1x).\nLine 3: Converted 'talent.font_of_magic' to 'talent.font_of_magic.enabled' (1x).\nLine 3: Converted 'talent.everburning_flame' to 'talent.everburning_flame.enabled' (1x).\n\nImported 8 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/blessing_of_the_bronze\nactions.precombat+=/variable,name=trinket_1_buffs,value=trinket.1.has_buff.intellect||trinket.1.has_buff.mastery||trinket.1.has_buff.versatility||trinket.1.has_buff.haste||trinket.1.has_buff.crit\nactions.precombat+=/variable,name=trinket_2_buffs,value=trinket.2.has_buff.intellect||trinket.2.has_buff.mastery||trinket.2.has_buff.versatility||trinket.2.has_buff.haste||trinket.2.has_buff.crit\n# Decide which trinket to pair with Dragonrage, prefer 2 minute and 1 minute trinkets\nactions.precombat+=/variable,name=trinket_1_sync,op=setif,value=1,value_else=0.5,condition=variable.trinket_1_buffs&(trinket.1.cooldown.duration%%cooldown.dragonrage.duration=0||cooldown.dragonrage.duration%%trinket.1.cooldown.duration=0)\nactions.precombat+=/variable,name=trinket_2_sync,op=setif,value=1,value_else=0.5,condition=variable.trinket_2_buffs&(trinket.2.cooldown.duration%%cooldown.dragonrage.duration=0||cooldown.dragonrage.duration%%trinket.2.cooldown.duration=0)\n# Estimates a trinkets value by comparing the cooldown of the trinket, divided by the duration of the buff it provides. Has a intellect modifier (currently 1.5x) to give a higher priority to intellect trinkets. The intellect modifier should be changed as intellect priority increases or decreases. As well as a modifier for if a trinket will or will not sync with cooldowns.\nactions.precombat+=/variable,name=trinket_1_manual,value=trinket.1.is.spoils_of_neltharus\nactions.precombat+=/variable,name=trinket_2_manual,value=trinket.2.is.spoils_of_neltharus\nactions.precombat+=/variable,name=trinket_1_exclude,value=trinket.1.is.ruby_whelp_shell||trinket.1.is.whispering_incarnate_icon\nactions.precombat+=/variable,name=trinket_2_exclude,value=trinket.2.is.ruby_whelp_shell||trinket.2.is.whispering_incarnate_icon\nactions.precombat+=/variable,name=trinket_priority,op=setif,value=2,value_else=1,condition=!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.2.cooldown.duration%trinket.2.proc.any_dps.duration)*(1.5+trinket.2.has_buff.intellect)*(variable.trinket_2_sync))>((trinket.1.cooldown.duration%trinket.1.proc.any_dps.duration)*(1.5+trinket.1.has_buff.intellect)*(variable.trinket_1_sync))\n# Rank 1 empower spell cast time\nactions.precombat+=/variable,name=r1_cast_time,value=1.0*spell_haste\n# Variable for when to start holding empowers for upcoming DR in AoE. - From my testing 4sec seems like the sweetspot, but it's very minor diff so far - Holding for more than 6 seconds it begins to become a loss.\nactions.precombat+=/variable,name=dr_prep_time_aoe,default=4,op=reset\n# Variable for when to start holding empowers for upcoming DR in ST.\nactions.precombat+=/variable,name=dr_prep_time_st,default=13,op=reset\nactions.precombat+=/verdant_embrace,if=talent.scarlet_adaptation&talent.firestorm\nactions.precombat+=/use_item,name=shadowed_orb_of_torment\nactions.precombat+=/firestorm,if=talent.firestorm\nactions.precombat+=/living_flame,if=!talent.firestorm\n\nactions+=/quell\nactions+=/unravel\n# Delay pot in ST if you are about to SS - mostly relevant for opener where you want DR->FB->SS->rotation\nactions+=/potion,if=buff.dragonrage.up&(!cooldown.shattering_star.up||active_enemies>=2)||boss&fight_remains<35\n# Variable that evaluates when next dragonrage is by working out the maximum between the dragonrage cd and your empowers, ignoring CDR effect estimates.\nactions+=/variable,name=next_dragonrage,value=cooldown.dragonrage.remains\nactions+=/variable,name=next_dragonrage,op=max,value=cooldown.eternity_surge.remains-2*gcd.max\nactions+=/variable,name=next_dragonrage,op=max,value=cooldown.fire_breath.remains-gcd.max\n## Invoke External Power Infusions if they're available during dragonrage\n## actions+=/invoke_external_buff,name=power_infusion,if=buff.dragonrage.up&!buff.power_infusion.up&!cooldown.fire_breath.up&!cooldown.shattering_star.up\nactions+=/call_action_list,name=trinkets\n# If we're already empowering a Fire Breath cast, check its empowerment level.\nactions+=/run_action_list,name=fb,strict=1,if=empowering.fire_breath\n# If we're already empowering an Eternity Surge cast, check its empowerment level.\nactions+=/run_action_list,name=es,strict=1,if=empowering.eternity_surge\nactions+=/run_action_list,name=aoe,strict=1,if=active_enemies>2\nactions+=/run_action_list,name=st\n\n# AOE action list; Actually kinda clean now  Open with star before DR to save a global and start with a free EB\nactions.aoe+=/variable,name=dr_prep_time_aoe,value=4\n# Open with star before DR to save a global and start with a free EB\nactions.aoe+=/shattering_star,if=cooldown.dragonrage.up\n# Send DR on CD with no regard to the safety of the mobs - DPS loss to hold DR for empowers, in real world scenario maybe you hold if you are going for longer DRs  DS optimization: Only cast if current fight will last 32s+ or encounter ends in less than 30s\nactions.aoe+=/dragonrage,if=target.time_to_die>=32||boss&fight_remains<30\n# Use tip to get that sweet aggro\nactions.aoe+=/tip_the_scales,if=buff.dragonrage.up&(active_enemies<=3+3*talent.eternitys_span||!cooldown.fire_breath.up)\n# Cast Fire Breath - stagger for swell/blazing shards outside DR  DS optimization: Only cast if current fight will last 8s+ or encounter ends in less than 30s\nactions.aoe+=/call_action_list,name=fb,if=(!talent.dragonrage||variable.next_dragonrage>variable.dr_prep_time_aoe||!talent.animosity)&(buff.power_swell.remains<variable.r1_cast_time&buff.blazing_shards.remains<variable.r1_cast_time||buff.dragonrage.up)&(target.time_to_die>=8||boss&fight_remains<30)\n# Cast Eternity Surge - stagger for swell/blazing shards outside DR  DS optimization: Only cast if current fight will last 8s+ or encounter ends in less than 30s\nactions.aoe+=/call_action_list,name=es,if=buff.dragonrage.up||!talent.dragonrage||(cooldown.dragonrage.remains>variable.dr_prep_time_aoe&buff.power_swell.remains<variable.r1_cast_time&buff.blazing_shards.remains<variable.r1_cast_time)&(target.time_to_die>=8||boss&fight_remains<30)\n# Cast DB if not in DR and not running imminent destruction. - I'm assuming that casting DB inside of DR with imminent before you start spending should be an increase, but might be worth to save it for outside of DR for more value?\nactions.aoe+=/deep_breath,if=!buff.dragonrage.up\n# Send SS when it doesn't overflow EB, without vigor send on CD\nactions.aoe+=/shattering_star,if=buff.essence_burst.stack<buff.essence_burst.max_stack||!talent.arcane_vigor\n# Cast Firestorm before spending ressources\nactions.aoe+=/firestorm\n# Pyre logic with volatility.  Pyre 4T+  Pyre on 3T if playing CB and neither EB or blue buff is up  Pyre on 3T if not playing CB aslong as both EB and blue buff isn't up at the same time.  Pyre with 15 stacks of CB  Pyre with raging debuff active\nactions.aoe+=/pyre,if=talent.volatility&(active_enemies>=4||(talent.charged_blast&!buff.essence_burst.up&!buff.iridescence_blue.up)||(!talent.charged_blast&(!buff.essence_burst.up||!buff.iridescence_blue.up))||(buff.charged_blast.stack>=15)||(talent.raging_inferno&debuff.in_firestorm.up))\n# Pyre logic without volatility.  Without Vola use pyre if raging debuff is active, or if on 3T with 15 stacks of CB, or if 4T+\nactions.aoe+=/pyre,if=(talent.raging_inferno&debuff.in_firestorm.up)||(active_enemies=3&buff.charged_blast.stack>=15)||active_enemies>=4\n# Cast LF with leaping flames if: not playing burnout, burnout is up, more than 4 enemies, or scarlet adaptation is up.\nactions.aoe+=/living_flame,if=(!talent.burnout||buff.burnout.up||active_enemies>=4||buff.scarlet_adaptation.up)&buff.leaping_flames.up&!buff.essence_burst.up&essence<essence.max-1\n# Use staff on 5T or below\nactions.aoe+=/use_item,name=kharnalex_the_first_light,if=!buff.dragonrage.up&debuff.shattering_star_debuff.down&active_enemies<=5\n# Yoinked the disintegrate logic from ST\nactions.aoe+=/disintegrate,chain=1,early_chain_if=evoker.use_early_chaining&(buff.dragonrage.up||essence.deficit<=1)&ticks>=2&(raid_event.movement.in>2||buff.hover.up),interrupt_if=evoker.use_clipping&buff.dragonrage.up&ticks>=2&(raid_event.movement.in>2||buff.hover.up),if=!moving||buff.hover.up\n# Cast LF with burnout and snapfire(kekW) proc for those juicy insta firestorms\nactions.aoe+=/living_flame,if=talent.snapfire&buff.burnout.up\n# Fallback filler\nactions.aoe+=/azure_strike\n\n# Eternity Surge, use rank most applicable to targets.\nactions.es+=/eternity_surge,empower_to=1,if=active_enemies<=1+talent.eternitys_span||buff.dragonrage.remains<1.75*spell_haste&buff.dragonrage.remains>=1*spell_haste||buff.dragonrage.up&(active_enemies=5||!talent.eternitys_span&active_enemies>=6||talent.eternitys_span&active_enemies>=8)\nactions.es+=/eternity_surge,empower_to=2,if=active_enemies<=2+2*talent.eternitys_span||buff.dragonrage.remains<2.5*spell_haste&buff.dragonrage.remains>=1.75*spell_haste\nactions.es+=/eternity_surge,empower_to=3,if=active_enemies<=3+3*talent.eternitys_span||!talent.font_of_magic||buff.dragonrage.remains<=3.25*spell_haste&buff.dragonrage.remains>=2.5*spell_haste\nactions.es+=/eternity_surge,empower_to=4\n\n# Fire Breath, use rank appropriate to target count/talents.\nactions.fb+=/fire_breath,empower_to=1,if=(buff.dragonrage.up&active_enemies<=2)||(active_enemies=1&!talent.everburning_flame)||(buff.dragonrage.remains<1.75*spell_haste&buff.dragonrage.remains>=1*spell_haste)\nactions.fb+=/fire_breath,empower_to=2,if=(!debuff.in_firestorm.up&talent.everburning_flame&active_enemies<=3)||(active_enemies=2&!talent.everburning_flame)||(buff.dragonrage.remains<2.5*spell_haste&buff.dragonrage.remains>=1.75*spell_haste)\nactions.fb+=/fire_breath,empower_to=3,if=(talent.everburning_flame&buff.dragonrage.up&active_enemies>=5)||!talent.font_of_magic||(debuff.in_firestorm.up&talent.everburning_flame&active_enemies<=3)||(buff.dragonrage.remains<=3.25*spell_haste&buff.dragonrage.remains>=2.5*spell_haste)\nactions.fb+=/fire_breath,empower_to=4\n\n# Green Spells used to trigger Ancient Flame\nactions.green+=/emerald_blossom\nactions.green+=/verdant_embrace\n\n# ST Action List, it's a mess, but it's getting better!\nactions.st+=/use_item,name=kharnalex_the_first_light,if=!buff.dragonrage.up&debuff.shattering_star_debuff.down&raid_event.movement.in>6\n# Movement Logic, Time spiral logic might need some tweaking actions.st+=/time_spiral,if=raid_event.movement.in<3&cooldown.hover.remains>=3&!buff.hover.up\nactions.st+=/hover,use_off_gcd=1,if=raid_event.movement.in<2&!buff.hover.up\n# Spend firestorm procs ASAP\nactions.st+=/firestorm,if=buff.snapfire.up\n# Relaxed Dragonrage Entry Requirements, cannot reliably reach third extend under normal conditions (Bloodlust + Power Infusion/Very high haste gear)  DS optimization: Only cast if current fight will last 32s+ or encounter ends in less than 30s\nactions.st+=/dragonrage,if=cooldown.fire_breath.remains<4&cooldown.eternity_surge.remains<10&target.time_to_die>=32||boss&fight_remains<30\n# Tip second FB if not playing font of magic or if playing EBF, otherwise tip ES.\nactions.st+=/tip_the_scales,if=buff.dragonrage.up&(((!talent.font_of_magic||talent.everburning_flame)&cooldown.fire_breath.remains<cooldown.eternity_surge.remains&buff.dragonrage.remains<14)||(cooldown.eternity_surge.remains<cooldown.fire_breath.remains&!talent.everburning_flame&talent.font_of_magic))\n# Fire breath logic  Play around power swell if you don't have pi or lust up. Play around blazing shards if outside of DR.  DS optimization: Only cast if current fight will last 8s+ or encounter ends in less than 30s\nactions.st+=/call_action_list,name=fb,if=(!talent.dragonrage||variable.next_dragonrage>variable.dr_prep_time_st||!talent.animosity)&((buff.power_swell.remains<variable.r1_cast_time||buff.bloodlust.up||buff.power_infusion.up||buff.dragonrage.up)&(buff.blazing_shards.remains<variable.r1_cast_time||buff.dragonrage.up))&(!cooldown.eternity_surge.up||!talent.event_horizon||!buff.dragonrage.up)&(target.time_to_die>=8||boss&fight_remains<30)\n# Use Disintegrate after FB opener in DR.\nactions.st+=/disintegrate,if=buff.dragonrage.remains>19&cooldown.fire_breath.remains>28&talent.eye_of_infinity\n# Throw Star on CD, Don't overcap with Arcane Vigor.\nactions.st+=/shattering_star,if=(buff.essence_burst.stack<buff.essence_burst.max_stack||!talent.arcane_vigor)&(!cooldown.fire_breath.up||!talent.event_horizon)\n# Eternity Surge logic  Play around power swell if you don't have pi or lust up. Play around blazing shards if outside of DR.  DS optimization: Only cast if current fight will last 8s+ or encounter ends in less than 30s\nactions.st+=/call_action_list,name=es,if=(!talent.dragonrage||variable.next_dragonrage>variable.dr_prep_time_st||!talent.animosity)&((buff.power_swell.remains<variable.r1_cast_time||buff.bloodlust.up||buff.power_infusion.up)&(buff.blazing_shards.remains<variable.r1_cast_time||buff.dragonrage.up))&(target.time_to_die>=8||boss&fight_remains<30)\n# Wait for FB/ES to be ready if spending another GCD would result in the cast no longer fitting inside of DR\nactions.st+=/wait,sec=cooldown.fire_breath.remains,if=talent.animosity&buff.dragonrage.up&buff.dragonrage.remains<gcd.max+variable.r1_cast_time*buff.tip_the_scales.down&buff.dragonrage.remains-cooldown.fire_breath.remains>=variable.r1_cast_time*buff.tip_the_scales.down\nactions.st+=/wait,sec=cooldown.eternity_surge.remains,if=talent.animosity&buff.dragonrage.up&buff.dragonrage.remains<gcd.max+variable.r1_cast_time&buff.dragonrage.remains-cooldown.eternity_surge.remains>variable.r1_cast_time*buff.tip_the_scales.down\n# Spend the last 1 or 2 GCDs of DR on fillers to exit with 2 EBs\nactions.st+=/living_flame,if=buff.dragonrage.up&buff.dragonrage.remains<(buff.essence_burst.max_stack-buff.essence_burst.stack)*gcd.max&buff.burnout.up\nactions.st+=/azure_strike,if=buff.dragonrage.up&buff.dragonrage.remains<(buff.essence_burst.max_stack-buff.essence_burst.stack)*gcd.max\n# Spend burnout procs without overcapping resources\nactions.st+=/living_flame,if=buff.burnout.up&(buff.leaping_flames.up&!buff.essence_burst.up||!buff.leaping_flames.up&buff.essence_burst.stack<buff.essence_burst.max_stack)&essence.deficit>=2\n# Spend pyre if raging inferno debuff is active and you have 20 stacks of CB on 2T\nactions.st+=/pyre,if=debuff.in_firestorm.up&talent.raging_inferno&buff.charged_blast.stack=20&active_enemies>=2\n# Dis logic  Early Chain in DR after third tick if both lust & pi isn't up.  Clip after in DR after third tick for more important buttions, atm that is: empowers, burnout & SS. burnout and SS you only clip for if both lust & pi isn't up.\nactions.st+=/disintegrate,chain=1,early_chain_if=evoker.use_early_chaining&ticks>=2&buff.dragonrage.up&!(buff.power_infusion.up&buff.bloodlust.up)&(raid_event.movement.in>2||buff.hover.up),interrupt_if=evoker.use_clipping&buff.dragonrage.up&ticks>=2&(!(buff.power_infusion.up&buff.bloodlust.up)||cooldown.fire_breath.up||cooldown.eternity_surge.up)&(raid_event.movement.in>2||buff.hover.up),if=raid_event.movement.in>2||buff.hover.up\n# Hard cast only outside of SS and DR windows\nactions.st+=/firestorm,if=!buff.dragonrage.up&debuff.shattering_star_debuff.down\n# Use Deep Breath on 2T, unless adds will come before it'll be ready again or if talented ID.\nactions.st+=/deep_breath,if=!buff.dragonrage.up&active_enemies>=2&((raid_event.adds.in>=120&!talent.onyx_legacy)||(raid_event.adds.in>=60&talent.onyx_legacy))\nactions.st+=/deep_breath,if=!buff.dragonrage.up&talent.imminent_destruction&!debuff.shattering_star_debuff.up\n# Get Ancient Flame as Filler\nactions.st+=/call_action_list,name=green,if=talent.ancient_flame&!buff.ancient_flame.up&!buff.shattering_star_debuff.up&talent.scarlet_adaptation&!buff.dragonrage.up\n# Cast LF outside of DR, In DR only cast with Iridescence.\nactions.st+=/living_flame,if=!buff.dragonrage.up||(buff.iridescence_red.remains>execute_time||buff.iridescence_blue.up)&active_enemies=1\n# Fallback for movement\nactions.st+=/azure_strike\n\n# Use spoils along with Dragon Rage when both FB & SS is on CD on <=2T or immediately on >=3T\nactions.trinkets+=/use_item,name=spoils_of_neltharus,if=buff.dragonrage.up&(!cooldown.fire_breath.up&!cooldown.shattering_star.up||active_enemies>=3)||boss&fight_remains<=20\n# The trinket with the highest estimated value, will be used first and paired with Dragonrage.\nactions.trinkets+=/use_item,slot=trinket1,if=buff.dragonrage.up&((!cooldown.fire_breath.up&!cooldown.shattering_star.up)||active_enemies>=3||(buff.dragonrage.remains+4*((cooldown.eternity_surge.remains<=gcd.max*2)+(cooldown.fire_breath.remains<=gcd.max*2))<=18))&(!trinket.2.has_cooldown||trinket.2.cooldown.remains||variable.trinket_priority=1||variable.trinket_2_exclude)&!variable.trinket_1_manual||boss&trinket.1.proc.any_dps.duration>=fight_remains||trinket.1.cooldown.duration<=60&(variable.next_dragonrage>20||!talent.dragonrage)&(!buff.dragonrage.up||variable.trinket_priority=1)\nactions.trinkets+=/use_item,slot=trinket2,if=buff.dragonrage.up&((!cooldown.fire_breath.up&!cooldown.shattering_star.up)||active_enemies>=3||(buff.dragonrage.remains+4*((cooldown.eternity_surge.remains<=gcd.max*2)+(cooldown.fire_breath.remains<=gcd.max*2))<=18))&(!trinket.1.has_cooldown||trinket.1.cooldown.remains||variable.trinket_priority=2||variable.trinket_1_exclude)&!variable.trinket_2_manual||boss&trinket.2.proc.any_dps.duration>=fight_remains||trinket.2.cooldown.duration<=60&(variable.next_dragonrage>20||!talent.dragonrage)&(!buff.dragonrage.up||variable.trinket_priority=2)\n# If only one on use trinket provides a buff, use the other on cooldown. Or if neither trinket provides a buff, use both on cooldown.\nactions.trinkets+=/use_item,slot=trinket1,if=!variable.trinket_1_buffs&(trinket.2.cooldown.remains||!variable.trinket_2_buffs)&(variable.next_dragonrage>20||!talent.dragonrage)&!variable.trinket_1_manual\nactions.trinkets+=/use_item,slot=trinket2,if=!variable.trinket_2_buffs&(trinket.1.cooldown.remains||!variable.trinket_1_buffs)&(variable.next_dragonrage>20||!talent.dragonrage)&!variable.trinket_2_manual",
				},
				["Feral"] = {
					["builtIn"] = true,
					["date"] = 20230826,
					["author"] = "SimC",
					["desc"] = "2023-08-26: Minor priority updates.\n\n2023-07-19:  Convert SimC variables into spec options (Lazy Swipe, Regrowth, etc.).\n\n2023-07-15:  Tweak Incarnation Prowl usage.\n\n2023-05-25:  Update priority to use Rip Duration and Ferocious Bite funnel settings.\n\n2023-05-20:  Tweak 'wait' entry for passive Combo Point generation.\n\n2023-05-15:  Combo Points can increase over time during Berserk.\n\n2023-05-14:  Make Heart of the Wild annoy me less.\n\n2023-05-11:  Minor updates to finisher and cooldown usage.\n\n2023-05-08:  Incremental updates from SimC.\n\n2023-05-06:  Minor updates.\n\n2023-05-03:  Restore missing aoe_builder action list.\n\n2023-05-03:  Update again from SimC.\n\n2023-03-27:  Test updates from SimC.\n\n2023-02-27:  Adjust funneling to use PW if there are multiple un-Ripped targets.\n\n2023-02-25:  Testing a funnel option (spend CP on Ferocious Bite instead of Primal Wrath if Rip won't fall off).\n\n2023-02-21:  Adjusted Berserk logic to prevent freezing/errors.\n\n2023-02-15:  Priority will use finishers at 4+ Combo Points when Lion's Strength is talented, consistent with latest SimulationCraft updates.",
					["lists"] = {
						["aoe_builder"] = {
							{
								["enabled"] = true,
								["action"] = "brutal_slash",
								["cycle_targets"] = 1,
								["criteria"] = "cooldown.brutal_slash.full_recharge_time < 4 || target.time_to_die < 5",
								["description"] = "avoid capping brs charges, and in the event of adds, offload charges within reason",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ( buff.clearcasting.react || ( spell_targets.thrash_cat > 10 || ( spell_targets.thrash_cat > 5 & ! talent.double_clawed_rake.enabled ) ) & ! talent.thrashing_claws.enabled )",
								["action"] = "thrash_cat",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.prowl.up & ! buff.apex_predators_craving.up",
								["action"] = "shadowmeld",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "shadowmeld",
								["description"] = "this line checks if theres an upgradeable rake",
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & dot.rake.pmultiplier < 1.4 & ! buff.prowl.up & ! buff.apex_predators_craving.up",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "rake",
								["cycle_targets"] = 1,
								["criteria"] = "buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier",
								["description"] = "not a perfect solution, but it checks lowest dot for pandemic/stealth snapshot first",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "rake",
								["cycle_targets"] = 1,
								["criteria"] = "buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier || refreshable",
								["description"] = "and if lowest dot is fine, it checks the remaining dots and targets a mob without stealth snapshot (not necessarily 2nd lowest)",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "thrash_cat",
							}, -- [7]
							{
								["action"] = "brutal_slash",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable & spell_targets.swipe_cat < 5",
								["description"] = "prio targets with swarm debuff for moonfire",
							}, -- [9]
							{
								["action"] = "swipe_cat",
								["enabled"] = true,
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["criteria"] = "dot.moonfire.refreshable",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "shred",
								["cycle_targets"] = 1,
								["criteria"] = "( spell_targets.swipe_cat < 4 || talent.dire_fixation.enabled ) & ! buff.sudden_ambush.up & ! ( variable.lazy_swipe & talent.wild_slashes.enabled )",
								["description"] = "if we have brs and nothing better to cast, refresh thrash early at 4+ targets unless dire fixation is talented",
							}, -- [12]
							{
								["action"] = "thrash_cat",
								["enabled"] = true,
							}, -- [13]
						},
						["finisher"] = {
							{
								["enabled"] = true,
								["criteria"] = "( ! funneling & ( dot.primal_wrath.refreshable & ! talent.circle_of_life_and_death.enabled ) || dot.primal_wrath.remains < 6 || ( talent.tear_open_wounds.enabled || ( spell_targets.swipe_cat > 4 & ! talent.rampant_ferocity.enabled ) ) ) & spell_targets.primal_wrath > 1 & talent.primal_wrath.enabled",
								["action"] = "primal_wrath",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "rip",
								["criteria"] = "refreshable & ( ! talent.primal_wrath.enabled || spell_targets.swipe_cat = 1 ) & target.time_to_die > settings.rip_duration",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "pool_resource",
								["criteria"] = "! action.tigers_fury.ready & buff.apex_predators_craving.down",
								["for_next"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "ferocious_bite",
								["cycle_targets"] = 1,
								["criteria"] = "buff.apex_predators_craving.down & ( ! buff.bs_inc.up || ( buff.bs_inc.up & ! talent.soul_of_the_forest.enabled ) )",
								["max_energy"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "ferocious_bite",
								["criteria"] = "( buff.bs_inc.up & talent.soul_of_the_forest.enabled ) || buff.apex_predators_craving.up",
								["cycle_targets"] = 1,
							}, -- [5]
						},
						["clearcasting"] = {
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ! talent.thrashing_claws.enabled",
								["action"] = "thrash_cat",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.swipe_cat > 1",
								["action"] = "swipe_cat",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.brutal_slash > 2",
								["action"] = "brutal_slash",
							}, -- [3]
							{
								["action"] = "shred",
								["enabled"] = true,
							}, -- [4]
						},
						["builder"] = {
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "buff.clearcasting.react",
								["list_name"] = "clearcasting",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.brutal_slash.full_recharge_time < 4",
								["action"] = "brutal_slash",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.prowl.up & ! buff.apex_predators_craving.up",
								["action"] = "shadowmeld",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "refreshable || ( buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier )",
								["action"] = "rake",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["criteria"] = "refreshable",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "thrash_cat",
								["criteria"] = "refreshable & ! talent.thrashing_claws.enabled",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["action"] = "brutal_slash",
								["enabled"] = true,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.swipe_cat > 1 || ( talent.wild_slashes.enabled & ( debuff.dire_fixation.up || ! talent.dire_fixation.enabled ) )",
								["action"] = "swipe_cat",
							}, -- [8]
							{
								["action"] = "shred",
								["enabled"] = true,
							}, -- [9]
						},
						["berserk"] = {
							{
								["enabled"] = true,
								["action"] = "ferocious_bite",
								["criteria"] = "combo_points = 5 & dot.rip.remains > 8 & variable.zerk_biteweave & spell_targets.swipe_cat > 1",
								["cycle_targets"] = 1,
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "proc bt if 0/1 stack if 5/6 combo points",
								["criteria"] = "combo_points = 5 & ! ( buff.overflowing_power.stack <= 1 & active_bt_triggers = 2 & buff.bloodtalons.stack <= 1 )",
								["list_name"] = "finisher",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "its currently a gain to just contiuously try to proc bt in aoe",
								["strict"] = 1,
								["criteria"] = "spell_targets.swipe_cat > 1",
								["list_name"] = "bloodtalons",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "prowl",
								["description"] = "go into stealth to buff rake snapshot-- feral frenzy line is to eliminate an edge case involving ff being casted instead due to higher prio",
								["criteria"] = "! ( buff.bt_rake.up & active_bt_triggers = 2 ) & ( action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.shadowmeld.up & cooldown.feral_frenzy.remains < 44 & ! buff.apex_predators_craving.up )",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! ( buff.bt_rake.up & active_bt_triggers = 2 ) & action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.prowl.up & ! buff.apex_predators_craving.up",
								["action"] = "shadowmeld",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! ( buff.bt_rake.up & active_bt_triggers = 2 ) & ( refreshable || ( buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier ) )",
								["action"] = "rake",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "shred",
								["description"] = "in single target, you just proc bt when an opportunity arises",
								["criteria"] = "( active_bt_triggers = 2 || ( talent.dire_fixation.enabled & ! debuff.dire_fixation.up ) ) & buff.bt_shred.down",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_brutal_slash.down",
								["action"] = "brutal_slash",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_moonfire.down",
								["action"] = "lunar_inspiration",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_thrash.down & ! talent.thrashing_claws.enabled & variable.need_bt & ( refreshable || talent.brutal_slash.enabled )",
								["action"] = "thrash_cat",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "lunar_inspiration",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "brutal_slash",
								["description"] = "don't overcap brs charges, but keep it available for bt",
								["criteria"] = "cooldown.brutal_slash.charges > 1",
							}, -- [12]
							{
								["action"] = "shred",
								["enabled"] = true,
							}, -- [13]
						},
						["owlweaving"] = {
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["line_cd"] = "4*gcd",
							}, -- [1]
						},
						["default"] = {
							{
								["action"] = "skull_bash",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "soothe",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "prowl",
								["description"] = "Executed every time the actor is available.",
								["criteria"] = "( buff.bs_inc.down || time = 0 ) & ! buff.prowl.up",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up",
								["action"] = "cat_form",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.bloodtalons.enabled & buff.bloodtalons.stack <= 1",
								["var_name"] = "need_bt",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.swipe_cat = 1",
								["var_name"] = "align_3minutes",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "fight_remains > cooldown.convoke_the_spirits.remains + 3 & ( ( talent.ashamanes_guidance.enabled & fight_remains < ( cooldown.convoke_the_spirits.remains + 60 ) ) || ( ! talent.ashamanes_guidance.enabled & fight_remains < ( cooldown.convoke_the_spirits.remains + 120 ) ) )",
								["var_name"] = "lastconvoke",
							}, -- [7]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "fight_remains > ( 30 + ( cooldown.bs_inc.remains / 1.6 ) ) & ( ( talent.berserk_heart_of_the_lion.enabled & fight_remains < ( 90 + ( cooldown.bs_inc.remains / 1.6 ) ) ) || ( ! talent.berserk_heart_of_the_lion.enabled & fight_remains < ( 180 + cooldown.bs_inc.remains ) ) )",
								["var_name"] = "lastzerk",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.convoke_the_spirits.enabled || ! talent.convoke_the_spirits.enabled & ( ! buff.tigers_fury.up || energy.deficit > 65 ) || ( target.time_to_die < 15 & talent.predator.enabled )",
								["action"] = "tigers_fury",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] = "persistent_multiplier > dot.rake.pmultiplier & ( buff.prowl.up || buff.shadowmeld.up )",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "time > 0",
								["action"] = "natures_vigil",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "filler_regrowth & health.pct < 60",
								["action"] = "renewal",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "talent.unbridled_swarm.enabled & spell_targets.swipe_cat <= 1 & dot.adaptive_swarm_heal.stack < 4 & dot.adaptive_swarm_heal.remains > 4",
								["action"] = "adaptive_swarm",
								["caption"] = "@player",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "( ( ! dot.adaptive_swarm_damage.ticking || dot.adaptive_swarm_damage.remains < 2 ) & ( dot.adaptive_swarm_damage.stack < 3 ) & ! action.adaptive_swarm_damage.in_flight & ! action.adaptive_swarm.in_flight ) & target.time_to_die > 5 & ! ( variable.need_bt & active_bt_triggers = 2 ) & ( ! talent.unbridled_swarm.enabled || spell_targets.swipe_cat = 1 )",
								["cycle_targets"] = 1,
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
								["criteria"] = "dot.adaptive_swarm_damage.stack < 3 & talent.unbridled_swarm.enabled & spell_targets.swipe_cat > 1 & ! ( variable.need_bt & active_bt_triggers = 2 )",
								["description"] = "in reality, with unbridled talented adaptive swarm should be targeting allies out of combat, and often in single target too. This isn't supported by simc at time of writing though, so will have to settle with just this",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cooldown",
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "feral_frenzy",
								["criteria"] = "( ( talent.dire_fixation.enabled & debuff.dire_fixation.up ) || ! talent.dire_fixation.enabled || spell_targets.swipe_cat > 1 ) & ( combo_points < 2 || combo_points < 3 & buff.bs_inc.up || time < 10 )",
								["cycle_targets"] = 1,
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "ferocious_bite",
								["criteria"] = "buff.apex_predators_craving.up & ( spell_targets.swipe_cat = 1 || ! talent.primal_wrath.enabled || ! buff.sabertooth.up ) & ! ( variable.need_bt & active_bt_triggers = 2 )",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "buff.bs_inc.remains > gcd.remains",
								["list_name"] = "berserk",
							}, -- [19]
							{
								["enabled"] = true,
								["sec"] = "combo_points.time_to_max",
								["action"] = "wait",
								["criteria"] = "combo_points = 4 & buff.predator_revealed.react & energy.deficit > 40 & spell_targets.swipe_cat = 1 & combo_points.time_to_max < gcd.max",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "its acceptable to proc bt when at 4cps in single target for a small gain (0.1-0.2% with t30 4p)",
								["criteria"] = "combo_points = 5 || combo_points = 4 & ! ( buff.bloodtalons.stack <= 1 & active_bt_triggers = 2 & spell_targets.swipe_cat = 1 )",
								["list_name"] = "finisher",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "variable.need_bt & ! buff.bs_inc.up & combo_points < 5",
								["action"] = "call_action_list",
								["list_name"] = "bloodtalons",
							}, -- [22]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "spell_targets.swipe_cat > 1 & talent.primal_wrath.enabled",
								["list_name"] = "aoe_builder",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "! buff.bs_inc.up & combo_points < 5",
								["action"] = "call_action_list",
								["list_name"] = "builder",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "energy < 25 & buff.predatory_swiftness.up & ! buff.clearcasting.up & filler_regrowth",
								["action"] = "regrowth",
							}, -- [25]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.prowl.down",
								["action"] = "mark_of_the_wild",
							}, -- [1]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.any_form.up & buff.cat_form.down",
								["action"] = "heart_of_the_wild",
							}, -- [3]
							{
								["action"] = "prowl",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "cat_form",
								["enabled"] = true,
							}, -- [5]
						},
						["berserk_builders"] = {
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] = "refreshable",
								["cycle_targets"] = 1,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.swipe_cat > 1",
								["action"] = "swipe_cat",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_brutal_slash.down",
								["action"] = "brutal_slash",
							}, -- [3]
							{
								["action"] = "shred",
								["enabled"] = true,
							}, -- [4]
						},
						["cooldown"] = {
							{
								["enabled"] = true,
								["action"] = "algethar_puzzle_box",
								["criteria"] = "boss & fight_remains < 35 || ( ! variable.align_3minutes )",
								["name"] = "algethar_puzzle_box",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "algethar_puzzle_box",
								["criteria"] = "variable.align_3minutes & ( cooldown.bs_inc.remains < 3 & ( ! variable.lastzerk || ! variable.lastconvoke || ( variable.lastconvoke & cooldown.convoke_the_spirits.remains < 13 ) ) )",
								["name"] = "algethar_puzzle_box",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "boss || fight_remains > 25",
								["action"] = "incarnation",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "berserk",
								["description"] = "its a gain to hold your last berserk cast to line it up with convoke (but not vice versa)",
								["criteria"] = "fight_remains > 18 || boss & ( ! variable.lastzerk || fight_remains < 23 || variable.lastzerk & ! variable.lastconvoke || variable.lastconvoke & cooldown.convoke_the_spirits.remains < 10 )",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! variable.align_3minutes || buff.bs_inc.up",
								["action"] = "berserking",
							}, -- [5]
							{
								["enabled"] = false,
								["criteria"] = "! variable.align_3minutes || buff.bs_inc.up || ( variable.lastconvoke & ! variable.lastzerk & cooldown.convoke_the_spirits.remains = 0 )",
								["name"] = "mirror_of_fractured_tomorrows||irideus_fragment",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.bs_inc.up || boss & fight_remains < 32 || ( ! variable.lastzerk & variable.lastconvoke & cooldown.convoke_the_spirits.remains < 10 )",
								["action"] = "potion",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "convoke_the_spirits",
								["cycle_targets"] = 1,
								["criteria"] = "( ( target.time_to_die < fight_remains & target.time_to_die > 5 - talent.ashamanes_guidance.enabled ) || target.time_to_die >= fight_remains ) & ( boss & fight_remains < 5 || ( dot.rip.remains > 5 & buff.tigers_fury.up & ( combo_points < 2 || ( buff.bs_inc.up & combo_points <= 3 ) ) ) ) & ( ! variable.lastconvoke || buff.potion.up || ( time + fight_remains + 10 )  % 300 > time % 300 ) & ( talent.dire_fixation.enabled & debuff.dire_fixation.up || ! talent.dire_fixation.enabled || spell_targets.swipe_cat > 1 )",
								["description"] = "checks to make sure you can actually fit convoke into the pull. this portion->(time+fight_remains+10)%%300<time%%300) is just checking if you'll get another potion use before fight ends.",
							}, -- [8]
							{
								["enabled"] = true,
								["name"] = "manic_grieftorch",
								["cycle_targets"] = 1,
								["action"] = "manic_grieftorch",
								["criteria"] = "energy.deficit > 40",
							}, -- [9]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [10]
						},
						["bloodtalons"] = {
							{
								["enabled"] = true,
								["criteria"] = "( cooldown.brutal_slash.full_recharge_time < 4 || target.time_to_die < 5 ) & ( buff.bt_brutal_slash.down & ( buff.bs_inc.up || variable.need_bt ) )",
								["action"] = "brutal_slash",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.shadowmeld.up & buff.bt_rake.down & ! buff.prowl.up & ! buff.apex_predators_craving.up",
								["action"] = "prowl",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.prowl.up & buff.bt_rake.down & cooldown.feral_frenzy.remains < 44 & ! buff.apex_predators_craving.up",
								["action"] = "shadowmeld",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] = "( refreshable || buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier ) & buff.bt_rake.down",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] = "buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier & buff.bt_rake.down",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_shred.down & buff.clearcasting.react & spell_targets.swipe_cat = 1",
								["action"] = "shred",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "thrash_cat",
								["criteria"] = "refreshable & buff.bt_thrash.down & buff.clearcasting.react & spell_targets.swipe_cat = 1 & ! talent.thrashing_claws.enabled",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_brutal_slash.down",
								["action"] = "brutal_slash",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & buff.bt_moonfire.down & spell_targets.swipe_cat = 1",
								["action"] = "lunar_inspiration",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "thrash_cat",
								["criteria"] = "refreshable & buff.bt_thrash.down & ! talent.thrashing_claws.enabled",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_shred.down & spell_targets.swipe_cat = 1 & ( ! talent.wild_slashes.enabled || ( ! debuff.dire_fixation.up & talent.dire_fixation.enabled ) )",
								["action"] = "shred",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_swipe.down & talent.wild_slashes.enabled",
								["action"] = "swipe_cat",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["cycle_targets"] = 1,
								["max_cycle_targets"] = "3",
								["criteria"] = "buff.bt_moonfire.down & spell_targets.swipe_cat < 5",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_swipe.down",
								["action"] = "swipe_cat",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["criteria"] = "buff.bt_moonfire.down",
								["cycle_targets"] = 1,
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "shred",
								["cycle_targets"] = 1,
								["criteria"] = "( spell_targets > 5 || talent.dire_fixation.enabled ) & buff.bt_shred.down & ! buff.sudden_ambush.up & ! ( variable.lazy_swipe & talent.wild_slashes.enabled )",
								["description"] = "If we have BrS and nothing better to cast, thrash at 5+ targets unless dire fixation is talented.",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_thrash.down",
								["action"] = "thrash_cat",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "rake",
								["cycle_targets"] = 1,
								["criteria"] = "buff.bt_rake.down & ( spell_targets.swipe_cat > 4 & ! talent.dire_fixation.enabled || talent.wild_slashes.enabled & variable.lazy_swipe )",
								["description"] = "This just finds the best reapplication if you really need 3rd builder for bt",
							}, -- [18]
						},
					},
					["version"] = 20230826,
					["warnings"] = "The import for 'bloodtalons' required some automated changes.\nLine 16: Converted 'talent.wild_slashes' to 'talent.wild_slashes.enabled' (1x).\nLine 18: Converted 'talent.dire_fixation' to 'talent.dire_fixation.enabled' (1x).\nLine 18: Converted 'talent.wild_slashes' to 'talent.wild_slashes.enabled' (1x).\n\nThe import for 'berserk' required some automated changes.\nLine 10: Converted 'talent.thrashing_claws' to 'talent.thrashing_claws.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 8: Converted operations in 'fight_remains>(30+(cooldown.bs_inc.remains%1.6))&((talent.berserk_heart_of_the_lion.enabled&fight_remains<(90+(cooldown.bs_inc.remains%1.6)))||(!talent.berserk_heart_of_the_lion.enabled&fight_remains<(180+cooldown.bs_inc.remains)))' to 'fight_remains>(30+(cooldown.bs_inc.remains/1.6))&((talent.berserk_heart_of_the_lion.enabled&fight_remains<(90+(cooldown.bs_inc.remains/1.6)))||(!talent.berserk_heart_of_the_lion.enabled&fight_remains<(180+cooldown.bs_inc.remains)))'.\nLine 13: Converted 'talent.unbridled_swarm' to 'talent.unbridled_swarm.enabled' (1x).\n\nThe import for 'aoe_builder' required some automated changes.\nLine 2: Converted 'talent.thrashing_claws' to 'talent.thrashing_claws.enabled' (1x).\nLine 12: Converted 'talent.wild_slashes' to 'talent.wild_slashes.enabled' (1x).\n\nThe import for 'cooldown' required some automated changes.\nLine 6: Unsupported use_item action [ mirror_of_fractured_tomorrows||irideus_fragment]; entry disabled.\nLine 8: Converted operations in '((target.time_to_die<fight_remains&target.time_to_die>5-talent.ashamanes_guidance.enabled)||target.time_to_die>=fight_remains)&(boss&fight_remains<5||(dot.rip.remains>5&buff.tigers_fury.up&(combo_points<2||(buff.bs_inc.up&combo_points<=3))))&(!variable.lastconvoke||buff.potion.up||(time+fight_remains+10)%%300>time%%300)&(talent.dire_fixation.enabled&debuff.dire_fixation.up||!talent.dire_fixation.enabled||spell_targets.swipe_cat>1)' to '((target.time_to_die<fight_remains&target.time_to_die>5-talent.ashamanes_guidance.enabled)||target.time_to_die>=fight_remains)&(boss&fight_remains<5||(dot.rip.remains>5&buff.tigers_fury.up&(combo_points<2||(buff.bs_inc.up&combo_points<=3))))&(!variable.lastconvoke||buff.potion.up||(time+fight_remains+10)%300>time%300)&(talent.dire_fixation.enabled&debuff.dire_fixation.up||!talent.dire_fixation.enabled||spell_targets.swipe_cat>1)'.\n\nImported 11 action lists.\n",
					["profile"] = "actions.precombat+=/mark_of_the_wild,if=buff.prowl.down\nactions.precombat+=/use_item,name=algethar_puzzle_box\nactions.precombat+=/heart_of_the_wild,if=buff.any_form.up&buff.cat_form.down\nactions.precombat+=/prowl\nactions.precombat+=/cat_form\n\nactions+=/skull_bash\nactions+=/soothe\n# Executed every time the actor is available.\nactions+=/prowl,if=(buff.bs_inc.down||time=0)&!buff.prowl.up\nactions+=/cat_form,if=!buff.cat_form.up\n## <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> does not line up very well with <a href='https://www.wowhead.com/spell=106951/berserk'>Berserk</a> nor <a href='https://www.wowhead.com/spell=102543/incarnation-avatar-of-ashamane'>Incarnation</a> and <a href='https://www.wowhead.com/spell=323764/convoke-the-spirits?spellModifier=768'>Convoke</a> doesn't benefit much from haste.\n## actions+=/invoke_external_buff,name=power_infusion\nactions+=/variable,name=need_bt,value=talent.bloodtalons.enabled&buff.bloodtalons.stack<=1\nactions+=/variable,name=align_3minutes,value=spell_targets.swipe_cat=1\nactions+=/variable,name=lastconvoke,value=fight_remains>cooldown.convoke_the_spirits.remains+3&((talent.ashamanes_guidance.enabled&fight_remains<(cooldown.convoke_the_spirits.remains+60))||(!talent.ashamanes_guidance.enabled&fight_remains<(cooldown.convoke_the_spirits.remains+120)))\nactions+=/variable,name=lastzerk,value=fight_remains>(30+(cooldown.bs_inc.remains%1.6))&((talent.berserk_heart_of_the_lion.enabled&fight_remains<(90+(cooldown.bs_inc.remains%1.6)))||(!talent.berserk_heart_of_the_lion.enabled&fight_remains<(180+cooldown.bs_inc.remains)))\n## These are handled in Feral spec options instead.\n## actions+=/variable,name=zerk_biteweave,op=reset\n## actions+=/variable,name=lazy_swipe,op=reset\n## actions+=/variable,name=regrowth,op=reset\nactions+=/tigers_fury,if=talent.convoke_the_spirits.enabled||!talent.convoke_the_spirits.enabled&(!buff.tigers_fury.up||energy.deficit>65)||(target.time_to_die<15&talent.predator.enabled)\nactions+=/rake,cycle_targets=1,if=persistent_multiplier>dot.rake.pmultiplier&(buff.prowl.up||buff.shadowmeld.up)\nactions+=/natures_vigil,if=time>0\nactions+=/renewal,if=filler_regrowth&health.pct<60\nactions+=/adaptive_swarm,caption=@player,if=talent.unbridled_swarm&spell_targets.swipe_cat<=1&dot.adaptive_swarm_heal.stack<4&dot.adaptive_swarm_heal.remains>4\nactions+=/adaptive_swarm,cycle_targets=1,if=((!dot.adaptive_swarm_damage.ticking||dot.adaptive_swarm_damage.remains<2)&(dot.adaptive_swarm_damage.stack<3)&!action.adaptive_swarm_damage.in_flight&!action.adaptive_swarm.in_flight)&target.time_to_die>5&!(variable.need_bt&active_bt_triggers=2)&(!talent.unbridled_swarm.enabled||spell_targets.swipe_cat=1)\n# in reality, with unbridled talented adaptive swarm should be targeting allies out of combat, and often in single target too. This isn't supported by simc at time of writing though, so will have to settle with just this\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack<3&talent.unbridled_swarm.enabled&spell_targets.swipe_cat>1&!(variable.need_bt&active_bt_triggers=2)\nactions+=/call_action_list,name=cooldown\nactions+=/feral_frenzy,cycle_targets=1,if=((talent.dire_fixation.enabled&debuff.dire_fixation.up)||!talent.dire_fixation.enabled||spell_targets.swipe_cat>1)&(combo_points<2||combo_points<3&buff.bs_inc.up||time<10)\nactions+=/ferocious_bite,cycle_targets=1,if=buff.apex_predators_craving.up&(spell_targets.swipe_cat=1||!talent.primal_wrath.enabled||!buff.sabertooth.up)&!(variable.need_bt&active_bt_triggers=2)\nactions+=/call_action_list,name=berserk,strict=1,if=buff.bs_inc.remains>gcd.remains\nactions+=/wait,sec=combo_points.time_to_max,if=combo_points=4&buff.predator_revealed.react&energy.deficit>40&spell_targets.swipe_cat=1&combo_points.time_to_max<gcd.max\n# its acceptable to proc bt when at 4cps in single target for a small gain (0.1-0.2% with t30 4p)\nactions+=/call_action_list,name=finisher,if=combo_points=5||combo_points=4&!(buff.bloodtalons.stack<=1&active_bt_triggers=2&spell_targets.swipe_cat=1)\nactions+=/call_action_list,name=bloodtalons,if=variable.need_bt&!buff.bs_inc.up&combo_points<5\nactions+=/call_action_list,name=aoe_builder,strict=1,if=spell_targets.swipe_cat>1&talent.primal_wrath.enabled\nactions+=/call_action_list,name=builder,if=!buff.bs_inc.up&combo_points<5\nactions+=/regrowth,if=energy<25&buff.predatory_swiftness.up&!buff.clearcasting.up&filler_regrowth\n\n# avoid capping brs charges, and in the event of adds, offload charges within reason\nactions.aoe_builder+=/brutal_slash,cycle_targets=1,if=cooldown.brutal_slash.full_recharge_time<4||target.time_to_die<5\nactions.aoe_builder+=/thrash_cat,if=refreshable&(buff.clearcasting.react||(spell_targets.thrash_cat>10||(spell_targets.thrash_cat>5&!talent.double_clawed_rake.enabled))&!talent.thrashing_claws)\nactions.aoe_builder+=/shadowmeld,if=action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.prowl.up&!buff.apex_predators_craving.up\n# this line checks if theres an upgradeable rake\nactions.aoe_builder+=/shadowmeld,if=action.rake.ready&!buff.sudden_ambush.up&dot.rake.pmultiplier<1.4&!buff.prowl.up&!buff.apex_predators_craving.up\n# not a perfect solution, but it checks lowest dot for pandemic/stealth snapshot first\nactions.aoe_builder+=/rake,cycle_targets=1,if=buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier\n# and if lowest dot is fine, it checks the remaining dots and targets a mob without stealth snapshot (not necessarily 2nd lowest)\nactions.aoe_builder+=/rake,cycle_targets=1,if=buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier||refreshable\nactions.aoe_builder+=/thrash_cat,if=refreshable\nactions.aoe_builder+=/brutal_slash\n# prio targets with swarm debuff for moonfire\nactions.aoe_builder+=/moonfire_cat,cycle_targets=1,if=refreshable&spell_targets.swipe_cat<5\nactions.aoe_builder+=/swipe_cat\nactions.aoe_builder+=/moonfire_cat,cycle_targets=1,if=dot.moonfire.refreshable\n# if we have brs and nothing better to cast, refresh thrash early at 4+ targets unless dire fixation is talented\nactions.aoe_builder+=/shred,cycle_targets=1,if=(spell_targets.swipe_cat<4||talent.dire_fixation.enabled)&!buff.sudden_ambush.up&!(variable.lazy_swipe&talent.wild_slashes)\nactions.aoe_builder+=/thrash_cat\n\nactions.berserk+=/ferocious_bite,cycle_targets=1,if=combo_points=5&dot.rip.remains>8&variable.zerk_biteweave&spell_targets.swipe_cat>1\n# proc bt if 0/1 stack if 5/6 combo points\nactions.berserk+=/call_action_list,name=finisher,if=combo_points=5&!(buff.overflowing_power.stack<=1&active_bt_triggers=2&buff.bloodtalons.stack<=1)\n# its currently a gain to just contiuously try to proc bt in aoe\nactions.berserk+=/call_action_list,name=bloodtalons,strict=1,if=spell_targets.swipe_cat>1\n# go into stealth to buff rake snapshot-- feral frenzy line is to eliminate an edge case involving ff being casted instead due to higher prio\nactions.berserk+=/prowl,if=!(buff.bt_rake.up&active_bt_triggers=2)&(action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.shadowmeld.up&cooldown.feral_frenzy.remains<44&!buff.apex_predators_craving.up)\nactions.berserk+=/shadowmeld,if=!(buff.bt_rake.up&active_bt_triggers=2)&action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.prowl.up&!buff.apex_predators_craving.up\nactions.berserk+=/rake,if=!(buff.bt_rake.up&active_bt_triggers=2)&(refreshable||(buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier))\n# in single target, you just proc bt when an opportunity arises\nactions.berserk+=/shred,if=(active_bt_triggers=2||(talent.dire_fixation.enabled&!debuff.dire_fixation.up))&buff.bt_shred.down\nactions.berserk+=/brutal_slash,if=active_bt_triggers=2&buff.bt_brutal_slash.down\nactions.berserk+=/moonfire_cat,if=active_bt_triggers=2&buff.bt_moonfire.down\nactions.berserk+=/thrash_cat,if=active_bt_triggers=2&buff.bt_thrash.down&!talent.thrashing_claws&variable.need_bt&(refreshable||talent.brutal_slash.enabled)\nactions.berserk+=/moonfire_cat,if=refreshable\n# don't overcap brs charges, but keep it available for bt\nactions.berserk+=/brutal_slash,if=cooldown.brutal_slash.charges>1\nactions.berserk+=/shred\n\nactions.berserk_builders+=/rake,cycle_targets=1,if=refreshable\nactions.berserk_builders+=/swipe_cat,if=spell_targets.swipe_cat>1\nactions.berserk_builders+=/brutal_slash,if=active_bt_triggers=2&buff.bt_brutal_slash.down\nactions.berserk_builders+=/shred\n\nactions.bloodtalons+=/brutal_slash,if=(cooldown.brutal_slash.full_recharge_time<4||target.time_to_die<5)&(buff.bt_brutal_slash.down&(buff.bs_inc.up||variable.need_bt))\nactions.bloodtalons+=/prowl,if=action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.shadowmeld.up&buff.bt_rake.down&!buff.prowl.up&!buff.apex_predators_craving.up\nactions.bloodtalons+=/shadowmeld,if=action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.prowl.up&buff.bt_rake.down&cooldown.feral_frenzy.remains<44&!buff.apex_predators_craving.up\nactions.bloodtalons+=/rake,cycle_targets=1,if=(refreshable||buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier)&buff.bt_rake.down\nactions.bloodtalons+=/rake,cycle_targets=1,if=buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier&buff.bt_rake.down\nactions.bloodtalons+=/shred,if=buff.bt_shred.down&buff.clearcasting.react&spell_targets.swipe_cat=1\nactions.bloodtalons+=/thrash_cat,cycle_targets=1,if=refreshable&buff.bt_thrash.down&buff.clearcasting.react&spell_targets.swipe_cat=1&!talent.thrashing_claws.enabled\nactions.bloodtalons+=/brutal_slash,if=buff.bt_brutal_slash.down\nactions.bloodtalons+=/moonfire_cat,if=refreshable&buff.bt_moonfire.down&spell_targets.swipe_cat=1\nactions.bloodtalons+=/thrash_cat,cycle_targets=1,if=refreshable&buff.bt_thrash.down&!talent.thrashing_claws.enabled\nactions.bloodtalons+=/shred,if=buff.bt_shred.down&spell_targets.swipe_cat=1&(!talent.wild_slashes.enabled||(!debuff.dire_fixation.up&talent.dire_fixation.enabled))\nactions.bloodtalons+=/swipe_cat,if=buff.bt_swipe.down&talent.wild_slashes.enabled\nactions.bloodtalons+=/moonfire_cat,cycle_targets=1,max_cycle_targets=3,if=buff.bt_moonfire.down&spell_targets.swipe_cat<5\nactions.bloodtalons+=/swipe_cat,if=buff.bt_swipe.down\nactions.bloodtalons+=/moonfire_cat,cycle_targets=1,if=buff.bt_moonfire.down\n# If we have BrS and nothing better to cast, thrash at 5+ targets unless dire fixation is talented.\nactions.bloodtalons+=/shred,cycle_targets=1,if=(spell_targets>5||talent.dire_fixation.enabled)&buff.bt_shred.down&!buff.sudden_ambush.up&!(variable.lazy_swipe&talent.wild_slashes)\nactions.bloodtalons+=/thrash_cat,if=buff.bt_thrash.down\n# This just finds the best reapplication if you really need 3rd builder for bt\nactions.bloodtalons+=/rake,cycle_targets=1,if=buff.bt_rake.down&(spell_targets.swipe_cat>4&!talent.dire_fixation||talent.wild_slashes&variable.lazy_swipe)\n\nactions.builder+=/run_action_list,name=clearcasting,strict=1,if=buff.clearcasting.react\nactions.builder+=/brutal_slash,if=cooldown.brutal_slash.full_recharge_time<4\n## TODO: edit this to use wait instead; stop pooling if we can use a clearcasting proc\n## actions.builder+=/pool_resource,if=!action.rake.ready&(dot.rake.refreshable||(buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier&dot.rake.remains>6))&!buff.clearcasting.react\nactions.builder+=/shadowmeld,if=action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.prowl.up&!buff.apex_predators_craving.up\nactions.builder+=/rake,if=refreshable||(buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier)\n## repeating here is necessary, otherwise moonfire will occassionally be casted instead\n## actions.builder+=/run_action_list,name=clearcasting,strict=1,if=buff.clearcasting.react\nactions.builder+=/moonfire_cat,cycle_targets=1,if=refreshable\nactions.builder+=/thrash_cat,cycle_targets=1,if=refreshable&!talent.thrashing_claws.enabled\nactions.builder+=/brutal_slash\nactions.builder+=/swipe_cat,if=spell_targets.swipe_cat>1||(talent.wild_slashes.enabled&(debuff.dire_fixation.up||!talent.dire_fixation.enabled))\nactions.builder+=/shred\n\nactions.clearcasting+=/thrash_cat,if=refreshable&!talent.thrashing_claws.enabled\nactions.clearcasting+=/swipe_cat,if=spell_targets.swipe_cat>1\nactions.clearcasting+=/brutal_slash,if=spell_targets.brutal_slash>2\nactions.clearcasting+=/shred\n\nactions.cooldown+=/use_item,name=algethar_puzzle_box,if=boss&fight_remains<35||(!variable.align_3minutes)\nactions.cooldown+=/use_item,name=algethar_puzzle_box,if=variable.align_3minutes&(cooldown.bs_inc.remains<3&(!variable.lastzerk||!variable.lastconvoke||(variable.lastconvoke&cooldown.convoke_the_spirits.remains<13)))\nactions.cooldown+=/incarnation,if=boss||fight_remains>25\n# its a gain to hold your last berserk cast to line it up with convoke (but not vice versa)\nactions.cooldown+=/berserk,if=fight_remains>18||boss&(!variable.lastzerk||fight_remains<23||variable.lastzerk&!variable.lastconvoke||variable.lastconvoke&cooldown.convoke_the_spirits.remains<10)\nactions.cooldown+=/berserking,if=!variable.align_3minutes||buff.bs_inc.up\nactions.cooldown+=/use_item,name=mirror_of_fractured_tomorrows||irideus_fragment,if=!variable.align_3minutes||buff.bs_inc.up||(variable.lastconvoke&!variable.lastzerk&cooldown.convoke_the_spirits.remains=0)\nactions.cooldown+=/potion,if=buff.bs_inc.up||boss&fight_remains<32||(!variable.lastzerk&variable.lastconvoke&cooldown.convoke_the_spirits.remains<10)\n# checks to make sure you can actually fit convoke into the pull. this portion->(time+fight_remains+10)%%300<time%%300) is just checking if you'll get another potion use before fight ends.\nactions.cooldown+=/convoke_the_spirits,cycle_targets=1,if=((target.time_to_die<fight_remains&target.time_to_die>5-talent.ashamanes_guidance.enabled)||target.time_to_die>=fight_remains)&(boss&fight_remains<5||(dot.rip.remains>5&buff.tigers_fury.up&(combo_points<2||(buff.bs_inc.up&combo_points<=3))))&(!variable.lastconvoke||buff.potion.up||(time+fight_remains+10)%%300>time%%300)&(talent.dire_fixation.enabled&debuff.dire_fixation.up||!talent.dire_fixation.enabled||spell_targets.swipe_cat>1)\nactions.cooldown+=/use_item,name=manic_grieftorch,cycle_targets=1,if=energy.deficit>40\nactions.cooldown+=/use_items\n\nactions.finisher+=/primal_wrath,if=(!funneling&(dot.primal_wrath.refreshable&!talent.circle_of_life_and_death.enabled)||dot.primal_wrath.remains<6||(talent.tear_open_wounds.enabled||(spell_targets.swipe_cat>4&!talent.rampant_ferocity.enabled)))&spell_targets.primal_wrath>1&talent.primal_wrath.enabled\nactions.finisher+=/rip,cycle_targets=1,if=refreshable&(!talent.primal_wrath.enabled||spell_targets.swipe_cat=1)&target.time_to_die>settings.rip_duration\nactions.finisher+=/pool_resource,for_next=1,if=!action.tigers_fury.ready&buff.apex_predators_craving.down\nactions.finisher+=/ferocious_bite,max_energy=1,cycle_targets=1,if=buff.apex_predators_craving.down&(!buff.bs_inc.up||(buff.bs_inc.up&!talent.soul_of_the_forest.enabled))\nactions.finisher+=/ferocious_bite,cycle_targets=1,if=(buff.bs_inc.up&talent.soul_of_the_forest.enabled)||buff.apex_predators_craving.up\n\nactions.owlweaving+=/sunfire,line_cd=4*gcd",
					["spec"] = 103,
				},
				["Restoration Druid"] = {
					["builtIn"] = true,
					["date"] = 20230724,
					["spec"] = 105,
					["desc"] = "Healer priorities are DPS-focused only.\n\n2023-07-24:  Ferocious Bite on targets with Rip when target cycling is enabled.\n\n2023-03-23:  Minor tweaks to Cat Form priority from SimulationCraft.",
					["lists"] = {
						["cat"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.shadowmeld.up || buff.prowl.up || buff.sudden_ambush.up",
								["action"] = "rake",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( cooldown.convoke_the_spirits.remains < 30 || ! talent.convoke_the_spirits.enabled ) & ! buff.heart_of_the_wild.up",
								["action"] = "heart_of_the_wild",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "dot.adaptive_swarm_damage.stack = 2 & dot.adaptive_swarm_damage.remains > 2",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "dot.adaptive_swarm_damage.stack = 1 & dot.adaptive_swarm_damage.remains > 2",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "dot.adaptive_swarm_damage.stack = 3 & dot.adaptive_swarm_damage.remains > 2",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "dot.adaptive_swarm_damage.stack = 4 & dot.adaptive_swarm_damage.remains > 2",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "! dot.adaptive_swarm_damage.ticking",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 & talent.moonkin_form.enabled & talent.convoke_the_spirits.enabled & cooldown.convoke_the_spirits.remains <= gcd.max & ( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled )",
								["action"] = "run_action_list",
								["list_name"] = "owl",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies < 2 || ! talent.moonkin_form.enabled ) & ( ! buff.cat_form.up & talent.convoke_the_spirits.enabled & cooldown.convoke_the_spirits.remains <= gcd.max & ( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled ) )",
								["action"] = "cat_form",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled )",
								["action"] = "convoke_the_spirits",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "remains <= gcd.max & combo_points < 5 & ( talent.deep_focus.enabled & active_dot.rake <= 1 & dot.rake.refreshable )",
								["action"] = "rake",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "remains <= gcd.max & combo_points = 5 & ( talent.deep_focus.enabled & active_dot.rip <= 1 & dot.rip.refreshable )",
								["action"] = "rip",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & target.time_to_die > 5 & spell_targets.thrash_cat > 4",
								["action"] = "thrash_cat",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "( refreshable & target.time_to_die > 5 ) & ! prev_gcd.1.cat_form & ( active_enemies = 1 || talent.improved_sunfire.enabled )",
								["cycle_targets"] = 1,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up & energy > 50 & ( ( dot.thrash_cat.refreshable & spell_targets.swipe_cat >= 9 & talent.thrash.enabled ) || ( talent.deep_focus.enabled & dot.rip.refreshable & active_dot.rip <= 1 & active_enemies >= 5 ) )",
								["action"] = "cat_form",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "( refreshable & time_to_die > 12 & ! ticking || ( prev_gcd.1.sunfire & remains < duration * 0.8 & spell_targets.sunfire = 1 ) ) & ! prev_gcd.1.cat_form",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.moonfire & remains < duration * 0.8",
								["action"] = "sunfire",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 || ( active_enemies < 8 & ! buff.cat_form.up )",
								["action"] = "starsurge",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "time_to_die < 10 & spell_targets.starfire > 1 & ( ! talent.improved_swipe.enabled || spell_targets.swipe_cat >= 9 )",
								["action"] = "starfire",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up & energy > 50",
								["action"] = "cat_form",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "ferocious_bite",
								["criteria"] = "( combo_points > 3 & target.time_to_die < 3 ) || ( combo_points = 5 & energy >= 50 & dot.rip.remains > 10 ) & spell_targets.swipe_cat < 4",
								["cycle_targets"] = 1,
							}, -- [21]
							{
								["enabled"] = true,
								["action"] = "thrash_cat",
								["criteria"] = "refreshable & target.time_to_die > 5 & spell_targets.thrash_cat > 2",
								["cycle_targets"] = 1,
							}, -- [22]
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] = "dot.adaptive_swarm_damage.ticking & refreshable",
								["cycle_targets"] = 1,
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "rip",
								["criteria"] = "( ( refreshable || energy > 90 & remains <= 10 ) & ( combo_points = 5 & time_to_die > remains + 24 || ( remains + combo_points * 4 < time_to_die & remains + 4 + combo_points * 4 > time_to_die ) ) || ! ticking & combo_points > 2 + spell_targets.swipe_cat * 2 )",
								["cycle_targets"] = 1,
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "combo_points = combo_points.max & ( dot.rip.ticking || ! talent.rip.enabled )",
								["action"] = "ferocious_bite",
								["max_energy"] = 1,
							}, -- [25]
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] = "( refreshable & time_to_die > 10 & spell_targets.swipe_cat < 10 ) & ( combo_points < 5 || remains < 1 )",
								["cycle_targets"] = 1,
							}, -- [26]
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "refreshable & target.time_to_die > 5 & active_enemies < 7 & ! talent.improved_sunfire.enabled",
								["cycle_targets"] = 1,
							}, -- [27]
							{
								["enabled"] = true,
								["action"] = "thrash_cat",
								["criteria"] = "refreshable & target.time_to_die > 5",
								["cycle_targets"] = 1,
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & combo_points < 5 & talent.improved_swipe.enabled",
								["action"] = "swipe_cat",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "energy > 60 & combo_points < 5",
								["action"] = "shred",
							}, -- [30]
						},
						["owl"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.moonkin_form.up",
								["action"] = "moonkin_form",
							}, -- [1]
							{
								["action"] = "convoke_the_spirits",
								["enabled"] = true,
							}, -- [2]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Executed every time the actor is available.",
								["action"] = "skull_bash",
							}, -- [1]
							{
								["action"] = "solar_beam",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up & ! buff.shadowmeld.up",
								["action"] = "use_items",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up & ! buff.shadowmeld.up",
								["action"] = "potion",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "talent.rake.enabled || buff.cat_form.up",
								["action"] = "run_action_list",
								["list_name"] = "cat",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 & talent.moonkin_form.enabled & talent.convoke_the_spirits.enabled & cooldown.convoke_the_spirits.remains <= gcd.max & ( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled )",
								["action"] = "run_action_list",
								["list_name"] = "owl",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.moonkin_form.enabled & buff.cat_form.down",
								["action"] = "moonkin_form",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled )",
								["action"] = "convoke_the_spirits",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "dot.adaptive_swarm_damage.stack = 2 & dot.adaptive_swarm_damage.remains > 2",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "dot.adaptive_swarm_damage.stack = 1 & dot.adaptive_swarm_damage.remains > 2",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "dot.adaptive_swarm_damage.stack = 3 & dot.adaptive_swarm_damage.remains > 2",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "dot.adaptive_swarm_damage.stack = 4 & dot.adaptive_swarm_damage.remains > 2",
								["cycle_targets"] = 1,
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] = "! dot.adaptive_swarm_damage.ticking",
								["cycle_targets"] = 1,
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "refreshable & target.time_to_die > 5 & talent.improved_sunfire.enabled",
								["cycle_targets"] = 1,
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "refreshable & time_to_die > 12",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies < 8",
								["action"] = "starsurge",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "refreshable & target.time_to_die > 7 & active_enemies < 7",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.starfire > 1",
								["action"] = "starfire",
							}, -- [19]
							{
								["action"] = "wrath",
								["enabled"] = true,
							}, -- [20]
						},
						["precombat"] = {
							{
								["action"] = "heart_of_the_wild",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "talent.rake.enabled",
								["action"] = "prowl",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "time = 0 & buff.moonkin_form.down & talent.rake.enabled",
								["action"] = "cat_form",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "time = 0 & buff.cat_form.down & talent.moonkin_form.enabled",
								["action"] = "moonkin_form",
							}, -- [4]
						},
					},
					["version"] = 20230724,
					["warnings"] = "The import for 'cat' required some automated changes.\nLine 25: Converted 'talent.rip' to 'talent.rip.enabled' (1x).\n\nImported 4 action lists.\n",
					["profile"] = "actions.precombat+=/heart_of_the_wild\nactions.precombat+=/prowl,if=talent.rake.enabled\nactions.precombat+=/cat_form,if=time=0&buff.moonkin_form.down&talent.rake.enabled\nactions.precombat+=/moonkin_form,if=time=0&buff.cat_form.down&talent.moonkin_form.enabled\n\n# Executed every time the actor is available.\nactions+=/skull_bash\nactions+=/solar_beam\nactions+=/berserking\n## actions+=/natures_vigil,if=!buff.prowl.up&!buff.shadowmeld.up\n## actions+=/regrowth,if=!buff.prowl.up&!buff.shadowmeld.up&settings.heal_in_groups,line_cd=7\nactions+=/use_items,if=!buff.prowl.up&!buff.shadowmeld.up\nactions+=/potion,if=!buff.prowl.up&!buff.shadowmeld.up\nactions+=/run_action_list,name=cat,if=talent.rake.enabled||buff.cat_form.up\nactions+=/run_action_list,name=owl,if=active_enemies>2&talent.moonkin_form.enabled&talent.convoke_the_spirits.enabled&cooldown.convoke_the_spirits.remains<=gcd.max&(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled)\nactions+=/moonkin_form,if=talent.moonkin_form.enabled&buff.cat_form.down\nactions+=/convoke_the_spirits,if=(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled)\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=2&dot.adaptive_swarm_damage.remains>2\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=1&dot.adaptive_swarm_damage.remains>2\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=3&dot.adaptive_swarm_damage.remains>2\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=4&dot.adaptive_swarm_damage.remains>2\nactions+=/adaptive_swarm,cycle_targets=1,if=!dot.adaptive_swarm_damage.ticking\nactions+=/sunfire,cycle_targets=1,if=refreshable&target.time_to_die>5&talent.improved_sunfire.enabled\nactions+=/moonfire,cycle_targets=1,if=refreshable&time_to_die>12\nactions+=/starsurge,if=active_enemies<8\nactions+=/sunfire,cycle_targets=1,if=refreshable&target.time_to_die>7&active_enemies<7\nactions+=/starfire,if=spell_targets.starfire>1\nactions+=/wrath\n\nactions.cat+=/rake,if=buff.shadowmeld.up||buff.prowl.up||buff.sudden_ambush.up\nactions.cat+=/heart_of_the_wild,if=(cooldown.convoke_the_spirits.remains<30||!talent.convoke_the_spirits.enabled)&!buff.heart_of_the_wild.up\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=2&dot.adaptive_swarm_damage.remains>2\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=1&dot.adaptive_swarm_damage.remains>2\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=3&dot.adaptive_swarm_damage.remains>2\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=4&dot.adaptive_swarm_damage.remains>2\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=!dot.adaptive_swarm_damage.ticking\nactions.cat+=/run_action_list,name=owl,if=active_enemies>2&talent.moonkin_form.enabled&talent.convoke_the_spirits.enabled&cooldown.convoke_the_spirits.remains<=gcd.max&(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled)\nactions.cat+=/cat_form,if=(active_enemies<2||!talent.moonkin_form.enabled)&(!buff.cat_form.up&talent.convoke_the_spirits.enabled&cooldown.convoke_the_spirits.remains<=gcd.max&(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled))\nactions.cat+=/convoke_the_spirits,if=(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled)\nactions.cat+=/rake,if=remains<=gcd&combo_points<5&(talent.deep_focus.enabled&active_dot.rake<=1&dot.rake.refreshable)\nactions.cat+=/rip,if=remains<=gcd&combo_points=5&(talent.deep_focus.enabled&active_dot.rip<=1&dot.rip.refreshable)\nactions.cat+=/thrash_cat,target_if=refreshable&target.time_to_die>5&spell_targets.thrash_cat>4\nactions.cat+=/sunfire,cycle_targets=1,if=(refreshable&target.time_to_die>5)&!prev_gcd.1.cat_form&(active_enemies=1||talent.improved_sunfire.enabled)\nactions.cat+=/cat_form,if=!buff.cat_form.up&energy>50&((dot.thrash_cat.refreshable&spell_targets.swipe_cat>=9&talent.thrash.enabled)||(talent.deep_focus.enabled&dot.rip.refreshable&active_dot.rip<=1&active_enemies>=5))\nactions.cat+=/moonfire,cycle_targets=1,if=(refreshable&time_to_die>12&!ticking||(prev_gcd.1.sunfire&remains<duration*0.8&spell_targets.sunfire=1))&!prev_gcd.1.cat_form\nactions.cat+=/sunfire,if=prev_gcd.1.moonfire&remains<duration*0.8\nactions.cat+=/starsurge,if=active_enemies=1||(active_enemies<8&!buff.cat_form.up)\nactions.cat+=/starfire,if=time_to_die<10&spell_targets.starfire>1&(!talent.improved_swipe.enabled||spell_targets.swipe_cat>=9)\nactions.cat+=/cat_form,if=!buff.cat_form.up&energy>50\nactions.cat+=/ferocious_bite,cycle_targets=1,if=(combo_points>3&target.time_to_die<3)||(combo_points=5&energy>=50&dot.rip.remains>10)&spell_targets.swipe_cat<4\nactions.cat+=/thrash_cat,cycle_targets=1,if=refreshable&target.time_to_die>5&spell_targets.thrash_cat>2\nactions.cat+=/rake,cycle_targets=1,if=dot.adaptive_swarm_damage.ticking&refreshable\nactions.cat+=/rip,cycle_targets=1,if=((refreshable||energy>90&remains<=10)&(combo_points=5&time_to_die>remains+24||(remains+combo_points*4<time_to_die&remains+4+combo_points*4>time_to_die))||!ticking&combo_points>2+spell_targets.swipe_cat*2)\nactions.cat+=/ferocious_bite,max_energy=1,if=combo_points=combo_points.max&(dot.rip.ticking||!talent.rip)\nactions.cat+=/rake,cycle_targets=1,if=(refreshable&time_to_die>10&spell_targets.swipe_cat<10)&(combo_points<5||remains<1)\nactions.cat+=/sunfire,cycle_targets=1,if=refreshable&target.time_to_die>5&active_enemies<7&!talent.improved_sunfire.enabled\nactions.cat+=/thrash_cat,cycle_targets=1,if=refreshable&target.time_to_die>5\nactions.cat+=/swipe_cat,if=active_enemies>1&combo_points<5&talent.improved_swipe.enabled\nactions.cat+=/shred,if=energy>60&combo_points<5\n\nactions.owl+=/moonkin_form,if=!buff.moonkin_form.up\nactions.owl+=/convoke_the_spirits",
					["author"] = "Makahiki",
				},
				["Subtlety"] = {
					["builtIn"] = true,
					["date"] = 20230603,
					["spec"] = 261,
					["desc"] = "2023-06-03: Skip Rupture in multi-target when Rupture is on another enemy or your target will die relatively soon.\n\n2023-05-14:  Relax stealth_cds action list requirements.\n - Shiv.\n\n2023-05-12:  10.1 updates.\n\n2023-03-19:  10.0.7 update.\n\n2023-03-28:  Optimize efficiency.\n\n2023-04-05:  Move precombat Al'gethar Puzzle Box before Stealth.",
					["lists"] = {
						["stealthed"] = {
							{
								["enabled"] = true,
								["criteria"] = "( buff.stealth.up || buff.vanish.up ) & ( spell_targets.shuriken_storm < 4 || variable.priority_rotation )",
								["action"] = "shadowstrike",
								["description"] = "Stealthed Rotation  If Stealth/vanish are up, use Shadowstrike to benefit from the passive bonus and Find Weakness, even if we are at max CP (unless using Master Assassin)",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.danse_macabre.stack < 5 & ( combo_points.deficit = 2 || combo_points.deficit = 3 ) & ( buff.premeditation.up || effective_combo_points < 7 ) & ( spell_targets.shuriken_storm <= 8 || talent.lingering_shadow.enabled )",
								["description"] = "Variable to Gloomblade / Backstab when on 4 or 5 combo points with premediation and when the combo point is not anima charged",
								["var_name"] = "gloomblade_condition",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "variable.gloomblade_condition & buff.silent_storm.up & ! debuff.find_weakness.remains & talent.improved_shuriken_storm.enabled || combo_points <= 1 & ! used_for_danse & spell_targets.shuriken_storm = 2 & talent.danse_macabre.enabled",
								["action"] = "shuriken_storm",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "variable.gloomblade_condition & ( ! used_for_danse || spell_targets.shuriken_storm != 2 ) || combo_points <= 2 & buff.the_rotten.up & spell_targets.shuriken_storm <= 3",
								["action"] = "gloomblade",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "variable.gloomblade_condition & talent.danse_macabre.enabled & buff.danse_macabre.stack <= 2 & spell_targets.shuriken_storm <= 2",
								["action"] = "backstab",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "variable.effective_combo_points >= cp_max_spend",
								["list_name"] = "finish",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Finish earlier with Shuriken tornado up.",
								["strict"] = 1,
								["criteria"] = "buff.shuriken_tornado.up & combo_points.deficit <= 2",
								["list_name"] = "finish",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Also safe to finish at 4+ CP with exactly 4 targets. (Same as outside stealth.)",
								["strict"] = 1,
								["criteria"] = "spell_targets.shuriken_storm >= 4 - talent.seal_fate.enabled & variable.effective_combo_points >= 4",
								["list_name"] = "finish",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Finish at lower combo points if you are talented in DS, SS or Seal Fate",
								["strict"] = 1,
								["criteria"] = "combo_points.deficit <= 1 + ( talent.seal_fate.enabled || talent.deeper_stratagem.enabled || talent.secret_stratagem.enabled )",
								["list_name"] = "finish",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.perforated_veins.stack >= 5 & spell_targets.shuriken_storm < 3",
								["action"] = "gloomblade",
								["description"] = "Use Gloomblade or Backstab when close to hitting max PV stacks",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.perforated_veins.stack >= 5 & spell_targets.shuriken_storm < 3",
								["action"] = "backstab",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "stealthed.sepsis & spell_targets.shuriken_storm < 4",
								["action"] = "shadowstrike",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets >= 3 + buff.the_rotten.up & ( ! buff.premeditation.up || spell_targets >= 7 & ! variable.priority_rotation )",
								["action"] = "shuriken_storm",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "debuff.find_weakness.remains <= 1 || cooldown.symbols_of_death.remains < 18 & debuff.find_weakness.remains < cooldown.symbols_of_death.remains",
								["action"] = "shadowstrike",
								["description"] = "Shadowstrike to refresh Find Weakness and to ensure we can carry over a full FW into the next SoD if possible.",
							}, -- [14]
							{
								["action"] = "shadowstrike",
								["enabled"] = true,
							}, -- [15]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Restealth if possible (no vulnerable enemies in combat)",
								["action"] = "stealth",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Interrupt on cooldown to allow simming interactions with that",
								["action"] = "kick",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "debuff.dispellable_enrage.up",
								["action"] = "shiv",
								["description"] = "Dispel Enrages with Shiv.",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.slice_and_dice.up || spell_targets.shuriken_storm >= cp_max_spend",
								["description"] = "Used to determine whether cooldowns wait for SnD based on targets.",
								["var_name"] = "snd_condition",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "is_next_cp_animacharged",
								["criteria"] = "talent.echoing_reprimand.enabled",
								["description"] = "Check to see if the next CP (in the event of a ShT proc) is Animacharged",
								["value"] = "combo_points = 1 & buff.echoing_reprimand_2.up || combo_points = 2 & buff.echoing_reprimand_3.up || combo_points = 3 & buff.echoing_reprimand_4.up || combo_points = 4 & buff.echoing_reprimand_5.up",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "effective_combo_points",
								["description"] = "Account for ShT reaction time by ignoring low-CP animacharged matches in the 0.5s preceeding a potential ShT proc",
								["var_name"] = "effective_combo_points",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "combo_points",
								["criteria"] = "talent.echoing_reprimand.enabled & effective_combo_points > combo_points & combo_points.deficit > 2 & time_to_sht_plus.4 < 0.5 & ! variable.is_next_cp_animacharged",
								["var_name"] = "effective_combo_points",
							}, -- [7]
							{
								["enabled"] = true,
								["description"] = "Check CDs at first",
								["action"] = "call_action_list",
								["list_name"] = "cds",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.shuriken_storm < cp_max_spend & buff.slice_and_dice.remains < gcd.max & fight_remains > 6 & combo_points >= 4",
								["action"] = "slice_and_dice",
								["description"] = "Apply Slice and Dice at 4+ CP if it expires within the next GCD or is not up",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["description"] = "Run fully switches to the Stealthed Rotation (by doing so, it forces pooling if nothing is available).",
								["strict"] = 1,
								["criteria"] = "stealthed.all",
								["list_name"] = "stealthed",
							}, -- [10]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "25 + talent.vigor.enabled * 20 + talent.master_of_shadows.enabled * 20 + talent.shadow_focus.enabled * 25 + talent.alacrity.enabled * 20 + 25 * ( spell_targets.shuriken_storm >= 4 )",
								["description"] = "Used to define when to use stealth CDs or builders",
								["var_name"] = "stealth_threshold",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Consider using a Stealth CD when reaching the energy threshold",
								["criteria"] = "energy.deficit <= variable.stealth_threshold",
								["list_name"] = "stealth_cds",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Finish at maximum or close to maximum combo point value or at 4+ against 4 targets (outside stealth)",
								["strict"] = 1,
								["criteria"] = "variable.effective_combo_points >= cp_max_spend || combo_points.deficit <= 1 + buff.the_rotten.up || boss & fight_remains <= 1 & variable.effective_combo_points >= 3 || spell_targets.shuriken_storm >= ( 4 - talent.seal_fate.enabled ) & variable.effective_combo_points >= 4",
								["list_name"] = "finish",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Use a builder when reaching the energy threshold",
								["criteria"] = "energy.deficit <= variable.stealth_threshold",
								["list_name"] = "build",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "energy.deficit >= 15 + energy.regen",
								["action"] = "arcane_torrent",
								["description"] = "Lowest priority in all of the APL because it causes a GCD",
							}, -- [15]
							{
								["action"] = "arcane_pulse",
								["enabled"] = true,
							}, -- [16]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [17]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [18]
						},
						["precombat"] = {
							{
								["action"] = "apply_poison",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [2]
							{
								["action"] = "stealth",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "marked_for_death",
								["precombat_seconds"] = "15",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "slice_and_dice",
								["criteria"] = "refreshable",
								["precombat_seconds"] = "1",
							}, -- [5]
						},
						["build"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets >= 2 + ( talent.gloomblade.enabled & buff.lingering_shadow.remains >= 6 || buff.perforated_veins.up )",
								["action"] = "shuriken_storm",
								["description"] = "Builders",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! talent.echoing_reprimand.enabled || ! ( variable.is_next_cp_animacharged & ( time_to_sht_plus.3 < 0.5 || time_to_sht_plus.4 < 1 ) & energy < 60 )",
								["description"] = "Build immediately unless the next CP is Animacharged and we won't cap energy waiting for it.",
								["var_name"] = "anima_helper",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "variable.anima_helper",
								["action"] = "gloomblade",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "variable.anima_helper",
								["action"] = "backstab",
							}, -- [4]
						},
						["cds"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! buff.premeditation.up & spell_targets.shuriken_storm = 1 || ! talent.the_rotten.enabled || spell_targets.shuriken_storm > 1",
								["description"] = "Cooldowns",
								["var_name"] = "rotten_condition",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! buff.shadow_dance.up & buff.shuriken_tornado.up & buff.shuriken_tornado.remains <= 3.5",
								["use_off_gcd"] = 1,
								["action"] = "shadow_dance",
								["description"] = "Use Dance off-gcd before the first Shuriken Storm from Tornado comes in.",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.shuriken_tornado.up & buff.shuriken_tornado.remains <= 3.5",
								["use_off_gcd"] = 1,
								["action"] = "symbols_of_death",
								["description"] = "(Unless already up because we took Shadow Focus) use Symbols off-gcd before the first Shuriken Storm from Tornado comes in.",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.danse_macabre.stack > 3 & combo_points <= 2 & ( cooldown.secret_technique.remains >= 30 || ! talent.secret_technique.enabled )",
								["action"] = "vanish",
								["description"] = "Vanish for Shadowstrike with Danse Macabre at adaquate stacks",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! talent.secret_technique.enabled & combo_points >= 5",
								["action"] = "cold_blood",
								["description"] = "Cold Blood on 5 combo points when not playing Secret Technique",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "flagellation",
								["criteria"] = "variable.snd_condition & combo_points >= 5 & target.time_to_die > 10",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["for_next"] = 1,
								["description"] = "Pool for Tornado pre-SoD with ShD ready when not running SF.",
								["criteria"] = "talent.shuriken_tornado.enabled & ! talent.shadow_focus.enabled",
								["action"] = "pool_resource",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.shuriken_storm <= 1 & energy >= 60 & variable.snd_condition & cooldown.symbols_of_death.up & cooldown.shadow_dance.charges >= 1 & ( ! talent.flagellation.enabled & ! cooldown.flagellation.up || buff.flagellation_buff.up || spell_targets.shuriken_storm >= 5 ) & combo_points <= 2 & ! buff.premeditation.up",
								["action"] = "shuriken_tornado",
								["description"] = "Use Tornado pre SoD when we have the energy whether from pooling without SF or just generally.",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "variable.snd_condition & combo_points.deficit >= 1 & target.time_to_die >= 16",
								["action"] = "sepsis",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "( buff.symbols_of_death.remains <= 3 & ! cooldown.shadow_dance.ready || ! set_bonus.tier30_2pc ) & variable.rotten_condition & variable.snd_condition & ( ! talent.flagellation.enabled & ( combo_points <= 1 || ! talent.the_rotten.enabled ) || cooldown.flagellation.remains > 10 || cooldown.flagellation.up & combo_points >= 5 )",
								["action"] = "symbols_of_death",
								["description"] = "Use Symbols on cooldown (after first SnD) unless we are going to pop Tornado and do not have Shadow Focus.",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "marked_for_death",
								["line_cd"] = "1.5",
								["cycle_targets"] = 1,
								["criteria"] = "raid_event.adds.up & ( target.time_to_die < combo_points.deficit || ! stealthed.all & combo_points.deficit >= cp_max_spend )",
								["description"] = "If adds are up, snipe the one with lowest TTD. Use when dying faster than CP deficit or not stealthed without any CP.",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 30 - raid_event.adds.duration & combo_points.deficit >= cp_max_spend",
								["action"] = "marked_for_death",
								["description"] = "If no adds will die within the next 30s, use MfD on boss without any CP.",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "variable.snd_condition & combo_points.deficit >= 2 & target.time_to_die >= 10 & ( dot.sepsis.ticking || cooldown.sepsis.remains <= 8 || ! talent.sepsis.enabled ) || boss & fight_remains <= 20",
								["action"] = "shadow_blades",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "variable.snd_condition & combo_points.deficit >= 3 & ( variable.priority_rotation || spell_targets.shuriken_storm <= 4 || talent.resounding_clarity.enabled ) & ( buff.shadow_dance.up || ! talent.danse_macabre.enabled )",
								["action"] = "echoing_reprimand",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "variable.snd_condition & buff.symbols_of_death.up & combo_points <= 2 & ( ! buff.premeditation.up || spell_targets.shuriken_storm > 4 )",
								["action"] = "shuriken_tornado",
								["description"] = "With SF, if not already done, use Tornado with SoD up.",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.shadow_dance.ready & ! stealthed.all & spell_targets.shuriken_storm >= 3 & ! talent.flagellation.enabled",
								["action"] = "shuriken_tornado",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "! buff.shadow_dance.up & boss & fight_remains <= 8 + talent.subterfuge.enabled",
								["action"] = "shadow_dance",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "( cooldown.symbols_of_death.remains >= 3 || buff.symbols_of_death.up ) & ! buff.thistle_tea.up & ( energy.deficit >= 100 & ( combo_points.deficit >= 2 || spell_targets.shuriken_storm >= 3 ) || cooldown.thistle_tea.charges_fractional >= 2.75 & buff.shadow_dance.up ) || buff.shadow_dance.remains >= 4 & ! buff.thistle_tea.up & spell_targets.shuriken_storm >= 3 || ! buff.thistle_tea.up & fight_remains <= ( 6 * cooldown.thistle_tea.charges )",
								["action"] = "thistle_tea",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.react || boss & fight_remains < 30 || buff.symbols_of_death.up & ( buff.shadow_blades.up || cooldown.shadow_blades.remains <= 10 )",
								["action"] = "potion",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.symbols_of_death.up",
								["action"] = "blood_fury",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "buff.symbols_of_death.up",
								["action"] = "berserking",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "buff.symbols_of_death.up",
								["action"] = "fireblood",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "buff.symbols_of_death.up",
								["action"] = "ancestral_call",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["name"] = "beacon_to_the_beyond",
								["criteria"] = "! stealthed.all & ( buff.deeper_daggers.up || ! talent.deeper_daggers.enabled ) & ( ! raid_event.adds.up || ! equipped.stormeaters_boon || cooldown.stormeaters_boon.remains > 20 )",
							}, -- [24]
							{
								["enabled"] = true,
								["action"] = "manic_grieftorch",
								["use_off_gcd"] = 1,
								["name"] = "manic_grieftorch",
								["criteria"] = "! stealthed.all & ( ! raid_event.adds.up || ! equipped.stormeaters_boon || cooldown.stormeaters_boon.remains > 20 )",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "! stealthed.all || boss & fight_remains < 20",
								["action"] = "use_items",
								["description"] = "Default fallback for usable items: Use with Symbols of Death.",
							}, -- [26]
						},
						["stealth_cds"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.shadow_dance.charges_fractional >= 0.75 + talent.shadow_dance.enabled",
								["description"] = "Stealth Cooldowns  Helper Variable",
								["var_name"] = "shd_threshold",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! buff.the_rotten.up || spell_targets.shuriken_storm > 1 || combo_points <= 2 & buff.the_rotten.up & ! set_bonus.tier30_2pc",
								["var_name"] = "rotten_threshold",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.danse_macabre.enabled || spell_targets.shuriken_storm >= 3 ) & ! variable.shd_threshold & combo_points.deficit > 1 & ( cooldown.flagellation.remains >= 60 || ! talent.flagellation.enabled || fight_remains <= ( 30 * cooldown.vanish.charges ) )",
								["action"] = "vanish",
							}, -- [3]
							{
								["enabled"] = true,
								["for_next"] = 1,
								["description"] = "Pool for Shadowmeld + Shadowstrike unless we are about to cap on Dance charges. Only when Find Weakness is about to run out.",
								["criteria"] = "race.night_elf",
								["extra_amount"] = "40",
								["action"] = "pool_resource",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "energy >= 40 & energy.deficit >= 10 & ! variable.shd_threshold & combo_points.deficit > 4",
								["action"] = "shadowmeld",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "combo_points <= 1",
								["description"] = "CP thresholds for entering Shadow Dance Default to start dance with 0 or 1 combo point",
								["var_name"] = "shd_combo_points",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "shd_combo_points",
								["criteria"] = "spell_targets.shuriken_storm > ( 4 - 2 * talent.shuriken_tornado.enabled ) || variable.priority_rotation & spell_targets.shuriken_storm >= 4",
								["description"] = "Use stealth cooldowns with high combo points when playing shuriken tornado or with high target counts",
								["value"] = "combo_points.deficit <= 1",
							}, -- [7]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "shd_combo_points",
								["criteria"] = "spell_targets.shuriken_storm = ( 4 - talent.seal_fate.enabled )",
								["description"] = "Use stealth cooldowns on any combo point on 4 targets",
								["value"] = "1",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( variable.shd_combo_points & ( ! talent.shadow_dance.enabled & buff.symbols_of_death.remains >= ( 2.2 - talent.flagellation.enabled ) || variable.shd_threshold ) || talent.shadow_dance.enabled & cooldown.secret_technique.remains <= 9 & ( spell_targets.shuriken_storm <= 3 || talent.danse_macabre.enabled ) || buff.flagellation.up || buff.flagellation_persist.remains >= 6 || spell_targets.shuriken_storm >= 4 & cooldown.symbols_of_death.remains > 10 ) & variable.rotten_threshold",
								["action"] = "shadow_dance",
								["description"] = "Dance during Symbols or above threshold.",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "variable.shd_combo_points & fight_remains < cooldown.symbols_of_death.remains || ! talent.shadow_dance.enabled & dot.rupture.ticking & spell_targets.shuriken_storm <= 4 & variable.rotten_threshold",
								["action"] = "shadow_dance",
								["description"] = "Burn Dances charges if before the fight ends if SoD won't be ready in time.",
							}, -- [10]
						},
						["finish"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.premeditation.enabled & spell_targets.shuriken_storm < 5",
								["description"] = "Finishers  While using Premeditation, avoid casting Slice and Dice when Shadow Dance is soon to be used, except for Kyrian",
								["var_name"] = "premed_snd_condition",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.shadow_dance.up & ( buff.danse_macabre.stack >= 3 || ! talent.danse_macabre.enabled ) & ( ! buff.premeditation.up || spell_targets.shuriken_storm != 2 )",
								["var_name"] = "secret_condition",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! variable.premed_snd_condition & spell_targets.shuriken_storm < 6 & ! buff.shadow_dance.up & buff.slice_and_dice.remains < fight_remains & refreshable",
								["action"] = "slice_and_dice",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "variable.premed_snd_condition & cooldown.shadow_dance.charges_fractional < 1.75 & buff.slice_and_dice.remains < cooldown.symbols_of_death.remains & ( cooldown.shadow_dance.ready & buff.symbols_of_death.remains - buff.shadow_dance.remains < 1.2 )",
								["action"] = "slice_and_dice",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.thistle_tea.up & spell_targets.shuriken_storm = 1 || buff.shadow_dance.up & ( spell_targets.shuriken_storm = 1 || ( active_dot.rupture > 0 || target.time_to_die < 15 ) & spell_targets.shuriken_storm >= 2 )",
								["var_name"] = "skip_rupture",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( ! variable.skip_rupture || variable.priority_rotation ) & target.time_to_die - remains > 6 & refreshable",
								["action"] = "rupture",
								["description"] = "Keep up Rupture if it is about to run out.",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! variable.skip_rupture & buff.finality_rupture.up & cooldown.shadow_dance.remains < 12 & cooldown.shadow_dance.charges_fractional <= 1 & spell_targets.shuriken_storm = 1 & ( talent.dark_brew.enabled || talent.danse_macabre.enabled )",
								["action"] = "rupture",
								["description"] = "Refresh Rupture early for Finality",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "variable.secret_condition & cooldown.secret_technique.ready",
								["action"] = "cold_blood",
								["description"] = "Sync Cold Blood with Secret Technique when possible",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "variable.secret_condition & ( ! talent.cold_blood.enabled || cooldown.cold_blood.remains > buff.shadow_dance.remains - 2 )",
								["action"] = "secret_technique",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "rupture",
								["cycle_targets"] = 1,
								["criteria"] = "! variable.skip_rupture & ! variable.priority_rotation & spell_targets.shuriken_storm >= 2 & target.time_to_die >= ( 2 * combo_points ) & refreshable",
								["description"] = "Multidotting targets that will live for the duration of Rupture, refresh during pandemic.",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "! variable.skip_rupture & remains < cooldown.symbols_of_death.remains + 10 & cooldown.symbols_of_death.remains <= 5 & target.time_to_die - remains > cooldown.symbols_of_death.remains + 5",
								["action"] = "rupture",
								["description"] = "Refresh Rupture early if it will expire during Symbols. Do that refresh if SoD gets ready in the next 5s.",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "! variable.priority_rotation & spell_targets >= 3 || ! used_for_danse & buff.shadow_dance.up & spell_targets.shuriken_storm = 2 & talent.danse_macabre.enabled",
								["action"] = "black_powder",
							}, -- [12]
							{
								["action"] = "eviscerate",
								["enabled"] = true,
							}, -- [13]
						},
					},
					["version"] = 20230603,
					["warnings"] = "The import for 'stealthed' required some automated changes.\nLine 2: Converted 'talent.lingering_shadow' to 'talent.lingering_shadow.enabled' (1x).\nLine 3: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 5: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 8: Converted 'talent.seal_fate' to 'talent.seal_fate.enabled' (1x).\nLine 9: Converted 'talent.seal_fate' to 'talent.seal_fate.enabled' (1x).\nLine 9: Converted 'talent.deeper_stratagem' to 'talent.deeper_stratagem.enabled' (1x).\nLine 9: Converted 'talent.secret_stratagem' to 'talent.secret_stratagem.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 7: Converted 'time_to_sht.4.plus' to 'time_to_sht_plus.4' (1x).\nLine 13: Converted 'talent.seal_fate' to 'talent.seal_fate.enabled' (1x).\n\nThe import for 'finish' required some automated changes.\nLine 2: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 7: Converted 'talent.dark_brew' to 'talent.dark_brew.enabled' (1x).\nLine 7: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 9: Converted 'talent.cold_blood' to 'talent.cold_blood.enabled' (1x).\nLine 12: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 1: Converted 'talent.the_rotten' to 'talent.the_rotten.enabled' (1x).\nLine 4: Converted 'talent.secret_technique' to 'talent.secret_technique.enabled' (1x).\nLine 5: Converted 'talent.secret_technique' to 'talent.secret_technique.enabled' (1x).\nLine 10: Converted 'talent.flagellation' to 'talent.flagellation.enabled' (1x).\nLine 10: Converted 'talent.the_rotten' to 'talent.the_rotten.enabled' (1x).\nLine 13: Converted 'talent.sepsis' to 'talent.sepsis.enabled' (1x).\nLine 14: Converted 'talent.resounding_clarity' to 'talent.resounding_clarity.enabled' (1x).\nLine 14: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 24: Converted 'talent.deeper_daggers' to 'talent.deeper_daggers.enabled' (1x).\nLine 24: Converted 'trinket.stormeaters_boon.cooldown.remains' to 'cooldown.stormeaters_boon.remains'.\nLine 25: Converted 'trinket.stormeaters_boon.cooldown.remains' to 'cooldown.stormeaters_boon.remains'.\n\nThe import for 'stealth_cds' required some automated changes.\nLine 1: Converted 'talent.shadow_dance' to 'talent.shadow_dance.enabled' (1x).\nLine 3: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 3: Converted 'talent.flagellation' to 'talent.flagellation.enabled' (1x).\nLine 8: Converted 'talent.seal_fate' to 'talent.seal_fate.enabled' (1x).\nLine 9: Converted 'talent.shadow_dance' to 'talent.shadow_dance.enabled' (1x).\nLine 9: Converted 'talent.shadow_dance' to 'talent.shadow_dance.enabled' (1x).\nLine 9: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 10: Converted 'talent.shadow_dance' to 'talent.shadow_dance.enabled' (1x).\n\nThe import for 'build' required some automated changes.\nLine 1: Converted 'talent.gloomblade' to 'talent.gloomblade.enabled' (1x).\nLine 2: Converted 'time_to_sht.3.plus' to 'time_to_sht_plus.3' (1x).\nLine 2: Converted 'time_to_sht.4.plus' to 'time_to_sht_plus.4' (1x).\n\nImported 7 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/apply_poison\nactions.precombat+=/use_item,name=algethar_puzzle_box\nactions.precombat+=/stealth\nactions.precombat+=/marked_for_death,precombat_seconds=15\nactions.precombat+=/slice_and_dice,precombat_seconds=1,if=refreshable\n\n# Restealth if possible (no vulnerable enemies in combat)\nactions+=/stealth\n# Interrupt on cooldown to allow simming interactions with that\nactions+=/kick\n# Dispel Enrages with Shiv.\nactions+=/shiv,if=debuff.dispellable_enrage.up\n# Used to determine whether cooldowns wait for SnD based on targets.\nactions+=/variable,name=snd_condition,value=buff.slice_and_dice.up||spell_targets.shuriken_storm>=cp_max_spend\n# Check to see if the next CP (in the event of a ShT proc) is Animacharged\nactions+=/variable,name=is_next_cp_animacharged,if=talent.echoing_reprimand.enabled,value=combo_points=1&buff.echoing_reprimand_2.up||combo_points=2&buff.echoing_reprimand_3.up||combo_points=3&buff.echoing_reprimand_4.up||combo_points=4&buff.echoing_reprimand_5.up\n# Account for ShT reaction time by ignoring low-CP animacharged matches in the 0.5s preceeding a potential ShT proc\nactions+=/variable,name=effective_combo_points,value=effective_combo_points\nactions+=/variable,name=effective_combo_points,if=talent.echoing_reprimand.enabled&effective_combo_points>combo_points&combo_points.deficit>2&time_to_sht.4.plus<0.5&!variable.is_next_cp_animacharged,value=combo_points\n# Check CDs at first\nactions+=/call_action_list,name=cds\n# Apply Slice and Dice at 4+ CP if it expires within the next GCD or is not up\nactions+=/slice_and_dice,if=spell_targets.shuriken_storm<cp_max_spend&buff.slice_and_dice.remains<gcd.max&fight_remains>6&combo_points>=4\n# Run fully switches to the Stealthed Rotation (by doing so, it forces pooling if nothing is available).\nactions+=/run_action_list,name=stealthed,strict=1,if=stealthed.all\n## Only change rotation if we have priority_rotation set.\n## actions+=/variable,name=priority_rotation,value=priority_rotation\n# Used to define when to use stealth CDs or builders\nactions+=/variable,name=stealth_threshold,value=25+talent.vigor.enabled*20+talent.master_of_shadows.enabled*20+talent.shadow_focus.enabled*25+talent.alacrity.enabled*20+25*(spell_targets.shuriken_storm>=4)\n# Consider using a Stealth CD when reaching the energy threshold\nactions+=/call_action_list,name=stealth_cds,if=energy.deficit<=variable.stealth_threshold\n# Finish at maximum or close to maximum combo point value or at 4+ against 4 targets (outside stealth)\nactions+=/call_action_list,name=finish,strict=1,if=variable.effective_combo_points>=cp_max_spend||combo_points.deficit<=1+buff.the_rotten.up||boss&fight_remains<=1&variable.effective_combo_points>=3||spell_targets.shuriken_storm>=(4-talent.seal_fate)&variable.effective_combo_points>=4\n# Use a builder when reaching the energy threshold\nactions+=/call_action_list,name=build,if=energy.deficit<=variable.stealth_threshold\n# Lowest priority in all of the APL because it causes a GCD\nactions+=/arcane_torrent,if=energy.deficit>=15+energy.regen\nactions+=/arcane_pulse\nactions+=/lights_judgment\nactions+=/bag_of_tricks\n\n# Builders\nactions.build+=/shuriken_storm,if=spell_targets>=2+(talent.gloomblade&buff.lingering_shadow.remains>=6||buff.perforated_veins.up)\n# Build immediately unless the next CP is Animacharged and we won't cap energy waiting for it.\nactions.build+=/variable,name=anima_helper,value=!talent.echoing_reprimand.enabled||!(variable.is_next_cp_animacharged&(time_to_sht.3.plus<0.5||time_to_sht.4.plus<1)&energy<60)\nactions.build+=/gloomblade,if=variable.anima_helper\nactions.build+=/backstab,if=variable.anima_helper\n\n# Cooldowns\nactions.cds+=/variable,name=rotten_condition,value=!buff.premeditation.up&spell_targets.shuriken_storm=1||!talent.the_rotten||spell_targets.shuriken_storm>1\n# Use Dance off-gcd before the first Shuriken Storm from Tornado comes in.\nactions.cds+=/shadow_dance,use_off_gcd=1,if=!buff.shadow_dance.up&buff.shuriken_tornado.up&buff.shuriken_tornado.remains<=3.5\n# (Unless already up because we took Shadow Focus) use Symbols off-gcd before the first Shuriken Storm from Tornado comes in.\nactions.cds+=/symbols_of_death,use_off_gcd=1,if=buff.shuriken_tornado.up&buff.shuriken_tornado.remains<=3.5\n# Vanish for Shadowstrike with Danse Macabre at adaquate stacks\nactions.cds+=/vanish,if=buff.danse_macabre.stack>3&combo_points<=2&(cooldown.secret_technique.remains>=30||!talent.secret_technique)\n# Cold Blood on 5 combo points when not playing Secret Technique\nactions.cds+=/cold_blood,if=!talent.secret_technique&combo_points>=5\nactions.cds+=/flagellation,cycle_targets=1,if=variable.snd_condition&combo_points>=5&target.time_to_die>10\n# Pool for Tornado pre-SoD with ShD ready when not running SF.\nactions.cds+=/pool_resource,for_next=1,if=talent.shuriken_tornado.enabled&!talent.shadow_focus.enabled\n# Use Tornado pre SoD when we have the energy whether from pooling without SF or just generally.\nactions.cds+=/shuriken_tornado,if=spell_targets.shuriken_storm<=1&energy>=60&variable.snd_condition&cooldown.symbols_of_death.up&cooldown.shadow_dance.charges>=1&(!talent.flagellation.enabled&!cooldown.flagellation.up||buff.flagellation_buff.up||spell_targets.shuriken_storm>=5)&combo_points<=2&!buff.premeditation.up\nactions.cds+=/sepsis,if=variable.snd_condition&combo_points.deficit>=1&target.time_to_die>=16\n# Use Symbols on cooldown (after first SnD) unless we are going to pop Tornado and do not have Shadow Focus.\nactions.cds+=/symbols_of_death,if=(buff.symbols_of_death.remains<=3&!cooldown.shadow_dance.ready||!set_bonus.tier30_2pc)&variable.rotten_condition&variable.snd_condition&(!talent.flagellation&(combo_points<=1||!talent.the_rotten)||cooldown.flagellation.remains>10||cooldown.flagellation.up&combo_points>=5)\n# If adds are up, snipe the one with lowest TTD. Use when dying faster than CP deficit or not stealthed without any CP.\nactions.cds+=/marked_for_death,line_cd=1.5,cycle_targets=1,if=raid_event.adds.up&(target.time_to_die<combo_points.deficit||!stealthed.all&combo_points.deficit>=cp_max_spend)\n# If no adds will die within the next 30s, use MfD on boss without any CP.\nactions.cds+=/marked_for_death,if=raid_event.adds.in>30-raid_event.adds.duration&combo_points.deficit>=cp_max_spend\nactions.cds+=/shadow_blades,if=variable.snd_condition&combo_points.deficit>=2&target.time_to_die>=10&(dot.sepsis.ticking||cooldown.sepsis.remains<=8||!talent.sepsis)||boss&fight_remains<=20\nactions.cds+=/echoing_reprimand,if=variable.snd_condition&combo_points.deficit>=3&(variable.priority_rotation||spell_targets.shuriken_storm<=4||talent.resounding_clarity)&(buff.shadow_dance.up||!talent.danse_macabre)\n# With SF, if not already done, use Tornado with SoD up.\nactions.cds+=/shuriken_tornado,if=variable.snd_condition&buff.symbols_of_death.up&combo_points<=2&(!buff.premeditation.up||spell_targets.shuriken_storm>4)\nactions.cds+=/shuriken_tornado,if=cooldown.shadow_dance.ready&!stealthed.all&spell_targets.shuriken_storm>=3&!talent.flagellation.enabled\nactions.cds+=/shadow_dance,if=!buff.shadow_dance.up&boss&fight_remains<=8+talent.subterfuge.enabled\nactions.cds+=/thistle_tea,if=(cooldown.symbols_of_death.remains>=3||buff.symbols_of_death.up)&!buff.thistle_tea.up&(energy.deficit>=100&(combo_points.deficit>=2||spell_targets.shuriken_storm>=3)||cooldown.thistle_tea.charges_fractional>=2.75&buff.shadow_dance.up)||buff.shadow_dance.remains>=4&!buff.thistle_tea.up&spell_targets.shuriken_storm>=3||!buff.thistle_tea.up&fight_remains<=(6*cooldown.thistle_tea.charges)\nactions.cds+=/potion,if=buff.bloodlust.react||boss&fight_remains<30||buff.symbols_of_death.up&(buff.shadow_blades.up||cooldown.shadow_blades.remains<=10)\nactions.cds+=/blood_fury,if=buff.symbols_of_death.up\nactions.cds+=/berserking,if=buff.symbols_of_death.up\nactions.cds+=/fireblood,if=buff.symbols_of_death.up\nactions.cds+=/ancestral_call,if=buff.symbols_of_death.up\nactions.cds+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=!stealthed.all&(buff.deeper_daggers.up||!talent.deeper_daggers)&(!raid_event.adds.up||!equipped.stormeaters_boon||trinket.stormeaters_boon.cooldown.remains>20)\nactions.cds+=/use_item,name=manic_grieftorch,use_off_gcd=1,if=!stealthed.all&(!raid_event.adds.up||!equipped.stormeaters_boon||trinket.stormeaters_boon.cooldown.remains>20)\n# Default fallback for usable items: Use with Symbols of Death.\nactions.cds+=/use_items,if=!stealthed.all||boss&fight_remains<20\n\n# Finishers  While using Premeditation, avoid casting Slice and Dice when Shadow Dance is soon to be used, except for Kyrian\nactions.finish+=/variable,name=premed_snd_condition,value=talent.premeditation.enabled&spell_targets.shuriken_storm<5\nactions.finish+=/variable,name=secret_condition,value=buff.shadow_dance.up&(buff.danse_macabre.stack>=3||!talent.danse_macabre)&(!buff.premeditation.up||spell_targets.shuriken_storm!=2)\nactions.finish+=/slice_and_dice,if=!variable.premed_snd_condition&spell_targets.shuriken_storm<6&!buff.shadow_dance.up&buff.slice_and_dice.remains<fight_remains&refreshable\nactions.finish+=/slice_and_dice,if=variable.premed_snd_condition&cooldown.shadow_dance.charges_fractional<1.75&buff.slice_and_dice.remains<cooldown.symbols_of_death.remains&(cooldown.shadow_dance.ready&buff.symbols_of_death.remains-buff.shadow_dance.remains<1.2)\nactions.finish+=/variable,name=skip_rupture,value=buff.thistle_tea.up&spell_targets.shuriken_storm=1||buff.shadow_dance.up&(spell_targets.shuriken_storm=1||(active_dot.rupture>0||target.time_to_die<15)&spell_targets.shuriken_storm>=2)\n# Keep up Rupture if it is about to run out.\nactions.finish+=/rupture,if=(!variable.skip_rupture||variable.priority_rotation)&target.time_to_die-remains>6&refreshable\n# Refresh Rupture early for Finality\nactions.finish+=/rupture,if=!variable.skip_rupture&buff.finality_rupture.up&cooldown.shadow_dance.remains<12&cooldown.shadow_dance.charges_fractional<=1&spell_targets.shuriken_storm=1&(talent.dark_brew||talent.danse_macabre)\n# Sync Cold Blood with Secret Technique when possible\nactions.finish+=/cold_blood,if=variable.secret_condition&cooldown.secret_technique.ready\nactions.finish+=/secret_technique,if=variable.secret_condition&(!talent.cold_blood||cooldown.cold_blood.remains>buff.shadow_dance.remains-2)\n# Multidotting targets that will live for the duration of Rupture, refresh during pandemic.\nactions.finish+=/rupture,cycle_targets=1,if=!variable.skip_rupture&!variable.priority_rotation&spell_targets.shuriken_storm>=2&target.time_to_die>=(2*combo_points)&refreshable\n# Refresh Rupture early if it will expire during Symbols. Do that refresh if SoD gets ready in the next 5s.\nactions.finish+=/rupture,if=!variable.skip_rupture&remains<cooldown.symbols_of_death.remains+10&cooldown.symbols_of_death.remains<=5&target.time_to_die-remains>cooldown.symbols_of_death.remains+5\nactions.finish+=/black_powder,if=!variable.priority_rotation&spell_targets>=3||!used_for_danse&buff.shadow_dance.up&spell_targets.shuriken_storm=2&talent.danse_macabre\nactions.finish+=/eviscerate\n\n# Stealth Cooldowns  Helper Variable\nactions.stealth_cds+=/variable,name=shd_threshold,value=cooldown.shadow_dance.charges_fractional>=0.75+talent.shadow_dance\nactions.stealth_cds+=/variable,name=rotten_threshold,value=!buff.the_rotten.up||spell_targets.shuriken_storm>1||combo_points<=2&buff.the_rotten.up&!set_bonus.tier30_2pc\nactions.stealth_cds+=/vanish,if=(!talent.danse_macabre||spell_targets.shuriken_storm>=3)&!variable.shd_threshold&combo_points.deficit>1&(cooldown.flagellation.remains>=60||!talent.flagellation||fight_remains<=(30*cooldown.vanish.charges))\n# Pool for Shadowmeld + Shadowstrike unless we are about to cap on Dance charges. Only when Find Weakness is about to run out.\nactions.stealth_cds+=/pool_resource,for_next=1,extra_amount=40,if=race.night_elf\nactions.stealth_cds+=/shadowmeld,if=energy>=40&energy.deficit>=10&!variable.shd_threshold&combo_points.deficit>4\n# CP thresholds for entering Shadow Dance Default to start dance with 0 or 1 combo point\nactions.stealth_cds+=/variable,name=shd_combo_points,value=combo_points<=1\n# Use stealth cooldowns with high combo points when playing shuriken tornado or with high target counts\nactions.stealth_cds+=/variable,name=shd_combo_points,value=combo_points.deficit<=1,if=spell_targets.shuriken_storm>(4-2*talent.shuriken_tornado.enabled)||variable.priority_rotation&spell_targets.shuriken_storm>=4\n# Use stealth cooldowns on any combo point on 4 targets\nactions.stealth_cds+=/variable,name=shd_combo_points,value=1,if=spell_targets.shuriken_storm=(4-talent.seal_fate)\n# Dance during Symbols or above threshold.\nactions.stealth_cds+=/shadow_dance,if=(variable.shd_combo_points&(!talent.shadow_dance&buff.symbols_of_death.remains>=(2.2-talent.flagellation.enabled)||variable.shd_threshold)||talent.shadow_dance&cooldown.secret_technique.remains<=9&(spell_targets.shuriken_storm<=3||talent.danse_macabre)||buff.flagellation.up||buff.flagellation_persist.remains>=6||spell_targets.shuriken_storm>=4&cooldown.symbols_of_death.remains>10)&variable.rotten_threshold\n# Burn Dances charges if before the fight ends if SoD won't be ready in time.\nactions.stealth_cds+=/shadow_dance,if=variable.shd_combo_points&fight_remains<cooldown.symbols_of_death.remains||!talent.shadow_dance&dot.rupture.ticking&spell_targets.shuriken_storm<=4&variable.rotten_threshold\n\n# Stealthed Rotation  If Stealth/vanish are up, use Shadowstrike to benefit from the passive bonus and Find Weakness, even if we are at max CP (unless using Master Assassin)\nactions.stealthed+=/shadowstrike,if=(buff.stealth.up||buff.vanish.up)&(spell_targets.shuriken_storm<4||variable.priority_rotation)\n# Variable to Gloomblade / Backstab when on 4 or 5 combo points with premediation and when the combo point is not anima charged\nactions.stealthed+=/variable,name=gloomblade_condition,value=buff.danse_macabre.stack<5&(combo_points.deficit=2||combo_points.deficit=3)&(buff.premeditation.up||effective_combo_points<7)&(spell_targets.shuriken_storm<=8||talent.lingering_shadow)\nactions.stealthed+=/shuriken_storm,if=variable.gloomblade_condition&buff.silent_storm.up&!debuff.find_weakness.remains&talent.improved_shuriken_storm.enabled||combo_points<=1&!used_for_danse&spell_targets.shuriken_storm=2&talent.danse_macabre\nactions.stealthed+=/gloomblade,if=variable.gloomblade_condition&(!used_for_danse||spell_targets.shuriken_storm!=2)||combo_points<=2&buff.the_rotten.up&spell_targets.shuriken_storm<=3\nactions.stealthed+=/backstab,if=variable.gloomblade_condition&talent.danse_macabre&buff.danse_macabre.stack<=2&spell_targets.shuriken_storm<=2\nactions.stealthed+=/call_action_list,name=finish,strict=1,if=variable.effective_combo_points>=cp_max_spend\n# Finish earlier with Shuriken tornado up.\nactions.stealthed+=/call_action_list,name=finish,strict=1,if=buff.shuriken_tornado.up&combo_points.deficit<=2\n# Also safe to finish at 4+ CP with exactly 4 targets. (Same as outside stealth.)\nactions.stealthed+=/call_action_list,name=finish,strict=1,if=spell_targets.shuriken_storm>=4-talent.seal_fate&variable.effective_combo_points>=4\n# Finish at lower combo points if you are talented in DS, SS or Seal Fate\nactions.stealthed+=/call_action_list,name=finish,strict=1,if=combo_points.deficit<=1+(talent.seal_fate||talent.deeper_stratagem||talent.secret_stratagem)\n# Use Gloomblade or Backstab when close to hitting max PV stacks\nactions.stealthed+=/gloomblade,if=buff.perforated_veins.stack>=5&spell_targets.shuriken_storm<3\nactions.stealthed+=/backstab,if=buff.perforated_veins.stack>=5&spell_targets.shuriken_storm<3\nactions.stealthed+=/shadowstrike,if=stealthed.sepsis&spell_targets.shuriken_storm<4\nactions.stealthed+=/shuriken_storm,if=spell_targets>=3+buff.the_rotten.up&(!buff.premeditation.up||spell_targets>=7&!variable.priority_rotation)\n# Shadowstrike to refresh Find Weakness and to ensure we can carry over a full FW into the next SoD if possible.\nactions.stealthed+=/shadowstrike,if=debuff.find_weakness.remains<=1||cooldown.symbols_of_death.remains<18&debuff.find_weakness.remains<cooldown.symbols_of_death.remains\nactions.stealthed+=/shadowstrike",
				},
				["Preservation"] = {
					["builtIn"] = true,
					["date"] = 20230205,
					["author"] = "Hekili",
					["profile"] = "actions.precombat+=/blessing_of_the_bronze\n\nactions+=/quell\nactions+=/cauterizing_flame\nactions+=/unravel\nactions+=/deep_breath\nactions+=/potion\nactions+=/use_items\nactions+=/fire_breath,empower_to=1,if=fight_remains>14+cast_time\nactions+=/fire_breath,empower_to=2,if=fight_remains>8+cast_time\nactions+=/fire_breath,empower_to=3,if=fight_remains>2+cast_time\nactions+=/fire_breath,empower_to=4,if=fight_remains>cast_time\nactions+=/hover,if=moving\nactions+=/disintegrate,if=buff.essence_burst.up&(!moving||buff.hover.remains>cast_time)\nactions+=/living_flame,if=!moving||buff.hover.remains>cast_time\nactions+=/azure_strike,if=moving&buff.hover.down",
					["version"] = 20230205,
					["warnings"] = "Imported 2 action lists.\n",
					["lists"] = {
						["default"] = {
							{
								["action"] = "quell",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "cauterizing_flame",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "unravel",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "deep_breath",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains > 14 + cast_time",
								["action"] = "fire_breath",
								["empower_to"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains > 8 + cast_time",
								["action"] = "fire_breath",
								["empower_to"] = 2,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains > 2 + cast_time",
								["action"] = "fire_breath",
								["empower_to"] = 3,
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains > cast_time",
								["action"] = "fire_breath",
								["empower_to"] = 4,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "moving",
								["action"] = "hover",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.essence_burst.up & ( ! moving || buff.hover.remains > cast_time )",
								["action"] = "disintegrate",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "! moving || buff.hover.remains > cast_time",
								["action"] = "living_flame",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "moving & buff.hover.down",
								["action"] = "azure_strike",
							}, -- [14]
						},
						["precombat"] = {
							{
								["action"] = "blessing_of_the_bronze",
								["enabled"] = true,
							}, -- [1]
						},
					},
					["spec"] = 1468,
				},
				["Enhancement"] = {
					["source"] = "https://github.com/simulationcraft/simc/blob/dragonflight/engine/class_modules/sc_shaman.cpp",
					["builtIn"] = true,
					["date"] = 20230808,
					["spec"] = 263,
					["desc"] = "2023-08-08: Add Funnel option and priority from SimC.\n\n2023-07-11: Patch 10.1.5 update.\n\n2023-07-02: Assume Flame Shocks on other targets are potentially out of range; manually apply Flame Shock after target swapping, if needed.\n\n2023-06-26: Updates to Ice Strike / Frost Shock.\n\n2023-05-30: Update Lava Lash usage with Ashen Catalyst.\n\n2023-05-20: Updates to trinkets.\n\n2023-05-14: Fix premature Lightning Bolt with PWave in AOE.\n\n2023-05-12: Add alpha_wolf_min_remains and Flame Shock if PWave is on CD.\n\n2023-05-06: More incremental SimC updates.\n\n2023-05-02: More incremental SimC updates.\n\n2023-04-30: More SimC updates.\n\n2023-04-29: Additional SimC updates.\n\n2023-04-26: Update from SimulationCraft for 10.1.\n\n2023-03-05:  In multi-target scenarios, filler Flame Shock should only be used if Flame Shock is refreshable.",
					["lists"] = {
						["single"] = {
							{
								["enabled"] = true,
								["criteria"] = "! dot.flame_shock.ticking & talent.lashing_flames.enabled & ( raid_event.adds.in > 42 || raid_event.adds.in < 6 )",
								["action"] = "primordial_wave",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! ticking & talent.lashing_flames.enabled",
								["action"] = "flame_shock",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & talent.elemental_spirits.enabled & feral_spirit.active >= 4",
								["action"] = "elemental_blast",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc & raid_event.adds.in >= 40",
								["action"] = "sundering",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.crackling_thunder.down & buff.ascendance.up & ti_chain_lightning & ( buff.ascendance.remains > ( cooldown.strike.remains + gcd.max ) )",
								["action"] = "lightning_bolt",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack >= 1 & ( talent.deeply_rooted_elements.enabled || ( talent.stormblast.enabled & buff.stormbringer.up ) || ( talent.elemental_assault.enabled & talent.stormflurry.enabled ) || ti_lightning_bolt )",
								["action"] = "windstrike",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || talent.deeply_rooted_elements.enabled || ( talent.stormblast.enabled & buff.stormbringer.up ) || ( ( talent.elemental_assault.enabled & talent.stormflurry.enabled ) & buff.maelstrom_weapon.stack < buff.maelstrom_weapon.max_stack )",
								["action"] = "stormstrike",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_hand.up",
								["action"] = "lava_lash",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! buff.windfury_totem.up",
								["action"] = "windfury_totem",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & charges = max_charges",
								["action"] = "elemental_blast",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.primordial_wave.up & ( buff.primordial_wave.remains < 1.5 * gcd.max || raid_event.adds.in > buff.primordial_wave.remains & ( ! buff.splintered_elements.up || boss & fight_remains <= 12 ) )",
								["action"] = "lightning_bolt",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.crackling_thunder.up & talent.elemental_spirits.enabled",
								["action"] = "chain_lightning",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.crackling_thunder.down & buff.ascendance.up & ti_chain_lightning",
								["action"] = "lightning_bolt",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ( buff.feral_spirit.up || ! talent.elemental_spirits.enabled )",
								["action"] = "elemental_blast",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "! talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack >= 5",
								["action"] = "lava_burst",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "( ( buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack ) || ( talent.static_accumulation.enabled & buff.maelstrom_weapon.stack >= 5 ) ) & buff.primordial_wave.down",
								["action"] = "lightning_bolt",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up",
								["action"] = "ice_strike",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up & raid_event.adds.in >= 40",
								["action"] = "sundering",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 )",
								["action"] = "crash_lightning",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 42 || raid_event.adds.in < 6",
								["action"] = "primordial_wave",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "flame_shock",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & dot.flame_shock.refreshable",
								["action"] = "lava_lash",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "! buff.ice_strike.up",
								["action"] = "ice_strike",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "buff.hailstorm.up",
								["action"] = "frost_shock",
							}, -- [24]
							{
								["action"] = "lava_lash",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "ice_strike",
								["enabled"] = true,
							}, -- [26]
							{
								["action"] = "windstrike",
								["enabled"] = true,
							}, -- [27]
							{
								["action"] = "stormstrike",
								["enabled"] = true,
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in >= 40",
								["action"] = "sundering",
							}, -- [29]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "talent.swirling_maelstrom.enabled & active_dot.flame_shock & buff.maelstrom_weapon.stack < buff.maelstrom_weapon.max_stack",
								["action"] = "fire_nova",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & buff.maelstrom_weapon.stack >= 5 & buff.primordial_wave.down",
								["action"] = "lightning_bolt",
							}, -- [32]
							{
								["action"] = "frost_shock",
								["enabled"] = true,
							}, -- [33]
							{
								["action"] = "crash_lightning",
								["enabled"] = true,
							}, -- [34]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock",
								["action"] = "fire_nova",
							}, -- [35]
							{
								["action"] = "earth_elemental",
								["enabled"] = true,
							}, -- [36]
							{
								["enabled"] = true,
								["criteria"] = "settings.filler_shock",
								["action"] = "flame_shock",
							}, -- [37]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.primordial_wave.down",
								["action"] = "lightning_bolt",
							}, -- [38]
							{
								["enabled"] = true,
								["criteria"] = "buff.windfury_totem.remains < 30",
								["action"] = "windfury_totem",
							}, -- [39]
						},
						["funnel"] = {
							{
								["enabled"] = true,
								["criteria"] = "( active_dot.flame_shock >= active_enemies || active_dot.flame_shock = 6 ) & buff.primordial_wave.up & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! buff.splintered_elements.up || fight_remains <= 12 || raid_event.adds.remains <= gcd.max )",
								["action"] = "lightning_bolt",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( talent.molten_assault.enabled & dot.flame_shock.ticking & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6 ) || ( talent.ashen_catalyst.enabled & buff.ashen_catalyst.stack = buff.ashen_catalyst.max_stack )",
								["action"] = "lava_lash",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! buff.primordial_wave.up",
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( talent.primordial_wave.enabled || talent.fire_nova.enabled ) & ! ticking",
								["action"] = "flame_shock",
								["description"] = "In game, you might not have Primordial Wave ready on pull but you want Flame Shock out for LL, FN, and PWave when it comes available.  Also, existing Flame Shocks may not be close enough to spread.",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "elemental_blast",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack > 1 ) || buff.converging_storms.stack = buff.converging_storms.max_stack",
								["action"] = "windstrike",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.converging_storms.stack = buff.converging_storms.max_stack",
								["action"] = "stormstrike",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & buff.crackling_thunder.up",
								["action"] = "chain_lightning",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( buff.molten_weapon.stack + buff.volcanic_strength.up > buff.crackling_surge.stack ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "lava_burst",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "lightning_bolt",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || ! buff.crash_lightning.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 ) || ( talent.converging_storms.enabled & buff.converging_storms.stack < buff.converging_storms.max_stack )",
								["action"] = "crash_lightning",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || set_bonus.tier30_2pc",
								["action"] = "sundering",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock = 6 || ( active_dot.flame_shock >= 4 & active_dot.flame_shock >= cycle_enemies )",
								["action"] = "fire_nova",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & ! buff.ice_strike.up",
								["action"] = "ice_strike",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
								["action"] = "frost_shock",
							}, -- [15]
							{
								["action"] = "sundering",
								["enabled"] = true,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & ! ticking",
								["action"] = "flame_shock",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "( talent.fire_nova.enabled || talent.primordial_wave.enabled ) & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 3",
								["action"] = "fire_nova",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.crash_lightning.up & talent.deeply_rooted_elements.enabled",
								["action"] = "stormstrike",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "talent.crashing_storms.enabled & buff.cl_crash_lightning.up & active_enemies >= 4",
								["action"] = "crash_lightning",
							}, -- [21]
							{
								["action"] = "windstrike",
								["enabled"] = true,
							}, -- [22]
							{
								["action"] = "stormstrike",
								["enabled"] = true,
							}, -- [23]
							{
								["action"] = "ice_strike",
								["enabled"] = true,
							}, -- [24]
							{
								["action"] = "lava_lash",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "crash_lightning",
								["enabled"] = true,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 2",
								["action"] = "fire_nova",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack >= 5",
								["action"] = "elemental_blast",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "( buff.molten_weapon.stack + buff.volcanic_strength.up > buff.crackling_surge.stack ) & buff.maelstrom_weapon.stack >= 5",
								["action"] = "lava_burst",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5",
								["action"] = "lightning_bolt",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "buff.windfury_totem.remains < 30",
								["action"] = "windfury_totem",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "flame_shock",
							}, -- [32]
							{
								["enabled"] = true,
								["criteria"] = "! talent.hailstorm.enabled",
								["action"] = "frost_shock",
							}, -- [33]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "interrupt of casts.",
								["action"] = "wind_shear",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "settings.hostile_dispel",
								["action"] = "purge",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "settings.hostile_dispel",
								["action"] = "greater_purge",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & fight_remains <= 30 || ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled )",
								["action"] = "potion",
							}, -- [4]
							{
								["enabled"] = true,
								["use_off_gcd"] = 1,
								["action"] = "elementium_pocket_anvil",
								["name"] = "elementium_pocket_anvil",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "algethar_puzzle_box",
								["use_off_gcd"] = 1,
								["criteria"] = "( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || ( talent.ascendance.enabled & ( cooldown.ascendance.remains < 2 * action.stormstrike.gcd ) ) || boss & ( fight_remains % 180 <= 30 )",
								["name"] = "algethar_puzzle_box",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! variable.trinket1_is_weird & trinket.t1.has_use_buff & ( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % trinket.t1.cooldown.duration <= trinket.t1.buff.duration ) || ( variable.min_talented_cd_remains >= trinket.t1.cooldown.duration ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "trinket1",
								["slot"] = "trinket1",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "! variable.trinket2_is_weird & trinket.t2.has_use_buff & ( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % trinket.t2.cooldown.duration <= trinket.t2.buff.duration ) || ( variable.min_talented_cd_remains >= trinket.t2.cooldown.duration ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["criteria"] = "( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || boss & ( fight_remains % 150 <= 5 )",
								["name"] = "beacon_to_the_beyond",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "manic_grieftorch",
								["use_off_gcd"] = 1,
								["criteria"] = "( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || boss & ( fight_remains % 120 <= 5 )",
								["name"] = "manic_grieftorch",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "! variable.trinket1_is_weird & ! trinket.t1.has_use_buff",
								["action"] = "trinket1",
								["slot"] = "trinket1",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "! variable.trinket2_is_weird & ! trinket.t2.has_use_buff",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.blood_fury.cooldown <= action.blood_fury.duration ) || ( variable.min_talented_cd_remains >= action.blood_fury.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "blood_fury",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.berserking.cooldown <= action.berserking.duration ) || ( variable.min_talented_cd_remains >= action.berserking.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "berserking",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.fireblood.cooldown <= action.fireblood.duration ) || ( variable.min_talented_cd_remains >= action.fireblood.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "fireblood",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.ancestral_call.cooldown <= action.ancestral_call.duration ) || ( variable.min_talented_cd_remains >= action.ancestral_call.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "ancestral_call",
							}, -- [16]
							{
								["action"] = "feral_spirit",
								["enabled"] = true,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "dot.flame_shock.ticking & ( ( ti_lightning_bolt & active_enemies = 1 & raid_event.adds.in >= 90 ) || ( ti_chain_lightning & active_enemies > 1 ) )",
								["action"] = "ascendance",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in >= 90 || active_enemies > 1",
								["action"] = "doom_winds",
							}, -- [19]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies = 1",
								["list_name"] = "single",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 1 & ! funnel",
								["list_name"] = "aoe",
							}, -- [21]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 1 & funnel",
								["list_name"] = "funnel",
							}, -- [22]
						},
						["precombat"] = {
							{
								["action"] = "windfury_weapon",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "flametongue_weapon",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.lightning_shield.down & ( buff.earth_shield.down || talent.elemental_orbit.enabled )",
								["action"] = "lightning_shield",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.lightning_shield.up & buff.earth_shield.down & talent.elemental_orbit.enabled",
								["action"] = "earth_shield",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "project_windfury_totem",
								["action"] = "totemic_projection",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "time = 0 || buff.windfury_totem.down",
								["action"] = "windfury_totem",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t1.is.algethar_puzzle_box || trinket.t1.is.manic_grieftorch || trinket.t1.is.elementium_pocket_anvil || trinket.t1.is.beacon_to_the_beyond",
								["var_name"] = "trinket1_is_weird",
							}, -- [7]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t2.is.algethar_puzzle_box || trinket.t2.is.manic_grieftorch || trinket.t2.is.elementium_pocket_anvil || trinket.t2.is.beacon_to_the_beyond",
								["var_name"] = "trinket2_is_weird",
							}, -- [8]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "( ( cooldown.feral_spirit.remains / ( 1 + 1.5 * talent.witch_doctors_ancestry.rank ) ) + 1000 * ! talent.feral_spirit.enabled ) <? ( cooldown.doom_winds.remains + 1000 * ! talent.doom_winds.enabled ) <? ( cooldown.ascendance.remains + 1000 * ! talent.ascendance.enabled )",
								["var_name"] = "min_talented_cd_remains",
							}, -- [9]
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.crashing_storms.enabled & ( ( talent.unruly_winds.enabled & active_enemies >= 10 ) || active_enemies >= 15 )",
								["action"] = "crash_lightning",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( active_dot.flame_shock >= active_enemies || active_dot.flame_shock >= 6 ) & buff.primordial_wave.up & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! buff.splintered_elements.up || fight_remains <= 12 || raid_event.adds.remains <= gcd.max )",
								["action"] = "lightning_bolt",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & ( talent.primordial_wave.enabled || talent.fire_nova.enabled ) & dot.flame_shock.ticking & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
								["action"] = "lava_lash",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! buff.primordial_wave.up",
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( talent.primordial_wave.enabled || talent.fire_nova.enabled ) & ! ticking",
								["action"] = "flame_shock",
								["description"] = "In game, you might not have Primordial Wave ready on pull but you want Flame Shock out for LL, FN, and PWave when it comes available.  Also, existing Flame Shocks may not be close enough to spread.",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! talent.crashing_storms.enabled || active_enemies <= 3 )",
								["action"] = "elemental_blast",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.thorims_invocation.enabled & ti_chain_lightning & buff.maelstrom_weapon.stack > 1",
								["action"] = "windstrike",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "chain_lightning",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || ! buff.crash_lightning.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 )",
								["action"] = "crash_lightning",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || set_bonus.tier30_2pc",
								["action"] = "sundering",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 6 || ( active_dot.flame_shock >= 4 & active_dot.flame_shock >= cycle_enemies )",
								["action"] = "fire_nova",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "talent.lashing_flames.enabled",
								["action"] = "lava_lash",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "( talent.molten_assault.enabled & dot.flame_shock.ticking & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6 ) || ( talent.ashen_catalyst.enabled & buff.ashen_catalyst.stack = buff.ashen_catalyst.max_stack )",
								["action"] = "lava_lash",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled",
								["action"] = "ice_strike",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
								["action"] = "frost_shock",
							}, -- [15]
							{
								["action"] = "sundering",
								["enabled"] = true,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & ! ticking",
								["action"] = "flame_shock",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ( talent.fire_nova.enabled || talent.primordial_wave.enabled ) & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 3",
								["action"] = "fire_nova",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.crash_lightning.up & ( talent.deeply_rooted_elements.enabled || buff.converging_storms.stack = 6 )",
								["action"] = "stormstrike",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "talent.crashing_storms.enabled & buff.cl_crash_lightning.up & active_enemies >= 4",
								["action"] = "crash_lightning",
							}, -- [21]
							{
								["action"] = "windstrike",
								["enabled"] = true,
							}, -- [22]
							{
								["action"] = "stormstrike",
								["enabled"] = true,
							}, -- [23]
							{
								["action"] = "ice_strike",
								["enabled"] = true,
							}, -- [24]
							{
								["action"] = "lava_lash",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "crash_lightning",
								["enabled"] = true,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 2",
								["action"] = "fire_nova",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( time_to_max_charges < gcd.max || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack >= 5 & ( ! talent.crashing_storms.enabled || active_enemies <= 3 )",
								["action"] = "elemental_blast",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5",
								["action"] = "chain_lightning",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "buff.windfury_totem.remains < 30",
								["action"] = "windfury_totem",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "flame_shock",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "! talent.hailstorm.enabled",
								["action"] = "frost_shock",
							}, -- [32]
						},
					},
					["version"] = 20230808,
					["warnings"] = "The import for 'default' required some automated changes.\nLine 6: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||boss&(fight_remains%%180<=30)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||boss&(fight_remains%180<=30)'.\nLine 7: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.buff.duration' to 'trinket.t1.buff.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted operations in '!variable.trinket1_is_weird&trinket.t1.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%trinket.t1.cooldown.duration<=trinket.t1.buff.duration)||(variable.min_talented_cd_remains>=trinket.t1.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '!variable.trinket1_is_weird&trinket.t1.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%trinket.t1.cooldown.duration<=trinket.t1.buff.duration)||(variable.min_talented_cd_remains>=trinket.t1.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 8: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.2.buff.duration' to 'trinket.t2.buff.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted operations in '!variable.trinket2_is_weird&trinket.t2.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%trinket.t2.cooldown.duration<=trinket.t2.buff.duration)||(variable.min_talented_cd_remains>=trinket.t2.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '!variable.trinket2_is_weird&trinket.t2.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%trinket.t2.cooldown.duration<=trinket.t2.buff.duration)||(variable.min_talented_cd_remains>=trinket.t2.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 9: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%%150<=5)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%150<=5)'.\nLine 10: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%%120<=5)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%120<=5)'.\nLine 11: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 12: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 13: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 14: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 15: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 16: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nThe following auras were used in the action list but were not found in the addon database:\n - duration\n\nThe import for 'precombat' required some automated changes.\nLine 7: Converted 'trinket.1.is.algethar_puzzle_box' to 'trinket.t1.is.algethar_puzzle_box' (1x).\nLine 7: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 7: Converted 'trinket.1.is.elementium_pocket_anvil' to 'trinket.t1.is.elementium_pocket_anvil' (1x).\nLine 7: Converted 'trinket.1.is.beacon_to_the_beyond' to 'trinket.t1.is.beacon_to_the_beyond' (1x).\nLine 8: Converted 'trinket.2.is.algethar_puzzle_box' to 'trinket.t2.is.algethar_puzzle_box' (1x).\nLine 8: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 8: Converted 'trinket.2.is.elementium_pocket_anvil' to 'trinket.t2.is.elementium_pocket_anvil' (1x).\nLine 8: Converted 'trinket.2.is.beacon_to_the_beyond' to 'trinket.t2.is.beacon_to_the_beyond' (1x).\nLine 9: Converted operations in '((cooldown.feral_spirit.remains%(1+1.5*talent.witch_doctors_ancestry.rank))+1000*!talent.feral_spirit.enabled)<?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)<?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)' to '((cooldown.feral_spirit.remains/(1+1.5*talent.witch_doctors_ancestry.rank))+1000*!talent.feral_spirit.enabled)<?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)<?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)'.\n\nImported 5 action lists.\n",
					["profile"] = "actions.precombat+=/windfury_weapon\nactions.precombat+=/flametongue_weapon\nactions.precombat+=/lightning_shield,if=buff.lightning_shield.down&(buff.earth_shield.down||talent.elemental_orbit.enabled)\nactions.precombat+=/earth_shield,if=buff.lightning_shield.up&buff.earth_shield.down&talent.elemental_orbit.enabled\nactions.precombat+=/totemic_projection,if=project_windfury_totem\nactions.precombat+=/windfury_totem,if=time=0||buff.windfury_totem.down\nactions.precombat+=/variable,name=trinket1_is_weird,value=trinket.1.is.algethar_puzzle_box||trinket.1.is.manic_grieftorch||trinket.1.is.elementium_pocket_anvil||trinket.1.is.beacon_to_the_beyond\nactions.precombat+=/variable,name=trinket2_is_weird,value=trinket.2.is.algethar_puzzle_box||trinket.2.is.manic_grieftorch||trinket.2.is.elementium_pocket_anvil||trinket.2.is.beacon_to_the_beyond\nactions.precombat+=/variable,name=min_talented_cd_remains,value=((cooldown.feral_spirit.remains%(1+1.5*talent.witch_doctors_ancestry.rank))+1000*!talent.feral_spirit.enabled)<?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)<?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)\n\n# interrupt of casts.\nactions+=/wind_shear\nactions+=/purge,if=settings.hostile_dispel\nactions+=/greater_purge,if=settings.hostile_dispel\nactions+=/potion,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&fight_remains<=30||!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled)\nactions+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1\nactions+=/use_item,name=algethar_puzzle_box,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||boss&(fight_remains%%180<=30)\nactions+=/use_item,slot=trinket1,if=!variable.trinket1_is_weird&trinket.1.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%trinket.1.cooldown.duration<=trinket.1.buff.duration)||(variable.min_talented_cd_remains>=trinket.1.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/use_item,slot=trinket2,if=!variable.trinket2_is_weird&trinket.2.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%trinket.2.cooldown.duration<=trinket.2.buff.duration)||(variable.min_talented_cd_remains>=trinket.2.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%%150<=5)\nactions+=/use_item,name=manic_grieftorch,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%%120<=5)\nactions+=/use_item,slot=trinket1,if=!variable.trinket1_is_weird&!trinket.1.has_use_buff\nactions+=/use_item,slot=trinket2,if=!variable.trinket2_is_weird&!trinket.2.has_use_buff\nactions+=/blood_fury,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/berserking,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/fireblood,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/ancestral_call,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\n## actions+=/invoke_external_buff,name=power_infusion,if=(talent.ascendance.enabled&talent.thorims_invocation.enabled&buff.ascendance.up)||(!talent.thorims_invocation.enabled&talent.feral_spirit.enabled&buff.feral_spirit.up)||(!talent.thorims_invocation.enabled&!talent.feral_spirit.enabled)||fight_remains<=20\nactions+=/feral_spirit\nactions+=/ascendance,if=dot.flame_shock.ticking&((ti_lightning_bolt&active_enemies=1&raid_event.adds.in>=90)||(ti_chain_lightning&active_enemies>1))\nactions+=/doom_winds,if=raid_event.adds.in>=90||active_enemies>1\nactions+=/call_action_list,name=single,strict=1,if=active_enemies=1\nactions+=/call_action_list,name=aoe,strict=1,if=active_enemies>1&!funnel\nactions+=/call_action_list,name=funnel,strict=1,if=active_enemies>1&funnel\n\nactions.single+=/primordial_wave,if=!dot.flame_shock.ticking&talent.lashing_flames.enabled&(raid_event.adds.in>42||raid_event.adds.in<6)\nactions.single+=/flame_shock,if=!ticking&talent.lashing_flames.enabled\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&talent.elemental_spirits.enabled&feral_spirit.active>=4\nactions.single+=/sundering,if=set_bonus.tier30_2pc&raid_event.adds.in>=40\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.crackling_thunder.down&buff.ascendance.up&ti_chain_lightning&(buff.ascendance.remains>(cooldown.strike.remains+gcd))\nactions.single+=/windstrike,if=talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>=1&(talent.deeply_rooted_elements.enabled||(talent.stormblast.enabled&buff.stormbringer.up)||(talent.elemental_assault.enabled&talent.stormflurry.enabled)||ti_lightning_bolt)\nactions.single+=/stormstrike,if=buff.doom_winds.up||talent.deeply_rooted_elements.enabled||(talent.stormblast.enabled&buff.stormbringer.up)||((talent.elemental_assault.enabled&talent.stormflurry.enabled)&buff.maelstrom_weapon.stack<buff.maelstrom_weapon.max_stack)\nactions.single+=/lava_lash,if=buff.hot_hand.up\nactions.single+=/windfury_totem,if=!buff.windfury_totem.up\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&charges=max_charges\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.primordial_wave.up&(buff.primordial_wave.remains<1.5*gcd.max||raid_event.adds.in>buff.primordial_wave.remains&(!buff.splintered_elements.up||boss&fight_remains<=12))\nactions.single+=/chain_lightning,if=buff.maelstrom_weapon.stack>=5&buff.crackling_thunder.up&talent.elemental_spirits.enabled\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.crackling_thunder.down&buff.ascendance.up&ti_chain_lightning\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&(buff.feral_spirit.up||!talent.elemental_spirits.enabled)\nactions.single+=/lava_burst,if=!talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>=5\nactions.single+=/lightning_bolt,if=((buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack)||(talent.static_accumulation.enabled&buff.maelstrom_weapon.stack>=5))&buff.primordial_wave.down\nactions.single+=/ice_strike,if=buff.doom_winds.up\nactions.single+=/sundering,if=buff.doom_winds.up&raid_event.adds.in>=40\nactions.single+=/crash_lightning,if=buff.doom_winds.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)\nactions.single+=/primordial_wave,if=raid_event.adds.in>42||raid_event.adds.in<6\nactions.single+=/flame_shock,if=!ticking\nactions.single+=/lava_lash,if=talent.molten_assault.enabled&dot.flame_shock.refreshable\nactions.single+=/ice_strike,if=!buff.ice_strike.up\nactions.single+=/frost_shock,if=buff.hailstorm.up\nactions.single+=/lava_lash\nactions.single+=/ice_strike\nactions.single+=/windstrike\nactions.single+=/stormstrike\nactions.single+=/sundering,if=raid_event.adds.in>=40\nactions.single+=/bag_of_tricks\nactions.single+=/fire_nova,if=talent.swirling_maelstrom.enabled&active_dot.flame_shock&buff.maelstrom_weapon.stack<buff.maelstrom_weapon.max_stack\nactions.single+=/lightning_bolt,if=talent.hailstorm.enabled&buff.maelstrom_weapon.stack>=5&buff.primordial_wave.down\nactions.single+=/frost_shock\nactions.single+=/crash_lightning\nactions.single+=/fire_nova,if=active_dot.flame_shock\nactions.single+=/earth_elemental\nactions.single+=/flame_shock,if=settings.filler_shock\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.primordial_wave.down\nactions.single+=/windfury_totem,if=buff.windfury_totem.remains<30\n\nactions.aoe+=/crash_lightning,if=talent.crashing_storms.enabled&((talent.unruly_winds.enabled&active_enemies>=10)||active_enemies>=15)\nactions.aoe+=/lightning_bolt,if=(active_dot.flame_shock>=active_enemies||active_dot.flame_shock>=6)&buff.primordial_wave.up&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!buff.splintered_elements.up||fight_remains<=12||raid_event.adds.remains<=gcd)\nactions.aoe+=/lava_lash,if=talent.molten_assault.enabled&(talent.primordial_wave.enabled||talent.fire_nova.enabled)&dot.flame_shock.ticking&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.aoe+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up\n# In game, you might not have Primordial Wave ready on pull but you want Flame Shock out for LL, FN, and PWave when it comes available.  Also, existing Flame Shocks may not be close enough to spread.\nactions.aoe+=/flame_shock,if=(talent.primordial_wave.enabled||talent.fire_nova.enabled)&!ticking\nactions.aoe+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!talent.crashing_storms.enabled||active_enemies<=3)\nactions.aoe+=/windstrike,if=talent.thorims_invocation.enabled&ti_chain_lightning&buff.maelstrom_weapon.stack>1\nactions.aoe+=/chain_lightning,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.aoe+=/crash_lightning,if=buff.doom_winds.up||!buff.crash_lightning.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)\nactions.aoe+=/sundering,if=buff.doom_winds.up||set_bonus.tier30_2pc\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=6||(active_dot.flame_shock>=4&active_dot.flame_shock>=cycle_enemies)\nactions.aoe+=/lava_lash,cycle_targets=1,if=talent.lashing_flames.enabled\nactions.aoe+=/lava_lash,if=(talent.molten_assault.enabled&dot.flame_shock.ticking&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6)||(talent.ashen_catalyst.enabled&buff.ashen_catalyst.stack=buff.ashen_catalyst.max_stack)\nactions.aoe+=/ice_strike,if=talent.hailstorm.enabled\nactions.aoe+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.aoe+=/sundering\nactions.aoe+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&(talent.fire_nova.enabled||talent.primordial_wave.enabled)&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=3\nactions.aoe+=/stormstrike,if=buff.crash_lightning.up&(talent.deeply_rooted_elements.enabled||buff.converging_storms.stack=6)\nactions.aoe+=/crash_lightning,if=talent.crashing_storms.enabled&buff.cl_crash_lightning.up&active_enemies>=4\nactions.aoe+=/windstrike\nactions.aoe+=/stormstrike\nactions.aoe+=/ice_strike\nactions.aoe+=/lava_lash\nactions.aoe+=/crash_lightning\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=2\nactions.aoe+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(time_to_max_charges<gcd.max||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack>=5&(!talent.crashing_storms.enabled||active_enemies<=3)\nactions.aoe+=/chain_lightning,if=buff.maelstrom_weapon.stack>=5\nactions.aoe+=/windfury_totem,if=buff.windfury_totem.remains<30\nactions.aoe+=/flame_shock,if=!ticking\nactions.aoe+=/frost_shock,if=!talent.hailstorm.enabled\n\nactions.funnel+=/lightning_bolt,if=(active_dot.flame_shock>=active_enemies||active_dot.flame_shock=6)&buff.primordial_wave.up&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!buff.splintered_elements.up||fight_remains<=12||raid_event.adds.remains<=gcd)\nactions.funnel+=/lava_lash,if=(talent.molten_assault.enabled&dot.flame_shock.ticking&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6)||(talent.ashen_catalyst.enabled&buff.ashen_catalyst.stack=buff.ashen_catalyst.max_stack)\nactions.funnel+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up\n# In game, you might not have Primordial Wave ready on pull but you want Flame Shock out for LL, FN, and PWave when it comes available.  Also, existing Flame Shocks may not be close enough to spread.\nactions.funnel+=/flame_shock,if=(talent.primordial_wave.enabled||talent.fire_nova.enabled)&!ticking\nactions.funnel+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/windstrike,if=(talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>1)||buff.converging_storms.stack=buff.converging_storms.max_stack\nactions.funnel+=/stormstrike,if=buff.converging_storms.stack=buff.converging_storms.max_stack\nactions.funnel+=/chain_lightning,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&buff.crackling_thunder.up\nactions.funnel+=/lava_burst,if=(buff.molten_weapon.stack+buff.volcanic_strength.up>buff.crackling_surge.stack)&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/lightning_bolt,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/crash_lightning,if=buff.doom_winds.up||!buff.crash_lightning.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)||(talent.converging_storms.enabled&buff.converging_storms.stack<buff.converging_storms.max_stack)\nactions.funnel+=/sundering,if=buff.doom_winds.up||set_bonus.tier30_2pc\nactions.funnel+=/fire_nova,if=active_dot.flame_shock=6||(active_dot.flame_shock>=4&active_dot.flame_shock>=cycle_enemies)\nactions.funnel+=/ice_strike,if=talent.hailstorm.enabled&!buff.ice_strike.up\nactions.funnel+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.funnel+=/sundering\nactions.funnel+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.funnel+=/flame_shock,cycle_targets=1,if=(talent.fire_nova.enabled||talent.primordial_wave.enabled)&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.funnel+=/fire_nova,if=active_dot.flame_shock>=3\nactions.funnel+=/stormstrike,if=buff.crash_lightning.up&talent.deeply_rooted_elements.enabled\nactions.funnel+=/crash_lightning,if=talent.crashing_storms.enabled&buff.cl_crash_lightning.up&active_enemies>=4\nactions.funnel+=/windstrike\nactions.funnel+=/stormstrike\nactions.funnel+=/ice_strike\nactions.funnel+=/lava_lash\nactions.funnel+=/crash_lightning\nactions.funnel+=/fire_nova,if=active_dot.flame_shock>=2\nactions.funnel+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack>=5\nactions.funnel+=/lava_burst,if=(buff.molten_weapon.stack+buff.volcanic_strength.up>buff.crackling_surge.stack)&buff.maelstrom_weapon.stack>=5\nactions.funnel+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5\nactions.funnel+=/windfury_totem,if=buff.windfury_totem.remains<30\nactions.funnel+=/flame_shock,if=!ticking\nactions.funnel+=/frost_shock,if=!talent.hailstorm.enabled",
					["author"] = "SimC",
				},
				["Brewmaster"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230722,
					["author"] = "SimC",
					["desc"] = "2023-07-22:  Minor updates from SimC.\n\n2023-07-19: Add SCK to Press the Advantage priority.\n- Use BDB more often if/when WoO is out of sync.\n\n2023-07-15: Remove Purifying Brew that bypasses options.\n\n2023-07-12:  Minor TP fix for non-PTA and non-BOC.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-07-02:  Use Exploding Keg without Bonedust Brew if BDB isn't talented.\n\n2023-05-24:  Beacon/WoO alignment no longer needed.\n\n2023-05-15:  Oops, reimplement fallback rotation.\n\n2023-05-08:  SCK and Beacon to the Beyond changes.\n\n2023-02-26:  Added Touch of Death back to the priority (appears to be missing from SimC).\n\nThe SimC Brewmaster priority uses Purifying Brew and Celestial Brew aggressively for DPS.  The addon has pared this back to support survivability.",
					["lists"] = {
						["rotation_pta"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.weapons_of_order_debuff.stack > 3",
								["action"] = "invoke_niuzao_the_black_ox",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! talent.weapons_of_order.enabled",
								["action"] = "invoke_niuzao_the_black_ox",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( buff.press_the_advantage.stack < 6 || buff.press_the_advantage.stack > 9 ) & active_enemies <= 4",
								["action"] = "rising_sun_kick",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( buff.press_the_advantage.stack < 8 || buff.press_the_advantage.stack > 9 ) & active_enemies > 4",
								["action"] = "keg_smash",
							}, -- [4]
							{
								["action"] = "blackout_kick",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "energy + energy.regen <= 40",
								["action"] = "black_ox_brew",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "debuff.weapons_of_order_debuff.stack > 3 || ! talent.weapons_of_order.enabled",
								["action"] = "summon_white_tiger_statue",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.weapons_of_order.enabled & ( buff.weapons_of_order.down & cooldown.weapons_of_order.true_remains > action_cooldown || time < 10 & debuff.weapons_of_order_debuff.stack > 3 || time > 10 ) || ! talent.weapons_of_order.enabled",
								["action"] = "bonedust_brew",
								["description"] = "Modified: If WoO is on cooldown and BDB will be back up before WoO's CD expires, go ahead and use BDB.",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up || ! talent.bonedust_brew.enabled",
								["action"] = "exploding_keg",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "! ( buff.press_the_advantage.stack > 6 & buff.blackout_combo.up )",
								["action"] = "breath_of_fire",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "! ( buff.press_the_advantage.stack > 6 & buff.blackout_combo.up )",
								["action"] = "keg_smash",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "talent.rushing_jade_wind.enabled",
								["action"] = "rushing_jade_wind",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1",
								["action"] = "spinning_crane_kick",
							}, -- [13]
							{
								["action"] = "expel_harm",
								["enabled"] = true,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "talent.chi_wave.enabled",
								["action"] = "chi_wave",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "talent.chi_burst.enabled",
								["action"] = "chi_burst",
							}, -- [16]
						},
						["rotation_boc"] = {
							{
								["action"] = "blackout_kick",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "debuff.weapons_of_order_debuff.stack > 3",
								["action"] = "invoke_niuzao_the_black_ox",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! talent.weapons_of_order.enabled",
								["action"] = "invoke_niuzao_the_black_ox",
							}, -- [3]
							{
								["action"] = "weapons_of_order",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "action.weapons_of_order.time_since < 2 & talent.weapons_of_order.enabled",
								["action"] = "keg_smash",
							}, -- [5]
							{
								["action"] = "rising_sun_kick",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.weapons_of_order.up & debuff.weapons_of_order_debuff.remains <= gcd.max * 2",
								["action"] = "keg_smash",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "energy + energy.regen <= 40",
								["action"] = "black_ox_brew",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.blackout_combo.up & active_enemies = 1",
								["action"] = "tiger_palm",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.charred_passions.remains < cooldown.blackout_kick.remains",
								["action"] = "breath_of_fire",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.charred_passions.down",
								["action"] = "breath_of_fire",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.weapons_of_order.up & debuff.weapons_of_order_debuff.stack <= 3",
								["action"] = "keg_smash",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "debuff.weapons_of_order_debuff.stack > 3 || ! talent.weapons_of_order.enabled",
								["action"] = "summon_white_tiger_statue",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "talent.weapons_of_order.enabled & ( buff.weapons_of_order.down & cooldown.weapons_of_order.true_remains > action_cooldown || time < 10 & debuff.weapons_of_order_debuff.stack > 3 || time > 10 ) || ! talent.weapons_of_order.enabled",
								["action"] = "bonedust_brew",
								["description"] = "Modified: If WoO is on cooldown and BDB will be back up before WoO's CD expires, go ahead and use BDB.",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.bonedust_brew.up || ! talent.bonedust_brew.enabled",
								["action"] = "exploding_keg",
							}, -- [15]
							{
								["action"] = "keg_smash",
								["enabled"] = true,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.rushing_jade_wind.enabled",
								["action"] = "rushing_jade_wind",
							}, -- [17]
							{
								["action"] = "breath_of_fire",
								["enabled"] = true,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & ! talent.blackout_combo.enabled",
								["action"] = "tiger_palm",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1",
								["action"] = "spinning_crane_kick",
							}, -- [20]
							{
								["action"] = "expel_harm",
								["enabled"] = true,
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "talent.chi_wave.enabled",
								["action"] = "chi_wave",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.chi_burst.enabled",
								["action"] = "chi_burst",
							}, -- [23]
						},
						["default"] = {
							{
								["action"] = "spear_hand_strike",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "diffuse_magic",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "settings.purify_for_celestial & ( time_to_max_charges < gcd.max || buff.purified_chi.up & buff.purified_chi.remains < 1.5 * gcd.max ) || cooldown.celestial_brew.remains < 2 * gcd.max & charges_fractional > 1.5",
								["action"] = "purifying_brew",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "tanking & ( ! talent.improved_celestial_brew.enabled || buff.purified_chi.up ) & buff.blackout_combo.down",
								["action"] = "celestial_brew",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "talent.improved_invoke_niuzao_the_black_ox.enabled & settings.purify_for_niuzao & pet.niuzao_the_black_ox.active",
								["action"] = "purifying_brew",
								["line_cd"] = "5",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "group & buff.blackout_combo.down & settings.purify_stagger_currhp > 0 & stagger.pct >= settings.purify_stagger_currhp",
								["action"] = "purifying_brew",
								["description"] = "Use configured purify_stagger_currhp from Brewmaster options.",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "solo & buff.blackout_combo.down & settings.purify_stagger_currhp > 0 & stagger.pct >= settings.purify_stagger_currhp * 0.5",
								["action"] = "purifying_brew",
								["description"] = "Use configured purify_stagger_currhp from Brewmaster options.",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "group & buff.blackout_combo.down & settings.purify_stagger_maxhp > 0 & stagger.pct >= settings.purify_stagger_maxhp",
								["action"] = "purifying_brew",
								["description"] = "Use configured purify_stagger_maxhp from Brewmaster options.",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "solo & buff.blackout_combo.down & settings.purify_stagger_maxhp > 0 & stagger.pct >= settings.purify_stagger_maxhp * 0.5",
								["action"] = "purifying_brew",
								["description"] = "Use configured purify_stagger_maxhp from Brewmaster options.",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "group & buff.blackout_combo.down & settings.purify_stagger_currhp = 0 & settings.purify_stagger_maxhp = 0 & stagger.pct > 20",
								["action"] = "purifying_brew",
								["description"] = "Stagger % of 20 will kill you in 2.5 seconds without healing or purifying.  Used when purify_stagger_currhp and maxhp are disabled.",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "solo & buff.blackout_combo.down & settings.purify_stagger_currhp = 0 & settings.purify_stagger_maxhp = 0 & stagger.pct > 10",
								["action"] = "purifying_brew",
								["description"] = "Stagger % of 10 will kill you in 5 seconds without healing or purifying.  Used when purify_stagger_currhp and maxhp are disabled.",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "health.pct < 75 & incoming_damage_3s > health.max * ( 0.2 + ( 0.2 * group ) ) & buff.fortifying_brew.down",
								["action"] = "dampen_harm",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "health.pct < 50 & incoming_damage_3s > health.max * ( 0.2 + ( 0.2 * group ) ) & ( buff.dampen_harm.down )",
								["action"] = "fortifying_brew",
							}, -- [13]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [14]
							{
								["action"] = "touch_of_death",
								["enabled"] = true,
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "debuff.weapons_of_order_debuff.stack > 3 || talent.weapons_of_order.enabled || boss & fight_remains < 25",
								["action"] = "use_items",
							}, -- [16]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [17]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [18]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [19]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [20]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [21]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [22]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "talent.press_the_advantage.enabled",
								["list_name"] = "rotation_pta",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "! talent.press_the_advantage.enabled",
								["list_name"] = "rotation_boc",
							}, -- [24]
						},
						["precombat"] = {
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "talent.chi_burst.enabled",
								["action"] = "chi_burst",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.chi_wave.enabled",
								["action"] = "chi_wave",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.summon_white_tiger_statue.enabled",
								["action"] = "summon_white_tiger_statue",
							}, -- [4]
						},
					},
					["version"] = 20230722,
					["warnings"] = "The import for 'rotation_boc' required some automated changes.\nLine 14: Converted 'talent.weapons_of_order' to 'talent.weapons_of_order.enabled' (1x).\n\nThe import for 'rotation_pta' required some automated changes.\nLine 8: Converted 'talent.weapons_of_order' to 'talent.weapons_of_order.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 4: Converted 'talent.improved_celestial_brew' to 'talent.improved_celestial_brew.enabled' (1x).\nLine 5: Converted 'talent.improved_invoke_niuzao_the_black_ox' to 'talent.improved_invoke_niuzao_the_black_ox.enabled' (1x).\nLine 16: Converted 'talent.weapons_of_order' to 'talent.weapons_of_order.enabled' (1x).\n\nImported 4 action lists.\n",
					["spec"] = 268,
					["profile"] = "actions.precombat+=/potion\nactions.precombat+=/chi_burst,if=talent.chi_burst.enabled\nactions.precombat+=/chi_wave,if=talent.chi_wave.enabled\nactions.precombat+=/summon_white_tiger_statue,if=talent.summon_white_tiger_statue.enabled\n\nactions+=/spear_hand_strike\nactions+=/diffuse_magic\nactions+=/purifying_brew,if=settings.purify_for_celestial&(time_to_max_charges<gcd.max||buff.purified_chi.up&buff.purified_chi.remains<1.5*gcd.max)||cooldown.celestial_brew.remains<2*gcd.max&charges_fractional>1.5\nactions+=/celestial_brew,if=tanking&(!talent.improved_celestial_brew||buff.purified_chi.up)&buff.blackout_combo.down\nactions+=/purifying_brew,line_cd=5,if=talent.improved_invoke_niuzao_the_black_ox&settings.purify_for_niuzao&pet.niuzao_the_black_ox.active\n# Use configured purify_stagger_currhp from Brewmaster options.\nactions+=/purifying_brew,if=group&buff.blackout_combo.down&settings.purify_stagger_currhp>0&stagger.pct>=settings.purify_stagger_currhp\n# Use configured purify_stagger_currhp from Brewmaster options.\nactions+=/purifying_brew,if=solo&buff.blackout_combo.down&settings.purify_stagger_currhp>0&stagger.pct>=settings.purify_stagger_currhp*0.5\n# Use configured purify_stagger_maxhp from Brewmaster options.\nactions+=/purifying_brew,if=group&buff.blackout_combo.down&settings.purify_stagger_maxhp>0&stagger.pct>=settings.purify_stagger_maxhp\n# Use configured purify_stagger_maxhp from Brewmaster options.\nactions+=/purifying_brew,if=solo&buff.blackout_combo.down&settings.purify_stagger_maxhp>0&stagger.pct>=settings.purify_stagger_maxhp*0.5\n# Stagger % of 20 will kill you in 2.5 seconds without healing or purifying.  Used when purify_stagger_currhp and maxhp are disabled.\nactions+=/purifying_brew,if=group&buff.blackout_combo.down&settings.purify_stagger_currhp=0&settings.purify_stagger_maxhp=0&stagger.pct>20\n# Stagger % of 10 will kill you in 5 seconds without healing or purifying.  Used when purify_stagger_currhp and maxhp are disabled.\nactions+=/purifying_brew,if=solo&buff.blackout_combo.down&settings.purify_stagger_currhp=0&settings.purify_stagger_maxhp=0&stagger.pct>10\nactions+=/dampen_harm,if=health.pct<75&incoming_damage_3s>health.max*(0.2+(0.2*group))&buff.fortifying_brew.down\nactions+=/fortifying_brew,if=health.pct<50&incoming_damage_3s>health.max*(0.2+(0.2*group))&(buff.dampen_harm.down)\nactions+=/potion\n### Use <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> when <a href='https://www.wowhead.com/spell=387184/weapons-of-order'>Weapons of Order</a> reaches 4 stacks.\n## actions+=/invoke_external_buff,name=power_infusion,if=buff.weapons_of_order.remains<=20&talent.weapons_of_order.enabled\n## actions+=/invoke_external_buff,name=power_infusion,if=!talent.weapons_of_order.enabled\nactions+=/touch_of_death\nactions+=/use_items,if=debuff.weapons_of_order_debuff.stack>3||talent.weapons_of_order||boss&fight_remains<25\nactions+=/blood_fury\nactions+=/berserking\nactions+=/lights_judgment\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/call_action_list,name=rotation_pta,strict=1,if=talent.press_the_advantage.enabled\nactions+=/call_action_list,name=rotation_boc,strict=1,if=!talent.press_the_advantage.enabled\n\nactions.rotation_pta+=/invoke_niuzao_the_black_ox,if=debuff.weapons_of_order_debuff.stack>3\nactions.rotation_pta+=/invoke_niuzao_the_black_ox,if=!talent.weapons_of_order.enabled\nactions.rotation_pta+=/rising_sun_kick,if=(buff.press_the_advantage.stack<6||buff.press_the_advantage.stack>9)&active_enemies<=4\nactions.rotation_pta+=/keg_smash,if=(buff.press_the_advantage.stack<8||buff.press_the_advantage.stack>9)&active_enemies>4\nactions.rotation_pta+=/blackout_kick\n## actions.rotation_pta+=/purifying_brew,if=(!buff.blackout_combo.up)\nactions.rotation_pta+=/black_ox_brew,if=energy+energy.regen<=40\nactions.rotation_pta+=/summon_white_tiger_statue,if=debuff.weapons_of_order_debuff.stack>3||!talent.weapons_of_order.enabled\n# Modified: If WoO is on cooldown and BDB will be back up before WoO's CD expires, go ahead and use BDB.\nactions.rotation_pta+=/bonedust_brew,if=talent.weapons_of_order&(buff.weapons_of_order.down&cooldown.weapons_of_order.true_remains>cooldown||time<10&debuff.weapons_of_order_debuff.stack>3||time>10)||!talent.weapons_of_order.enabled\nactions.rotation_pta+=/exploding_keg,if=buff.bonedust_brew.up||!talent.bonedust_brew.enabled\nactions.rotation_pta+=/breath_of_fire,if=!(buff.press_the_advantage.stack>6&buff.blackout_combo.up)\nactions.rotation_pta+=/keg_smash,if=!(buff.press_the_advantage.stack>6&buff.blackout_combo.up)\nactions.rotation_pta+=/rushing_jade_wind,if=talent.rushing_jade_wind.enabled\nactions.rotation_pta+=/spinning_crane_kick,if=active_enemies>1\nactions.rotation_pta+=/expel_harm\nactions.rotation_pta+=/chi_wave,if=talent.chi_wave.enabled\nactions.rotation_pta+=/chi_burst,if=talent.chi_burst.enabled\n\nactions.rotation_boc+=/blackout_kick\nactions.rotation_boc+=/invoke_niuzao_the_black_ox,if=debuff.weapons_of_order_debuff.stack>3\nactions.rotation_boc+=/invoke_niuzao_the_black_ox,if=!talent.weapons_of_order.enabled\nactions.rotation_boc+=/weapons_of_order\nactions.rotation_boc+=/keg_smash,if=action.weapons_of_order.time_since<2&talent.weapons_of_order.enabled\n## actions.rotation_boc+=/purifying_brew,if=(!buff.blackout_combo.up)\nactions.rotation_boc+=/rising_sun_kick\nactions.rotation_boc+=/keg_smash,if=buff.weapons_of_order.up&debuff.weapons_of_order_debuff.remains<=gcd*2\nactions.rotation_boc+=/black_ox_brew,if=energy+energy.regen<=40\nactions.rotation_boc+=/tiger_palm,if=buff.blackout_combo.up&active_enemies=1\nactions.rotation_boc+=/breath_of_fire,if=buff.charred_passions.remains<cooldown.blackout_kick.remains\nactions.rotation_boc+=/breath_of_fire,if=buff.charred_passions.down\nactions.rotation_boc+=/keg_smash,if=buff.weapons_of_order.up&debuff.weapons_of_order_debuff.stack<=3\nactions.rotation_boc+=/summon_white_tiger_statue,if=debuff.weapons_of_order_debuff.stack>3||!talent.weapons_of_order.enabled\n# Modified: If WoO is on cooldown and BDB will be back up before WoO's CD expires, go ahead and use BDB.\nactions.rotation_boc+=/bonedust_brew,if=talent.weapons_of_order&(buff.weapons_of_order.down&cooldown.weapons_of_order.true_remains>cooldown||time<10&debuff.weapons_of_order_debuff.stack>3||time>10)||!talent.weapons_of_order.enabled\nactions.rotation_boc+=/exploding_keg,if=buff.bonedust_brew.up||!talent.bonedust_brew.enabled\nactions.rotation_boc+=/keg_smash\nactions.rotation_boc+=/rushing_jade_wind,if=talent.rushing_jade_wind.enabled\nactions.rotation_boc+=/breath_of_fire\nactions.rotation_boc+=/tiger_palm,if=active_enemies=1&!talent.blackout_combo.enabled\nactions.rotation_boc+=/spinning_crane_kick,if=active_enemies>1\nactions.rotation_boc+=/expel_harm\nactions.rotation_boc+=/chi_wave,if=talent.chi_wave.enabled\nactions.rotation_boc+=/chi_burst,if=talent.chi_burst.enabled",
				},
				["Guardian"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230714,
					["author"] = "SimC",
					["desc"] = "2023-07-14:  Fix a Thrash condition.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-06-24:  Adjust Mangle/Raze in priority.\n\n2023-05-08:  Add Tier 30 weapon.\n\n2023-03-06:  Revisited if_build and catweave_bear; restored missing mitigation priority for bigger defensive CDs.  Fix vicious_cycle talent check.\n\n2023-02-25:  Updated for 'if_build' changes with tweaks to support the \"Use Maul and Raze in Ironfur Build\" option.\n\n2023-02-21:   Routine update including changes to \"Catweave\" options.",
					["lists"] = {
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "skull_bash",
								["description"] = "Executed every time the actor is available.",
								["criteria"] = "! buff.prowl.up",
							}, -- [1]
							{
								["action"] = "soothe",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["slot"] = "trinket1",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "djaruun_pillar_of_the_elder_flame",
								["criteria"] = "dot.moonfire.ticking",
								["name"] = "djaruun_pillar_of_the_elder_flame",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( ( talent.heart_of_the_wild.enabled & buff.heart_of_the_wild.up ) || ( ( buff.berserk_bear.up || buff.incarnation_guardian_of_ursoc.up ) & ( ! druid.catweave_bear & ! druid.owlweave_bear ) ) )",
								["action"] = "potion",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.cat_form.up & ! druid.catweave_bear || ! tanking & druid.catweave_bear & ( ! talent.tooth_and_claw.enabled || buff.tooth_and_claw.remains > 1.5 ) & ( buff.incarnation_guardian_of_ursoc.down & buff.berserk_bear.down & cooldown.thrash_bear.remains > 0 & cooldown.mangle.remains > 0 & dot.moonfire.remains >= 2 || buff.cat_form.up & energy > 25 || buff.heart_of_the_wild.up & energy > 90 )",
								["action"] = "run_action_list",
								["list_name"] = "catweave",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "! buff.bear_form.up",
								["action"] = "bear_form",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "mitigation",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["list_name"] = "bear",
							}, -- [10]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.thorns_of_iron.enabled & talent.reinforced_fur.enabled",
								["var_name"] = "if_build",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! ( talent.thorns_of_iron.enabled & talent.reinforced_fur.enabled ) || settings.maul_anyway",
								["var_name"] = "maul_build",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up",
								["action"] = "mark_of_the_wild",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.heart_of_the_wild.enabled & ( druid.catweave_bear & buff.cat_form.up || druid.owlweave_bear & buff.moonkin_form.up )",
								["action"] = "heart_of_the_wild",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.cat_form.up",
								["action"] = "prowl",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! buff.any_form.up",
								["action"] = "bear_form",
							}, -- [6]
						},
						["mitigation"] = {
							{
								["enabled"] = true,
								["criteria"] = "tanking & ! variable.if_build & incoming_damage_5s > ironfur_damage_threshold & buff.ironfur.remains < 3 * haste",
								["action"] = "ironfur",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "health.pct < 65",
								["action"] = "regrowth",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "health.pct < 65",
								["action"] = "renewal",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "tanking & health.pct < 65",
								["action"] = "frenzied_regeneration",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "tanking & health.pct < 75 & incoming_damage_5s > 0.1 * health.max",
								["action"] = "barkskin",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.survival_instincts.down & buff.barkskin.down & health.pct < 60 & incoming_damage_5s > 0.25 * health.max",
								["action"] = "survival_instincts",
							}, -- [6]
						},
						["bear"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.bear_form.up",
								["action"] = "bear_form",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "( ( ( ! ticking & time_to_die > 12 ) || ( refreshable & time_to_die > 12 ) ) & active_enemies < 7 & talent.fury_of_nature.enabled ) || ( ( ( ! ticking & time_to_die > 12 ) || ( refreshable & time_to_die > 12 ) ) & active_enemies < 4 & ! talent.fury_of_nature.enabled )",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "refreshable || ( dot.thrash_bear.stack < 5 & talent.flashing_claws.rank = 2 || dot.thrash_bear.stack < 4 & talent.flashing_claws.rank = 1 || dot.thrash_bear.stack < 3 & ! talent.flashing_claws.enabled )",
								["action"] = "thrash_bear",
							}, -- [3]
							{
								["action"] = "bristling_fur",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.bear_form.up",
								["action"] = "barkskin",
							}, -- [5]
							{
								["action"] = "convoke_the_spirits",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "berserk",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "incarnation",
								["enabled"] = true,
							}, -- [8]
							{
								["action"] = "lunar_beam",
								["enabled"] = true,
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.incarnation_guardian_of_ursoc.down & cooldown.incarnation_guardian_of_ursoc.remains > 60 || buff.incarnation_guardian_of_ursoc.up || talent.convoke_the_spirits.enabled",
								["action"] = "rage_of_the_sleeper",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "( buff.berserk_bear.up || buff.incarnation_guardian_of_ursoc.up )",
								["action"] = "berserking",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "( buff.rage_of_the_sleeper.up & buff.tooth_and_claw.stack > 0 & active_enemies <= 6 & ! talent.raze.enabled & ! variable.if_build ) || ( buff.rage_of_the_sleeper.up & buff.tooth_and_claw.stack > 0 & active_enemies = 1 & talent.raze.enabled & ! variable.if_build )",
								["action"] = "maul",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.rage_of_the_sleeper.up & buff.tooth_and_claw.stack > 0 & ! variable.if_build & active_enemies > 1",
								["action"] = "raze",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( ( ( buff.incarnation.up || buff.berserk_bear.up ) & active_enemies <= 5 & ! talent.raze.enabled & ( buff.tooth_and_claw.stack >= 1 ) ) & ! variable.if_build ) || ( ( ( buff.incarnation.up || buff.berserk_bear.up ) & active_enemies = 1 & talent.raze.enabled & ( buff.tooth_and_claw.stack >= 1 ) ) & ! variable.if_build )",
								["action"] = "maul",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "( buff.incarnation.up || buff.berserk_bear.up ) & ! variable.if_build & active_enemies > 1",
								["action"] = "raze",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "ironfur",
								["criteria"] = "! buff.ironfur.up & rage > 50 & tanking & ! variable.if_build & ! buff.rage_of_the_sleeper.up || rage > 90 & ! variable.if_build & ! buff.rage_of_the_sleeper.up",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "variable.if_build & ( rage > 90 || ( buff.incarnation.up || buff.berserk_bear.up ) & rage > 20 )",
								["action"] = "ironfur",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "( buff.tooth_and_claw.up ) & active_enemies > 1",
								["action"] = "raze",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "( ! variable.if_build ) & active_enemies > 1",
								["action"] = "raze",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.gore.up & active_enemies < 11 || buff.vicious_cycle_mangle.stack = 3",
								["action"] = "mangle",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "( buff.tooth_and_claw.up & active_enemies <= 5 & ! talent.raze.enabled ) || ( buff.tooth_and_claw.up & active_enemies = 1 & talent.raze.enabled )",
								["action"] = "maul",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies <= 5 & ! talent.raze.enabled & ! variable.if_build ) || ( active_enemies = 1 & talent.raze.enabled & ! variable.if_build )",
								["action"] = "maul",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 5",
								["action"] = "thrash_bear",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "rage.deficit > 10 & settings.mangle_more",
								["action"] = "mangle",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "buff.incarnation_guardian_of_ursoc.down & buff.berserk_bear.down & active_enemies >= 11",
								["action"] = "swipe_bear",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "( buff.incarnation.up & active_enemies <= 4 ) || ( buff.incarnation.up & talent.soul_of_the_forest.enabled & active_enemies <= 5 ) || ( ( rage < 90 ) & active_enemies < 11 ) || ( ( rage < 85 ) & active_enemies < 11 & talent.soul_of_the_forest.enabled )",
								["action"] = "mangle",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1",
								["action"] = "thrash_bear",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "dot.thrash_bear.stack > 2",
								["action"] = "pulverize",
							}, -- [28]
							{
								["action"] = "thrash_bear",
								["enabled"] = true,
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "buff.galactic_guardian.up",
								["action"] = "moonfire",
							}, -- [30]
							{
								["action"] = "swipe_bear",
								["enabled"] = true,
							}, -- [31]
						},
						["catweave"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.heart_of_the_wild.up",
								["action"] = "heart_of_the_wild",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up",
								["action"] = "cat_form",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.prowl.up",
								["action"] = "rake",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.heart_of_the_wild.enabled & ! buff.heart_of_the_wild.up",
								["action"] = "heart_of_the_wild",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! dot.rake.ticking & combo_points < 5",
								["action"] = "rake",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! dot.rip.ticking & combo_points >= 3",
								["action"] = "rip",
							}, -- [6]
							{
								["action"] = "convoke_the_spirits",
								["enabled"] = true,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "combo_points >= 4 & energy > 50",
								["action"] = "ferocious_bite",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "combo_points < 5 & spell_targets.swipe_cat > 1",
								["action"] = "swipe_cat",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "combo_points < 5",
								["action"] = "shred",
							}, -- [10]
						},
					},
					["version"] = 20230714,
					["warnings"] = "The import for 'default' required some automated changes.\nLine 7: Converted 'talent.tooth_and_claw' to 'talent.tooth_and_claw.enabled' (1x).\n\nImported 5 action lists.\n",
					["profile"] = "actions.precombat+=/variable,name=if_build,value=talent.thorns_of_iron.enabled&talent.reinforced_fur.enabled\nactions.precombat+=/variable,name=maul_build,value=!(talent.thorns_of_iron.enabled&talent.reinforced_fur.enabled)||settings.maul_anyway\nactions.precombat+=/mark_of_the_wild,if=!buff.prowl.up\nactions.precombat+=/heart_of_the_wild,if=talent.heart_of_the_wild.enabled&(druid.catweave_bear&buff.cat_form.up||druid.owlweave_bear&buff.moonkin_form.up)\nactions.precombat+=/prowl,if=buff.cat_form.up\nactions.precombat+=/bear_form,if=!buff.any_form.up\n\n# Executed every time the actor is available.\nactions=skull_bash,if=!buff.prowl.up\nactions+=/soothe\nactions+=/use_item,slot=trinket1\nactions+=/use_item,slot=trinket2\nactions+=/use_item,name=djaruun_pillar_of_the_elder_flame,if=dot.moonfire.ticking\nactions+=/potion,if=((talent.heart_of_the_wild.enabled&buff.heart_of_the_wild.up)||((buff.berserk_bear.up||buff.incarnation_guardian_of_ursoc.up)&(!druid.catweave_bear&!druid.owlweave_bear)))\nactions+=/run_action_list,name=catweave,if=buff.cat_form.up&!druid.catweave_bear||!tanking&druid.catweave_bear&(!talent.tooth_and_claw||buff.tooth_and_claw.remains>1.5)&(buff.incarnation_guardian_of_ursoc.down&buff.berserk_bear.down&cooldown.thrash_bear.remains>0&cooldown.mangle.remains>0&dot.moonfire.remains>=2||buff.cat_form.up&energy>25||buff.heart_of_the_wild.up&energy>90)\nactions+=/bear_form,if=!buff.bear_form.up\nactions+=/call_action_list,name=mitigation\nactions+=/run_action_list,name=bear\n\nactions.bear+=/bear_form,if=!buff.bear_form.up\nactions.bear+=/moonfire,cycle_targets=1,if=(((!ticking&time_to_die>12)||(refreshable&time_to_die>12))&active_enemies<7&talent.fury_of_nature.enabled)||(((!ticking&time_to_die>12)||(refreshable&time_to_die>12))&active_enemies<4&!talent.fury_of_nature.enabled)\nactions.bear+=/thrash_bear,if=refreshable||(dot.thrash_bear.stack<5&talent.flashing_claws.rank=2||dot.thrash_bear.stack<4&talent.flashing_claws.rank=1||dot.thrash_bear.stack<3&!talent.flashing_claws.enabled)\nactions.bear+=/bristling_fur\nactions.bear+=/barkskin,if=buff.bear_form.up\nactions.bear+=/convoke_the_spirits\nactions.bear+=/berserk_bear\nactions.bear+=/incarnation\nactions.bear+=/lunar_beam\nactions.bear+=/rage_of_the_sleeper,if=buff.incarnation_guardian_of_ursoc.down&cooldown.incarnation_guardian_of_ursoc.remains>60||buff.incarnation_guardian_of_ursoc.up||talent.convoke_the_spirits.enabled\nactions.bear+=/berserking,if=(buff.berserk_bear.up||buff.incarnation_guardian_of_ursoc.up)\nactions.bear+=/maul,if=(buff.rage_of_the_sleeper.up&buff.tooth_and_claw.stack>0&active_enemies<=6&!talent.raze.enabled&!variable.if_build)||(buff.rage_of_the_sleeper.up&buff.tooth_and_claw.stack>0&active_enemies=1&talent.raze.enabled&!variable.if_build)\nactions.bear+=/raze,if=buff.rage_of_the_sleeper.up&buff.tooth_and_claw.stack>0&!variable.if_build&active_enemies>1\nactions.bear+=/maul,if=(((buff.incarnation.up||buff.berserk_bear.up)&active_enemies<=5&!talent.raze.enabled&(buff.tooth_and_claw.stack>=1))&!variable.if_build)||(((buff.incarnation.up||buff.berserk_bear.up)&active_enemies=1&talent.raze.enabled&(buff.tooth_and_claw.stack>=1))&!variable.if_build)\nactions.bear+=/raze,if=(buff.incarnation.up||buff.berserk_bear.up)&!variable.if_build&active_enemies>1\nactions.bear+=/ironfur,cycle_targets=1,if=!buff.ironfur.up&rage>50&tanking&!variable.if_build&!buff.rage_of_the_sleeper.up||rage>90&!variable.if_build&!buff.rage_of_the_sleeper.up\nactions.bear+=/ironfur,if=variable.if_build&(rage>90||(buff.incarnation.up||buff.berserk_bear.up)&rage>20)\nactions.bear+=/raze,if=(buff.tooth_and_claw.up)&active_enemies>1\nactions.bear+=/raze,if=(!variable.if_build)&active_enemies>1\nactions.bear+=/mangle,if=buff.gore.up&active_enemies<11||buff.vicious_cycle_mangle.stack=3\nactions.bear+=/maul,if=(buff.tooth_and_claw.up&active_enemies<=5&!talent.raze.enabled)||(buff.tooth_and_claw.up&active_enemies=1&talent.raze.enabled)\nactions.bear+=/maul,if=(active_enemies<=5&!talent.raze.enabled&!variable.if_build)||(active_enemies=1&talent.raze.enabled&!variable.if_build)\nactions.bear+=/thrash_bear,if=active_enemies>=5\nactions.bear+=/mangle,if=rage.deficit>10&settings.mangle_more\nactions.bear+=/swipe,if=buff.incarnation_guardian_of_ursoc.down&buff.berserk_bear.down&active_enemies>=11\nactions.bear+=/mangle,if=(buff.incarnation.up&active_enemies<=4)||(buff.incarnation.up&talent.soul_of_the_forest.enabled&active_enemies<=5)||((rage<90)&active_enemies<11)||((rage<85)&active_enemies<11&talent.soul_of_the_forest.enabled)\nactions.bear+=/thrash_bear,if=active_enemies>1\nactions.bear+=/pulverize,if=dot.thrash_bear.stack>2\nactions.bear+=/thrash_bear\nactions.bear+=/moonfire,if=buff.galactic_guardian.up\nactions.bear+=/swipe_bear\n\nactions.catweave=heart_of_the_wild,if=!buff.heart_of_the_wild.up\nactions.catweave+=/cat_form,if=!buff.cat_form.up\nactions.catweave+=/rake,if=buff.prowl.up\nactions.catweave+=/heart_of_the_wild,if=talent.heart_of_the_wild.enabled&!buff.heart_of_the_wild.up\nactions.catweave+=/rake,if=!dot.rake.ticking&combo_points<5\nactions.catweave+=/rip,if=!dot.rip.ticking&combo_points>=3\nactions.catweave+=/convoke_the_spirits\nactions.catweave+=/ferocious_bite,if=combo_points>=4&energy>50\nactions.catweave+=/swipe_cat,if=combo_points<5&spell_targets.swipe_cat>1\nactions.catweave+=/shred,if=combo_points<5\n\nactions.mitigation=ironfur,if=tanking&!variable.if_build&incoming_damage_5s>ironfur_damage_threshold&buff.ironfur.remains<3*haste\nactions.mitigation+=/regrowth,if=health.pct<65\nactions.mitigation+=/renewal,if=health.pct<65\nactions.mitigation+=/frenzied_regeneration,if=tanking&health.pct<65\nactions.mitigation+=/barkskin,if=tanking&health.pct<75&incoming_damage_5s>0.1*health.max\nactions.mitigation+=/survival_instincts,if=buff.survival_instincts.down&buff.barkskin.down&health.pct<60&incoming_damage_5s>0.25*health.max",
					["spec"] = 104,
				},
				["Havoc"] = {
					["source"] = "SimulationCraft",
					["builtIn"] = true,
					["date"] = 20230718,
					["spec"] = 577,
					["desc"] = "2023-07-18:  Removed redundant trinket entries.\n\n2023-07-15:  Revamp from SimulationCraft.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-07-04:  Add option to Throw Glaive without Blade Dance on CD.\n\n2023-06-25:  Allow generic trinkets to get recommended off-GCD.\n\n2023-06-03:  Move trinkets in default priority.\n\n2023-05-12:  Trinket updates from SimC.\n\n2023-04-30:  Updated from SimC for 10.1.\n\n2023-02-27:  If Fel Rush and Vengeful Retreat are disabled (despite Momentum and Tactical Retreat being talented), the priority will allow Essence Break to be recommended.\n\n2023-02-18:  Options regarding Fel Rush and Vengeful Retreat were revised. Only the filler/movement recommendations can be turned off using Havoc's specialization settings.  The entries associated with Isolated Prey, Momentum, Unbound Chaos, Initiative, and Vengeful Retreat may always be recommended if those talents are selected.",
					["profile"] = "actions.precombat+=/variable,name=three_min_trinket,value=trinket.1.cooldown.duration=180||trinket.2.cooldown.duration=180\nactions.precombat+=/arcane_torrent,if=fury.deficit>15\nactions.precombat+=/use_item,name=algethar_puzzle_box,if=cooldown.metamorphosis.remains<5\nactions.precombat+=/sigil_of_flame,if=!equipped.algethar_puzzle_box\nactions.precombat+=/immolation_aura\n\nactions=disrupt\nactions+=/consume_magic\n# Blade Dance with First Blood, Trail of Ruin, or at 2+ targets\nactions+=/variable,name=blade_dance,value=talent.first_blood||talent.trail_of_ruin||talent.chaos_theory&buff.chaos_theory.down||spell_targets.blade_dance1>1\nactions+=/variable,name=pooling_for_blade_dance,value=variable.blade_dance&fury<(75-talent.demon_blades*20)&cooldown.blade_dance.remains<gcd.max\nactions+=/variable,name=pooling_for_eye_beam,value=talent.demonic&!talent.blind_fury&cooldown.eye_beam.remains<(gcd.max*2)&fury<60\nactions+=/variable,name=waiting_for_momentum,value=talent.momentum&!buff.momentum.up&!(action.fel_rush.disabled&action.vengeful_retreat.disabled)\nactions+=/variable,name=holding_meta,value=(talent.demonic&talent.essence_break)&variable.three_min_trinket&fight_remains>cooldown.metamorphosis.remains+30+talent.shattered_destiny*60&cooldown.metamorphosis.remains<20&cooldown.metamorphosis.remains>action.eye_beam.execute_time+gcd.max*(talent.inner_demon+2)\n## actions+=/invoke_external_buff,name=power_infusion\nactions+=/immolation_aura,if=talent.ragefire&active_enemies>=3&(cooldown.blade_dance.remains||debuff.essence_break.down)\nactions+=/throw_glaive,if=talent.serrated_glaive&(buff.metamorphosis.remains>gcd.max*6&(debuff.serrated_glaive.down||debuff.serrated_glaive.remains<cooldown.essence_break.remains+5&cooldown.essence_break.remains<gcd.max*2)&(cooldown.blade_dance.remains||cooldown.essence_break.remains<gcd.max*2)||time<0.5)&debuff.essence_break.down&target.time_to_die>gcd.max*8\nactions+=/throw_glaive,if=talent.serrated_glaive&cooldown.eye_beam.remains<gcd.max*2&debuff.serrated_glaive.remains<(2+buff.metamorphosis.down*6)&(cooldown.blade_dance.remains||buff.metamorphosis.down)&debuff.essence_break.down&target.time_to_die>gcd.max*8\nactions+=/fel_rush,if=buff.unbound_chaos.up&(buff.unbound_chaos.remains<gcd.max*2||target.time_to_die<gcd.max*2)\nactions+=/call_action_list,name=cooldown\nactions+=/call_action_list,name=meta_end,if=buff.metamorphosis.up&buff.metamorphosis.remains<gcd.max&active_enemies<3\n## actions+=/pick_up_fragment,type=demon,if=demon_soul_fragments>0&(cooldown.eye_beam.remains<6||buff.metamorphosis.remains>5)&buff.empowered_demon_soul.remains<3||fight_remains<17\n## actions+=/pick_up_fragment,mode=nearest,type=lesser,if=talent.demonic_appetite&fury.deficit>=45&(!cooldown.eye_beam.ready||fury<30)\nactions+=/annihilation,if=buff.inner_demon.up&cooldown.metamorphosis.remains<=gcd*3\nactions+=/vengeful_retreat,use_off_gcd=1,if=talent.initiative&talent.essence_break&time>1&(cooldown.essence_break.remains>15||cooldown.essence_break.remains<gcd.max&(!talent.demonic||buff.metamorphosis.up||cooldown.eye_beam.remains>15+(10*talent.cycle_of_hatred)))&(time<30||gcd.remains<1)&!talent.any_means_necessary&(!talent.initiative||buff.initiative.remains<gcd.max||time>4)\nactions+=/vengeful_retreat,use_off_gcd=1,if=talent.initiative&talent.essence_break&time>1&(cooldown.essence_break.remains>15||cooldown.essence_break.remains<gcd.max*2&(buff.initiative.remains<gcd.max&!variable.holding_meta&cooldown.eye_beam.remains<=gcd.remains&(raid_event.adds.in>(40-talent.cycle_of_hatred*15))&fury>30||!talent.demonic||buff.metamorphosis.up||cooldown.eye_beam.remains>15+(10*talent.cycle_of_hatred)))&talent.any_means_necessary\nactions+=/vengeful_retreat,use_off_gcd=1,if=talent.initiative&!talent.essence_break&time>1&!buff.momentum.up\nactions+=/fel_rush,if=talent.momentum.enabled&buff.momentum.remains<gcd.max*2&(charges_fractional>1.8||cooldown.eye_beam.remains<3)&debuff.essence_break.down&cooldown.blade_dance.remains\nactions+=/essence_break,if=(active_enemies>desired_targets||raid_event.adds.in>40)&!variable.waiting_for_momentum&(buff.metamorphosis.remains>gcd.max*3||cooldown.eye_beam.remains>10)&(!talent.tactical_retreat||buff.tactical_retreat.up||time<10)&cooldown.blade_dance.remains<=3.1*gcd.max||fight_remains<6\nactions+=/death_sweep,if=variable.blade_dance&(!talent.essence_break||cooldown.essence_break.remains>gcd.max*2)\nactions+=/fel_barrage,if=active_enemies>desired_targets||raid_event.adds.in>30\nactions+=/glaive_tempest,if=active_enemies>desired_targets||raid_event.adds.in>10&(debuff.essence_break.down||active_enemies>1)\nactions+=/annihilation,if=buff.inner_demon.up&cooldown.eye_beam.remains<=gcd\nactions+=/fel_rush,if=talent.momentum.enabled&cooldown.eye_beam.remains<gcd.max*3&buff.momentum.remains<5&buff.metamorphosis.down\nactions+=/the_hunt,if=debuff.essence_break.down&(time<10||cooldown.metamorphosis.remains>10||!equipped.algethar_puzzle_box)&(raid_event.adds.in>90||active_enemies>3||time_to_die<10)&(time>6&debuff.essence_break.down&(!talent.furious_gaze||buff.furious_gaze.up)||!set_bonus.tier30_2pc)\nactions+=/eye_beam,if=active_enemies>desired_targets||raid_event.adds.in>(40-talent.cycle_of_hatred*15)&!debuff.essence_break.up&(cooldown.metamorphosis.remains>40-talent.cycle_of_hatred*15||!variable.holding_meta)&(buff.metamorphosis.down||buff.metamorphosis.remains>gcd.max||!talent.restless_hunter)||fight_remains<15\nactions+=/blade_dance,if=variable.blade_dance&(cooldown.eye_beam.remains>5||equipped.algethar_puzzle_box&cooldown.metamorphosis.remains>(cooldown.blade_dance.duration)||!talent.demonic||(raid_event.adds.in>cooldown&raid_event.adds.in<25))\nactions+=/sigil_of_flame,if=talent.any_means_necessary&debuff.essence_break.down&active_enemies>=4\nactions+=/throw_glaive,if=talent.soulrend&(active_enemies>desired_targets||raid_event.adds.in>full_recharge_time+9)&spell_targets>=(2-talent.furious_throws)&!debuff.essence_break.up&(full_recharge_time<gcd.max*3||active_enemies>1)\nactions+=/sigil_of_flame,if=talent.any_means_necessary&debuff.essence_break.down\nactions+=/immolation_aura,if=active_enemies>=2&fury<70&debuff.essence_break.down\nactions+=/annihilation,if=!variable.pooling_for_blade_dance||set_bonus.tier30_2pc\nactions+=/throw_glaive,if=talent.soulrend&(active_enemies>desired_targets||raid_event.adds.in>full_recharge_time+9)&spell_targets>=(2-talent.furious_throws)&!debuff.essence_break.up\nactions+=/immolation_aura,if=!buff.immolation_aura.up&(!talent.ragefire||active_enemies>desired_targets||raid_event.adds.in>15)\nactions+=/fel_rush,if=talent.isolated_prey&active_enemies=1&fury.deficit>=35\nactions+=/chaos_strike,if=!variable.pooling_for_blade_dance&!variable.pooling_for_eye_beam\nactions+=/sigil_of_flame,if=raid_event.adds.in>15&fury.deficit>=30\nactions+=/felblade,if=fury.deficit>=40\nactions+=/fel_rush,if=settings.fel_rush_filler&!talent.momentum&talent.demon_blades&!cooldown.eye_beam.ready&(charges=2||(raid_event.movement.in>10&raid_event.adds.in>10))\nactions+=/demons_bite,cycle_targets=1,if=talent.burning_wound&debuff.burning_wound.remains<4&active_dot.burning_wound<(spell_targets>?3)\nactions+=/fel_rush,if=settings.fel_rush_filler&!talent.momentum&!talent.demon_blades&spell_targets>1&(charges=2||(raid_event.movement.in>10&raid_event.adds.in>10))\nactions+=/sigil_of_flame,if=raid_event.adds.in>15&fury.deficit>=30\nactions+=/demons_bite\nactions+=/fel_rush,if=settings.fel_rush_filler&(movement.distance>15||(buff.out_of_range.up&!talent.momentum))\nactions+=/vengeful_retreat,if=settings.retreat_filler&!talent.initiative&movement.distance>15\nactions+=/throw_glaive,if=(talent.demon_blades||buff.out_of_range.up)&!debuff.essence_break.up\nactions+=/use_item,name=dragonfire_bomb_dispenser,use_off_gcd=1,if=fight_remains<20||charges=3||cooldown.vengeful_retreat.remains<5\nactions+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1\n\nactions.meta_end+=/death_sweep\nactions.meta_end+=/annihilation\n\nactions.cooldown+=/sigil_of_misery,if=talent.misery_in_defeat&!target.is_boss&target.time_to_die>10&(cooldown.metamorphosis.remains<6||talent.demonic&cooldown.eye_beam.remains<6||buff.metamorphosis.remains>10)\n# Cast Metamorphosis if we will get a full Eye Beam refresh or if the encounter is almost over\nactions.cooldown+=/metamorphosis,if=!talent.demonic&((!talent.chaotic_transformation||cooldown.eye_beam.remains>20)&active_enemies>desired_targets||raid_event.adds.in>60||boss&fight_remains<25)\nactions.cooldown+=/metamorphosis,if=talent.demonic&(!talent.chaotic_transformation||cooldown.eye_beam.remains>20&(!variable.blade_dance||cooldown.blade_dance.remains>gcd.max)||boss&fight_remains<25+talent.shattered_destiny*70&cooldown.eye_beam.remains&cooldown.blade_dance.remains)\nactions.cooldown+=/potion,if=buff.metamorphosis.remains>25||buff.metamorphosis.up&cooldown.metamorphosis.ready||boss&fight_remains<60||time>0.1&time<10\nactions.cooldown+=/elysian_decree,if=(active_enemies>desired_targets||raid_event.adds.in>30)\nactions.cooldown+=/use_item,name=manic_grieftorch,use_off_gcd=1,if=((buff.initiative.remains>2&debuff.essence_break.down&cooldown.essence_break.remains>gcd.max&time>14||time_to_die<10||time<1&!equipped.algethar_puzzle_box||boss&(fight_remains%%120<5))&!prev_gcd.1.essence_break)\nactions.cooldown+=/use_item,name=algethar_puzzle_box,use_off_gcd=1,if=cooldown.metamorphosis.remains<=gcd.max*5||boss&((fight_remains%%180>10)&(fight_remains%%180<22)||fight_remains<25)\nactions.cooldown+=/use_item,name=irideus_fragment,use_off_gcd=1,if=cooldown.metamorphosis.remains<=gcd.max&time>2||fight_remains%%180>10&fight_remains%%180<22||fight_remains<22\nactions.cooldown+=/use_item,name=stormeaters_boon,use_off_gcd=1,if=cooldown.metamorphosis.remains&(!talent.momentum||buff.momentum.remains>5)&(active_enemies>1||raid_event.adds.in>140)\nactions.cooldown+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=debuff.essence_break.down&!prev_gcd.1.essence_break&(!equipped.irideus_fragment||trinket.1.cooldown.remains>20||trinket.2.cooldown.remains>20)\nactions.cooldown+=/use_item,name=dragonfire_bomb_dispenser,use_off_gcd=1,if=(time_to_die<30||cooldown.vengeful_retreat.remains<5||equipped.beacon_to_the_beyond||equipped.irideus_fragment)&(trinket.1.cooldown.remains>10||trinket.2.cooldown.remains>10||trinket.1.cooldown.duration=0||trinket.2.cooldown.duration=0||equipped.elementium_pocket_anvil||equipped.screaming_black_dragonscale||equipped.mark_of_dargrul)||(trinket.1.cooldown.duration>0||trinket.2.cooldown.duration>0)&(trinket.1.cooldown.remains||trinket.2.cooldown.remains)&!equipped.elementium_pocket_anvil&time<25\nactions.cooldown+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1,if=!prev_gcd.1.fel_rush&gcd.remains\n# Default use item logic\nactions.cooldown+=/use_items,slots=trinket1,if=(variable.trinket_sync_slot=1&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.1.cooldown.duration%2))||fight_remains<=20)||(variable.trinket_sync_slot=2&!trinket.2.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative||buff.initiative.up)\nactions.cooldown+=/use_items,slots=trinket2,if=(variable.trinket_sync_slot=2&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.2.cooldown.duration%2))||fight_remains<=20)||(variable.trinket_sync_slot=1&!trinket.1.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative||buff.initiative.up)",
					["version"] = 20230718,
					["warnings"] = "The import for 'cooldown' required some automated changes.\nLine 1: Converted 'talent.misery_in_defeat' to 'talent.misery_in_defeat.enabled' (1x).\nLine 1: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 2: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 2: Converted 'talent.chaotic_transformation' to 'talent.chaotic_transformation.enabled' (1x).\nLine 3: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 3: Converted 'talent.chaotic_transformation' to 'talent.chaotic_transformation.enabled' (1x).\nLine 3: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 6: Converted operations in '((buff.initiative.remains>2&debuff.essence_break.down&cooldown.essence_break.remains>gcd.max&time>14||time_to_die<10||time<1&!equipped.algethar_puzzle_box||boss&(fight_remains%%120<5))&!prev_gcd.1.essence_break)' to '((buff.initiative.remains>2&debuff.essence_break.down&cooldown.essence_break.remains>gcd.max&time>14||time_to_die<10||time<1&!equipped.algethar_puzzle_box||boss&(fight_remains%120<5))&!prev_gcd.1.essence_break)'.\nLine 7: Converted operations in 'cooldown.metamorphosis.remains<=gcd.max*5||boss&((fight_remains%%180>10)&(fight_remains%%180<22)||fight_remains<25)' to 'cooldown.metamorphosis.remains<=gcd.max*5||boss&((fight_remains%180>10)&(fight_remains%180<22)||fight_remains<25)'.\nLine 8: Converted operations in 'cooldown.metamorphosis.remains<=gcd.max&time>2||fight_remains%%180>10&fight_remains%%180<22||fight_remains<22' to 'cooldown.metamorphosis.remains<=gcd.max&time>2||fight_remains%180>10&fight_remains%180<22||fight_remains<22'.\nLine 9: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 10: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 10: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 11: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 11: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 11: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 11: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 13: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 13: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 13: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready' (1x).\nLine 13: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready'.\nLine 13: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 13: Converted operations in '(variable.trinket_sync_slot=1&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.t1.cooldown.duration%2))||fight_remains<=20)||(variable.trinket_sync_slot=2&!trinket.t2.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative.enabled||buff.initiative.up)' to '(variable.trinket_sync_slot=1&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.t1.cooldown.duration/2))||fight_remains<=20)||(variable.trinket_sync_slot=2&!trinket.t2.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative.enabled||buff.initiative.up)'.\nLine 14: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 14: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 14: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready' (1x).\nLine 14: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready'.\nLine 14: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 14: Converted operations in '(variable.trinket_sync_slot=2&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.t2.cooldown.duration%2))||fight_remains<=20)||(variable.trinket_sync_slot=1&!trinket.t1.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative.enabled||buff.initiative.up)' to '(variable.trinket_sync_slot=2&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.t2.cooldown.duration/2))||fight_remains<=20)||(variable.trinket_sync_slot=1&!trinket.t1.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative.enabled||buff.initiative.up)'.\n\nThe import for 'default' required some automated changes.\nLine 3: Converted 'talent.first_blood' to 'talent.first_blood.enabled' (1x).\nLine 3: Converted 'talent.trail_of_ruin' to 'talent.trail_of_ruin.enabled' (1x).\nLine 3: Converted 'talent.chaos_theory' to 'talent.chaos_theory.enabled' (1x).\nLine 4: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\nLine 5: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 5: Converted 'talent.blind_fury' to 'talent.blind_fury.enabled' (1x).\nLine 6: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 7: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 7: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 7: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 7: Converted 'talent.inner_demon' to 'talent.inner_demon.enabled' (1x).\nLine 8: Converted 'talent.ragefire' to 'talent.ragefire.enabled' (1x).\nLine 9: Converted 'talent.serrated_glaive' to 'talent.serrated_glaive.enabled' (1x).\nLine 10: Converted 'talent.serrated_glaive' to 'talent.serrated_glaive.enabled' (1x).\nLine 15: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 15: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 15: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 15: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 15: Converted 'talent.any_means_necessary' to 'talent.any_means_necessary.enabled' (1x).\nLine 15: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 16: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 16: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 16: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 16: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 16: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 16: Converted 'talent.any_means_necessary' to 'talent.any_means_necessary.enabled' (1x).\nLine 17: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 17: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 19: Converted 'talent.tactical_retreat' to 'talent.tactical_retreat.enabled' (1x).\nLine 20: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 25: Converted 'talent.furious_gaze' to 'talent.furious_gaze.enabled' (1x).\nLine 26: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 26: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 26: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\nLine 27: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 28: Converted 'talent.any_means_necessary' to 'talent.any_means_necessary.enabled' (1x).\nLine 29: Converted 'talent.soulrend' to 'talent.soulrend.enabled' (1x).\nLine 29: Converted 'talent.furious_throws' to 'talent.furious_throws.enabled' (1x).\nLine 30: Converted 'talent.any_means_necessary' to 'talent.any_means_necessary.enabled' (1x).\nLine 33: Converted 'talent.soulrend' to 'talent.soulrend.enabled' (1x).\nLine 33: Converted 'talent.furious_throws' to 'talent.furious_throws.enabled' (1x).\nLine 34: Converted 'talent.ragefire' to 'talent.ragefire.enabled' (1x).\nLine 35: Converted 'talent.isolated_prey' to 'talent.isolated_prey.enabled' (1x).\nLine 39: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 39: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\nLine 40: Converted 'talent.burning_wound' to 'talent.burning_wound.enabled' (1x).\nLine 41: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 41: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\nLine 44: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 45: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 46: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 1: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 1: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\n\nImported 4 action lists.\n",
					["author"] = "SimC",
					["lists"] = {
						["meta_end"] = {
							{
								["action"] = "death_sweep",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "annihilation",
								["enabled"] = true,
							}, -- [2]
						},
						["cooldown"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.misery_in_defeat.enabled & ! target.is_boss & target.time_to_die > 10 & ( cooldown.metamorphosis.remains < 6 || talent.demonic.enabled & cooldown.eye_beam.remains < 6 || buff.metamorphosis.remains > 10 )",
								["action"] = "sigil_of_misery",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! talent.demonic.enabled & ( ( ! talent.chaotic_transformation.enabled || cooldown.eye_beam.remains > 20 ) & active_enemies > desired_targets || raid_event.adds.in > 60 || boss & fight_remains < 25 )",
								["action"] = "metamorphosis",
								["description"] = "Cast Metamorphosis if we will get a full Eye Beam refresh or if the encounter is almost over",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.demonic.enabled & ( ! talent.chaotic_transformation.enabled || cooldown.eye_beam.remains > 20 & ( ! variable.blade_dance || cooldown.blade_dance.remains > gcd.max ) || boss & fight_remains < 25 + talent.shattered_destiny.enabled * 70 & cooldown.eye_beam.remains & cooldown.blade_dance.remains )",
								["action"] = "metamorphosis",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.metamorphosis.remains > 25 || buff.metamorphosis.up & cooldown.metamorphosis.ready || boss & fight_remains < 60 || time > 0.1 & time < 10",
								["action"] = "potion",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies > desired_targets || raid_event.adds.in > 30 )",
								["action"] = "elysian_decree",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "manic_grieftorch",
								["use_off_gcd"] = 1,
								["name"] = "manic_grieftorch",
								["criteria"] = "( ( buff.initiative.remains > 2 & debuff.essence_break.down & cooldown.essence_break.remains > gcd.max & time > 14 || time_to_die < 10 || time < 1 & ! equipped.algethar_puzzle_box || boss & ( fight_remains % 120 < 5 ) ) & ! prev_gcd.1.essence_break )",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "algethar_puzzle_box",
								["use_off_gcd"] = 1,
								["name"] = "algethar_puzzle_box",
								["criteria"] = "cooldown.metamorphosis.remains <= gcd.max * 5 || boss & ( ( fight_remains % 180 > 10 ) & ( fight_remains % 180 < 22 ) || fight_remains < 25 )",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "irideus_fragment",
								["use_off_gcd"] = 1,
								["name"] = "irideus_fragment",
								["criteria"] = "cooldown.metamorphosis.remains <= gcd.max & time > 2 || fight_remains % 180 > 10 & fight_remains % 180 < 22 || fight_remains < 22",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "stormeaters_boon",
								["use_off_gcd"] = 1,
								["name"] = "stormeaters_boon",
								["criteria"] = "cooldown.metamorphosis.remains & ( ! talent.momentum.enabled || buff.momentum.remains > 5 ) & ( active_enemies > 1 || raid_event.adds.in > 140 )",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["name"] = "beacon_to_the_beyond",
								["criteria"] = "debuff.essence_break.down & ! prev_gcd.1.essence_break & ( ! equipped.irideus_fragment || trinket.t1.cooldown.remains > 20 || trinket.t2.cooldown.remains > 20 )",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "dragonfire_bomb_dispenser",
								["use_off_gcd"] = 1,
								["name"] = "dragonfire_bomb_dispenser",
								["criteria"] = "( time_to_die < 30 || cooldown.vengeful_retreat.remains < 5 || equipped.beacon_to_the_beyond || equipped.irideus_fragment ) & ( trinket.t1.cooldown.remains > 10 || trinket.t2.cooldown.remains > 10 || trinket.t1.cooldown.duration = 0 || trinket.t2.cooldown.duration = 0 || equipped.elementium_pocket_anvil || equipped.screaming_black_dragonscale || equipped.mark_of_dargrul ) || ( trinket.t1.cooldown.duration > 0 || trinket.t2.cooldown.duration > 0 ) & ( trinket.t1.cooldown.remains || trinket.t2.cooldown.remains ) & ! equipped.elementium_pocket_anvil & time < 25",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "elementium_pocket_anvil",
								["use_off_gcd"] = 1,
								["name"] = "elementium_pocket_anvil",
								["criteria"] = "! prev_gcd.1.fel_rush & gcd.remains",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "( variable.trinket_sync_slot = 1 & ( buff.metamorphosis.up || ( ! talent.demonic.enabled & cooldown.metamorphosis.remains > ( fight_remains >? trinket.t1.cooldown.duration / 2 ) ) || fight_remains <= 20 ) || ( variable.trinket_sync_slot = 2 & ! trinket.t2.cooldown.ready ) || ! variable.trinket_sync_slot ) & ( ! talent.initiative.enabled || buff.initiative.up )",
								["description"] = "Default use item logic",
								["slots"] = "trinket1",
								["action"] = "trinket1",
							}, -- [13]
							{
								["enabled"] = true,
								["slots"] = "trinket2",
								["action"] = "trinket2",
								["criteria"] = "( variable.trinket_sync_slot = 2 & ( buff.metamorphosis.up || ( ! talent.demonic.enabled & cooldown.metamorphosis.remains > ( fight_remains >? trinket.t2.cooldown.duration / 2 ) ) || fight_remains <= 20 ) || ( variable.trinket_sync_slot = 1 & ! trinket.t1.cooldown.ready ) || ! variable.trinket_sync_slot ) & ( ! talent.initiative.enabled || buff.initiative.up )",
							}, -- [14]
						},
						["default"] = {
							{
								["action"] = "disrupt",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "consume_magic",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.first_blood.enabled || talent.trail_of_ruin.enabled || talent.chaos_theory.enabled & buff.chaos_theory.down || spell_targets.blade_dance1 > 1",
								["description"] = "Blade Dance with First Blood, Trail of Ruin, or at 2+ targets",
								["var_name"] = "blade_dance",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "variable.blade_dance & fury < ( 75 - talent.demon_blades.enabled * 20 ) & cooldown.blade_dance.remains < gcd.max",
								["var_name"] = "pooling_for_blade_dance",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.demonic.enabled & ! talent.blind_fury.enabled & cooldown.eye_beam.remains < ( gcd.max * 2 ) & fury < 60",
								["var_name"] = "pooling_for_eye_beam",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.momentum.enabled & ! buff.momentum.up & ! ( action.fel_rush.disabled & action.vengeful_retreat.disabled )",
								["var_name"] = "waiting_for_momentum",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "( talent.demonic.enabled & talent.essence_break.enabled ) & variable.three_min_trinket & fight_remains > cooldown.metamorphosis.remains + 30 + talent.shattered_destiny.enabled * 60 & cooldown.metamorphosis.remains < 20 & cooldown.metamorphosis.remains > action.eye_beam.execute_time + gcd.max * ( talent.inner_demon.enabled + 2 )",
								["var_name"] = "holding_meta",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.ragefire.enabled & active_enemies >= 3 & ( cooldown.blade_dance.remains || debuff.essence_break.down )",
								["action"] = "immolation_aura",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.serrated_glaive.enabled & ( buff.metamorphosis.remains > gcd.max * 6 & ( debuff.serrated_glaive.down || debuff.serrated_glaive.remains < cooldown.essence_break.remains + 5 & cooldown.essence_break.remains < gcd.max * 2 ) & ( cooldown.blade_dance.remains || cooldown.essence_break.remains < gcd.max * 2 ) || time < 0.5 ) & debuff.essence_break.down & target.time_to_die > gcd.max * 8",
								["action"] = "throw_glaive",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.serrated_glaive.enabled & cooldown.eye_beam.remains < gcd.max * 2 & debuff.serrated_glaive.remains < ( 2 + buff.metamorphosis.down * 6 ) & ( cooldown.blade_dance.remains || buff.metamorphosis.down ) & debuff.essence_break.down & target.time_to_die > gcd.max * 8",
								["action"] = "throw_glaive",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.unbound_chaos.up & ( buff.unbound_chaos.remains < gcd.max * 2 || target.time_to_die < gcd.max * 2 )",
								["action"] = "fel_rush",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cooldown",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.metamorphosis.up & buff.metamorphosis.remains < gcd.max & active_enemies < 3",
								["action"] = "call_action_list",
								["list_name"] = "meta_end",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.inner_demon.up & cooldown.metamorphosis.remains <= gcd.max * 3",
								["action"] = "annihilation",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "vengeful_retreat",
								["criteria"] = "talent.initiative.enabled & talent.essence_break.enabled & time > 1 & ( cooldown.essence_break.remains > 15 || cooldown.essence_break.remains < gcd.max & ( ! talent.demonic.enabled || buff.metamorphosis.up || cooldown.eye_beam.remains > 15 + ( 10 * talent.cycle_of_hatred.enabled ) ) ) & ( time < 30 || gcd.remains < 1 ) & ! talent.any_means_necessary.enabled & ( ! talent.initiative.enabled || buff.initiative.remains < gcd.max || time > 4 )",
								["use_off_gcd"] = 1,
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "vengeful_retreat",
								["criteria"] = "talent.initiative.enabled & talent.essence_break.enabled & time > 1 & ( cooldown.essence_break.remains > 15 || cooldown.essence_break.remains < gcd.max * 2 & ( buff.initiative.remains < gcd.max & ! variable.holding_meta & cooldown.eye_beam.remains <= gcd.remains & ( raid_event.adds.in > ( 40 - talent.cycle_of_hatred.enabled * 15 ) ) & fury > 30 || ! talent.demonic.enabled || buff.metamorphosis.up || cooldown.eye_beam.remains > 15 + ( 10 * talent.cycle_of_hatred.enabled ) ) ) & talent.any_means_necessary.enabled",
								["use_off_gcd"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "vengeful_retreat",
								["criteria"] = "talent.initiative.enabled & ! talent.essence_break.enabled & time > 1 & ! buff.momentum.up",
								["use_off_gcd"] = 1,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "talent.momentum.enabled & buff.momentum.remains < gcd.max * 2 & ( charges_fractional > 1.8 || cooldown.eye_beam.remains < 3 ) & debuff.essence_break.down & cooldown.blade_dance.remains",
								["action"] = "fel_rush",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies > desired_targets || raid_event.adds.in > 40 ) & ! variable.waiting_for_momentum & ( buff.metamorphosis.remains > gcd.max * 3 || cooldown.eye_beam.remains > 10 ) & ( ! talent.tactical_retreat.enabled || buff.tactical_retreat.up || time < 10 ) & cooldown.blade_dance.remains <= 3.1 * gcd.max || fight_remains < 6",
								["action"] = "essence_break",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "variable.blade_dance & ( ! talent.essence_break.enabled || cooldown.essence_break.remains > gcd.max * 2 )",
								["action"] = "death_sweep",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > desired_targets || raid_event.adds.in > 30",
								["action"] = "fel_barrage",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > desired_targets || raid_event.adds.in > 10 & ( debuff.essence_break.down || active_enemies > 1 )",
								["action"] = "glaive_tempest",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "buff.inner_demon.up & cooldown.eye_beam.remains <= gcd.max",
								["action"] = "annihilation",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "talent.momentum.enabled & cooldown.eye_beam.remains < gcd.max * 3 & buff.momentum.remains < 5 & buff.metamorphosis.down",
								["action"] = "fel_rush",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "debuff.essence_break.down & ( time < 10 || cooldown.metamorphosis.remains > 10 || ! equipped.algethar_puzzle_box ) & ( raid_event.adds.in > 90 || active_enemies > 3 || time_to_die < 10 ) & ( time > 6 & debuff.essence_break.down & ( ! talent.furious_gaze.enabled || buff.furious_gaze.up ) || ! set_bonus.tier30_2pc )",
								["action"] = "the_hunt",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > desired_targets || raid_event.adds.in > ( 40 - talent.cycle_of_hatred.enabled * 15 ) & ! debuff.essence_break.up & ( cooldown.metamorphosis.remains > 40 - talent.cycle_of_hatred.enabled * 15 || ! variable.holding_meta ) & ( buff.metamorphosis.down || buff.metamorphosis.remains > gcd.max || ! talent.restless_hunter.enabled ) || fight_remains < 15",
								["action"] = "eye_beam",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "variable.blade_dance & ( cooldown.eye_beam.remains > 5 || equipped.algethar_puzzle_box & cooldown.metamorphosis.remains > ( cooldown.blade_dance.duration ) || ! talent.demonic.enabled || ( raid_event.adds.in > action_cooldown & raid_event.adds.in < 25 ) )",
								["action"] = "blade_dance",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "talent.any_means_necessary.enabled & debuff.essence_break.down & active_enemies >= 4",
								["action"] = "sigil_of_flame",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "talent.soulrend.enabled & ( active_enemies > desired_targets || raid_event.adds.in > full_recharge_time + 9 ) & spell_targets >= ( 2 - talent.furious_throws.enabled ) & ! debuff.essence_break.up & ( full_recharge_time < gcd.max * 3 || active_enemies > 1 )",
								["action"] = "throw_glaive",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "talent.any_means_necessary.enabled & debuff.essence_break.down",
								["action"] = "sigil_of_flame",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 2 & fury < 70 & debuff.essence_break.down",
								["action"] = "immolation_aura",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "! variable.pooling_for_blade_dance || set_bonus.tier30_2pc",
								["action"] = "annihilation",
							}, -- [32]
							{
								["enabled"] = true,
								["criteria"] = "talent.soulrend.enabled & ( active_enemies > desired_targets || raid_event.adds.in > full_recharge_time + 9 ) & spell_targets >= ( 2 - talent.furious_throws.enabled ) & ! debuff.essence_break.up",
								["action"] = "throw_glaive",
							}, -- [33]
							{
								["enabled"] = true,
								["criteria"] = "! buff.immolation_aura.up & ( ! talent.ragefire.enabled || active_enemies > desired_targets || raid_event.adds.in > 15 )",
								["action"] = "immolation_aura",
							}, -- [34]
							{
								["enabled"] = true,
								["criteria"] = "talent.isolated_prey.enabled & active_enemies = 1 & fury.deficit >= 35",
								["action"] = "fel_rush",
							}, -- [35]
							{
								["enabled"] = true,
								["criteria"] = "! variable.pooling_for_blade_dance & ! variable.pooling_for_eye_beam",
								["action"] = "chaos_strike",
							}, -- [36]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15 & fury.deficit >= 30",
								["action"] = "sigil_of_flame",
							}, -- [37]
							{
								["enabled"] = true,
								["criteria"] = "fury.deficit >= 40",
								["action"] = "felblade",
							}, -- [38]
							{
								["enabled"] = true,
								["criteria"] = "settings.fel_rush_filler & ! talent.momentum.enabled & talent.demon_blades.enabled & ! cooldown.eye_beam.ready & ( charges = 2 || ( raid_event.movement.in > 10 & raid_event.adds.in > 10 ) )",
								["action"] = "fel_rush",
							}, -- [39]
							{
								["enabled"] = true,
								["action"] = "demons_bite",
								["criteria"] = "talent.burning_wound.enabled & debuff.burning_wound.remains < 4 & active_dot.burning_wound < ( spell_targets >? 3 )",
								["cycle_targets"] = 1,
							}, -- [40]
							{
								["enabled"] = true,
								["criteria"] = "settings.fel_rush_filler & ! talent.momentum.enabled & ! talent.demon_blades.enabled & spell_targets > 1 & ( charges = 2 || ( raid_event.movement.in > 10 & raid_event.adds.in > 10 ) )",
								["action"] = "fel_rush",
							}, -- [41]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15 & fury.deficit >= 30",
								["action"] = "sigil_of_flame",
							}, -- [42]
							{
								["action"] = "demons_bite",
								["enabled"] = true,
							}, -- [43]
							{
								["enabled"] = true,
								["criteria"] = "settings.fel_rush_filler & ( movement.distance > 15 || ( buff.out_of_range.up & ! talent.momentum.enabled ) )",
								["action"] = "fel_rush",
							}, -- [44]
							{
								["enabled"] = true,
								["criteria"] = "settings.retreat_filler & ! talent.initiative.enabled & movement.distance > 15",
								["action"] = "vengeful_retreat",
							}, -- [45]
							{
								["enabled"] = true,
								["criteria"] = "( talent.demon_blades.enabled || buff.out_of_range.up ) & ! debuff.essence_break.up",
								["action"] = "throw_glaive",
							}, -- [46]
							{
								["enabled"] = true,
								["action"] = "dragonfire_bomb_dispenser",
								["use_off_gcd"] = 1,
								["name"] = "dragonfire_bomb_dispenser",
								["criteria"] = "fight_remains < 20 || charges = 3 || cooldown.vengeful_retreat.remains < 5",
							}, -- [47]
							{
								["enabled"] = true,
								["name"] = "elementium_pocket_anvil",
								["action"] = "elementium_pocket_anvil",
								["use_off_gcd"] = 1,
							}, -- [48]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t1.cooldown.duration = 180 || trinket.t2.cooldown.duration = 180",
								["var_name"] = "three_min_trinket",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "fury.deficit > 15",
								["action"] = "arcane_torrent",
							}, -- [2]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
								["criteria"] = "cooldown.metamorphosis.remains < 5",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! equipped.algethar_puzzle_box",
								["action"] = "sigil_of_flame",
							}, -- [4]
							{
								["action"] = "immolation_aura",
								["enabled"] = true,
							}, -- [5]
						},
					},
				},
				["Frost Mage"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230807,
					["author"] = "SimC",
					["desc"] = "2023-08-07:  Align Time Warp with Icy Veins.\n\n2023-07-22:  SimC update for new 'freezable' expression; tweak Shifting Power in AOE.\n\n2023-07-14:  Don't Shifting Power in ST if nothing is really on CD.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-07-02:  Use debuff.sated.up for Temporal Warp.\n\n2023-05-12:  Update Spoils trinket.\n\n2023-05-08:  Updates from SimC; limited_ice_lance now factors in Slick Ice as well.\n\n2023-05-02:  Update for 10.1.\n\n2023-03-28:  Add experimental option for the \"less Ice Lance\" build.",
					["lists"] = {
						["default"] = {
							{
								["action"] = "counterspell",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cds",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies >= 7 & ! set_bonus.tier30_2pc || active_enemies >= 3 & talent.ice_caller.enabled",
								["list_name"] = "aoe",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["list_name"] = "st",
							}, -- [4]
						},
						["precombat"] = {
							{
								["action"] = "arcane_intellect",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 2",
								["action"] = "blizzard",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1",
								["action"] = "frostbolt",
							}, -- [3]
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.coldest_snap.enabled & ( prev_gcd.1.comet_storm || prev_gcd.1.frozen_orb & ! talent.comet_storm.enabled )",
								["action"] = "cone_of_cold",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! prev_gcd.1.glacial_spike || ! freezable",
								["action"] = "frozen_orb",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! prev_gcd.1.glacial_spike || ! freezable",
								["action"] = "blizzard",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! prev_gcd.1.glacial_spike & ( ! talent.coldest_snap.enabled || cooldown.cone_of_cold.ready & cooldown.frozen_orb.remains > 25 || cooldown.cone_of_cold.remains > 20 )",
								["action"] = "comet_storm",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "freezable & debuff.frozen.down & ( ! talent.glacial_spike.enabled & ! talent.snowstorm.enabled || prev_gcd.1.glacial_spike || cooldown.cone_of_cold.ready & buff.snowstorm.stack = buff.snowstorm.max_stack )",
								["action"] = "freeze",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "freezable & ! prev_off_gcd.freeze & ( prev_gcd.1.glacial_spike || cooldown.cone_of_cold.ready & buff.snowstorm.stack = buff.snowstorm.max_stack & gcd.max < 1 )",
								["action"] = "ice_nova",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "freezable & ! prev_off_gcd.freeze & ( prev_gcd.1.glacial_spike & ! remaining_winters_chill || cooldown.cone_of_cold.ready & buff.snowstorm.stack = buff.snowstorm.max_stack & gcd.max < 1 )",
								["action"] = "frost_nova",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.snowstorm.stack = buff.snowstorm.max_stack",
								["action"] = "cone_of_cold",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.frozen_orb.true_remains > 10 & ( ! talent.comet_storm.enabled || cooldown.comet_storm.true_remains > 10 ) & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.true_remains > 10 ) || cooldown.icy_veins.true_remains < 20 || boss & fight_remains < 20",
								["action"] = "shifting_power",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.icicles.react = 5 & cooldown.blizzard.remains > gcd.max",
								["action"] = "glacial_spike",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "! freezable & cooldown_react & ! debuff.winters_chill.remains & ( prev_gcd.1.glacial_spike || charges_fractional > 1.8 )",
								["action"] = "flurry",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "cooldown_react & ! debuff.winters_chill.remains & ( buff.brain_freeze.react || ! buff.fingers_of_frost.react )",
								["action"] = "flurry",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.fingers_of_frost.react || debuff.frozen.remains > travel_time || remaining_winters_chill",
								["action"] = "ice_lance",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 4 & ( ! talent.snowstorm.enabled & ! talent.glacial_spike.enabled || ! freezable )",
								["action"] = "ice_nova",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 7",
								["action"] = "dragons_breath",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "mana.pct > 30 & active_enemies >= 7",
								["action"] = "arcane_explosion",
							}, -- [16]
							{
								["action"] = "frostbolt",
								["enabled"] = true,
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "movement",
							}, -- [18]
						},
						["cds"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.sated.up & talent.temporal_warp.enabled & buff.bloodlust.down & action.icy_veins.time_since < 2 * gcd.max",
								["action"] = "time_warp",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "spoils_of_neltharus",
								["criteria"] = "buff.spoils_of_neltharus_mastery.up || buff.spoils_of_neltharus_haste.up & buff.bloodlust.down & buff.temporal_warp.down & time > 0 || buff.spoils_of_neltharus_vers.up & ( buff.bloodlust.up || buff.temporal_warp.up )",
								["name"] = "spoils_of_neltharus",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "prev_off_gcd.icy_veins || boss & fight_remains < 60",
								["action"] = "potion",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "flurry",
								["description"] = "The Mage Discord doesn't check remaining_winters_chill, but that's because sims start with a fresh state and the addon doesn't.",
								["criteria"] = "time = 0 & active_enemies <= 2",
							}, -- [4]
							{
								["action"] = "icy_veins",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [8]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [9]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [10]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [11]
						},
						["st"] = {
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.flurry || prev_gcd.1.cone_of_cold",
								["action"] = "comet_storm",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "cooldown_react & remaining_winters_chill = 0 & debuff.winters_chill.down & ( prev_gcd.1.frostbolt || prev_gcd.1.glacial_spike || talent.glacial_spike.enabled & buff.icicles.react = 4 & ! buff.fingers_of_frost.react )",
								["action"] = "flurry",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.glacial_spike.enabled & debuff.winters_chill.down & buff.icicles.react = 4 & buff.fingers_of_frost.react",
								["action"] = "ice_lance",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "remaining_winters_chill = 1",
								["action"] = "ray_of_frost",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.icicles.react = 5 & ( action.flurry.cooldown_react || remaining_winters_chill )",
								["action"] = "glacial_spike",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.fingers_of_frost.react < 2 & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.remains )",
								["action"] = "frozen_orb",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.coldest_snap.enabled & cooldown.comet_storm.remains > 10 & cooldown.frozen_orb.remains > 10 & remaining_winters_chill = 0 & active_enemies >= 3",
								["action"] = "cone_of_cold",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 2 & talent.ice_caller.enabled & talent.freezing_rain.enabled & ( ! talent.splintering_cold.enabled & ! talent.ray_of_frost.enabled || buff.freezing_rain.up || active_enemies >= 3 )",
								["action"] = "blizzard",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.frozen_orb.true_remains > 10 & ( ! talent.comet_storm.enabled || cooldown.comet_storm.true_remains > 10 ) & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.true_remains > 10 ) || cooldown.icy_veins.true_remains < 20 || boss & fight_remains < 20",
								["action"] = "shifting_power",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.fingers_of_frost.react & ! prev_gcd.1.glacial_spike || remaining_winters_chill",
								["action"] = "ice_lance",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 4",
								["action"] = "ice_nova",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.icicles.react = 5 & buff.icy_veins.up",
								["action"] = "glacial_spike",
							}, -- [12]
							{
								["action"] = "frostbolt",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "movement",
							}, -- [14]
						},
						["movement"] = {
							{
								["enabled"] = true,
								["criteria"] = "movement.distance > 10",
								["action"] = "blink",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.ice_floes.down",
								["action"] = "ice_floes",
							}, -- [2]
							{
								["action"] = "ice_nova",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "mana.pct > 30 & active_enemies >= 2",
								["action"] = "arcane_explosion",
							}, -- [4]
							{
								["action"] = "fire_blast",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "ice_lance",
								["enabled"] = true,
							}, -- [6]
						},
					},
					["version"] = 20230807,
					["warnings"] = "The import for 'default' required some automated changes.\nLine 3: Converted 'talent.ice_caller' to 'talent.ice_caller.enabled' (1x).\n\nThe import for 'aoe' required some automated changes.\nLine 1: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 1: Converted 'talent.comet_storm' to 'talent.comet_storm.enabled' (1x).\nLine 4: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 5: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 5: Converted 'talent.snowstorm' to 'talent.snowstorm.enabled' (1x).\nLine 9: Converted 'talent.comet_storm' to 'talent.comet_storm.enabled' (1x).\nLine 9: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\nLine 14: Converted 'talent.snowstorm' to 'talent.snowstorm.enabled' (1x).\nLine 14: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 1: Converted 'talent.temporal_warp' to 'talent.temporal_warp.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 2: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 3: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 6: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\nLine 7: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 8: Converted 'talent.ice_caller' to 'talent.ice_caller.enabled' (1x).\nLine 8: Converted 'talent.freezing_rain' to 'talent.freezing_rain.enabled' (1x).\nLine 8: Converted 'talent.splintering_cold' to 'talent.splintering_cold.enabled' (1x).\nLine 8: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\nLine 9: Converted 'talent.comet_storm' to 'talent.comet_storm.enabled' (1x).\nLine 9: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\n\nImported 6 action lists.\n",
					["profile"] = "actions.precombat+=/arcane_intellect\nactions.precombat+=/blizzard,if=active_enemies>=2\nactions.precombat+=/frostbolt,if=active_enemies=1\n\nactions=counterspell\nactions+=/call_action_list,name=cds\nactions+=/run_action_list,name=aoe,strict=1,if=active_enemies>=7&!set_bonus.tier30_2pc||active_enemies>=3&talent.ice_caller\nactions+=/run_action_list,name=st\n\nactions.aoe+=/cone_of_cold,if=talent.coldest_snap&(prev_gcd.1.comet_storm||prev_gcd.1.frozen_orb&!talent.comet_storm)\nactions.aoe+=/frozen_orb,if=!prev_gcd.1.glacial_spike||!freezable\nactions.aoe+=/blizzard,if=!prev_gcd.1.glacial_spike||!freezable\nactions.aoe+=/comet_storm,if=!prev_gcd.1.glacial_spike&(!talent.coldest_snap||cooldown.cone_of_cold.ready&cooldown.frozen_orb.remains>25||cooldown.cone_of_cold.remains>20)\nactions.aoe+=/freeze,if=freezable&debuff.frozen.down&(!talent.glacial_spike&!talent.snowstorm||prev_gcd.1.glacial_spike||cooldown.cone_of_cold.ready&buff.snowstorm.stack=buff.snowstorm.max_stack)\nactions.aoe+=/ice_nova,if=freezable&!prev_off_gcd.freeze&(prev_gcd.1.glacial_spike||cooldown.cone_of_cold.ready&buff.snowstorm.stack=buff.snowstorm.max_stack&gcd.max<1)\nactions.aoe+=/frost_nova,if=freezable&!prev_off_gcd.freeze&(prev_gcd.1.glacial_spike&!remaining_winters_chill||cooldown.cone_of_cold.ready&buff.snowstorm.stack=buff.snowstorm.max_stack&gcd.max<1)\nactions.aoe+=/cone_of_cold,if=buff.snowstorm.stack=buff.snowstorm.max_stack\nactions.aoe+=/shifting_power,if=cooldown.frozen_orb.true_remains>10&(!talent.comet_storm||cooldown.comet_storm.true_remains>10)&(!talent.ray_of_frost||cooldown.ray_of_frost.true_remains>10)||cooldown.icy_veins.true_remains<20||boss&fight_remains<20\nactions.aoe+=/glacial_spike,if=buff.icicles.react=5&cooldown.blizzard.remains>gcd.max\nactions.aoe+=/flurry,if=!freezable&cooldown_react&!debuff.winters_chill.remains&(prev_gcd.1.glacial_spike||charges_fractional>1.8)\nactions.aoe+=/flurry,if=cooldown_react&!debuff.winters_chill.remains&(buff.brain_freeze.react||!buff.fingers_of_frost.react)\nactions.aoe+=/ice_lance,if=buff.fingers_of_frost.react||debuff.frozen.remains>travel_time||remaining_winters_chill\nactions.aoe+=/ice_nova,if=active_enemies>=4&(!talent.snowstorm&!talent.glacial_spike||!freezable)\nactions.aoe+=/dragons_breath,if=active_enemies>=7\nactions.aoe+=/arcane_explosion,if=mana.pct>30&active_enemies>=7\nactions.aoe+=/frostbolt\nactions.aoe+=/call_action_list,name=movement\n\nactions.cds+=/time_warp,if=debuff.sated.up&talent.temporal_warp&buff.bloodlust.down&action.icy_veins.time_since<2*gcd.max\nactions.cds+=/use_item,name=spoils_of_neltharus,if=buff.spoils_of_neltharus_mastery.up||buff.spoils_of_neltharus_haste.up&buff.bloodlust.down&buff.temporal_warp.down&time>0||buff.spoils_of_neltharus_vers.up&(buff.bloodlust.up||buff.temporal_warp.up)\nactions.cds+=/potion,if=prev_off_gcd.icy_veins||boss&fight_remains<60\n# The Mage Discord doesn't check remaining_winters_chill, but that's because sims start with a fresh state and the addon doesn't.\nactions.cds+=/flurry,if=time=0&active_enemies<=2\nactions.cds+=/icy_veins\nactions.cds+=/use_items\n## External buffs are not invoked by the addon, as the player can't choose to trigger them personally.\n## actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.power_infusion.down\n## actions.cds+=/invoke_external_buff,name=blessing_of_summer,if=buff.blessing_of_summer.down\nactions.cds+=/blood_fury\nactions.cds+=/berserking\nactions.cds+=/lights_judgment\nactions.cds+=/fireblood\nactions.cds+=/ancestral_call\n\nactions.movement+=/any_blink,if=movement.distance>10\nactions.movement+=/ice_floes,if=buff.ice_floes.down\nactions.movement+=/ice_nova\nactions.movement+=/arcane_explosion,if=mana.pct>30&active_enemies>=2\nactions.movement+=/fire_blast\nactions.movement+=/ice_lance\n\nactions.st+=/comet_storm,if=prev_gcd.1.flurry||prev_gcd.1.cone_of_cold\nactions.st+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt||prev_gcd.1.glacial_spike||talent.glacial_spike&buff.icicles.react=4&!buff.fingers_of_frost.react)\nactions.st+=/ice_lance,if=talent.glacial_spike&debuff.winters_chill.down&buff.icicles.react=4&buff.fingers_of_frost.react\nactions.st+=/ray_of_frost,if=remaining_winters_chill=1\nactions.st+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react||remaining_winters_chill)\nactions.st+=/frozen_orb,if=buff.fingers_of_frost.react<2&(!talent.ray_of_frost||cooldown.ray_of_frost.remains)\nactions.st+=/cone_of_cold,if=talent.coldest_snap&cooldown.comet_storm.remains>10&cooldown.frozen_orb.remains>10&remaining_winters_chill=0&active_enemies>=3\nactions.st+=/blizzard,if=active_enemies>=2&talent.ice_caller&talent.freezing_rain&(!talent.splintering_cold&!talent.ray_of_frost||buff.freezing_rain.up||active_enemies>=3)\nactions.st+=/shifting_power,if=cooldown.frozen_orb.true_remains>10&(!talent.comet_storm||cooldown.comet_storm.true_remains>10)&(!talent.ray_of_frost||cooldown.ray_of_frost.true_remains>10)||cooldown.icy_veins.true_remains<20||boss&fight_remains<20\nactions.st+=/ice_lance,if=buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike||remaining_winters_chill\nactions.st+=/ice_nova,if=active_enemies>=4\nactions.st+=/glacial_spike,if=buff.icicles.react=5&buff.icy_veins.up\nactions.st+=/frostbolt\nactions.st+=/call_action_list,name=movement",
					["spec"] = 64,
				},
				["Fire"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230827,
					["author"] = "SimC",
					["desc"] = "2023-08-27:  Sync up to 10.1.5/7.\n\n2023-08-07:  Minor SimC updates again.\n\n2023-07-12:  Minor SimC update.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-07-02:  Use debuff.sated.up for Temporal Warp.\n\n2023-05-08:  Updates for 10.1, including many variables shifted from priority to internal code.\n\n2023-03-20:  Modify priority for \"Instant-Only When Moving\" setting.\n\n2023-03-27:  Remove Scorch > Pyroblast hardcast scenario.\n\n2023-04-02:  Revise Scorch > Pyroblast to check Hot Streak.",
					["lists"] = {
						["firestarter_fire_blasts"] = {
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["action"] = "fire_blast",
								["description"] = "While casting Fireball or Pyroblast, convert Heating Up to a Hot Streak!",
								["criteria"] = "! variable.fire_blast_pooling & ! buff.hot_streak.react & ( action.fireball.execute_remains > gcd.remains || action.pyroblast.executing ) & buff.heating_up.react + hot_streak_spells_in_flight = 1 & ( cooldown.shifting_power.ready || charges > 1 || buff.feel_the_burn.remains < 2 * gcd.max )",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! variable.fire_blast_pooling & buff.heating_up.react + hot_streak_spells_in_flight = 1 & ( talent.feel_the_burn.enabled & buff.feel_the_burn.remains < gcd.remains || cooldown.shifting_power.ready & ( ! set_bonus.tier30_2pc || debuff.charring_embers.remains > 2 * gcd.max ) )",
								["use_off_gcd"] = 1,
								["action"] = "fire_blast",
								["description"] = "If not casting anything, use Fire Blast to trigger Hot Streak! only if Feel the Burn is talented and would expire before the GCD ends or if Shifting Power is available.",
							}, -- [2]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Executed every time the actor is available.",
								["action"] = "counterspell",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "time_warp",
								["description"] = "The second Time Warp is usually best used immediately on pull with Temporal Warp so that it comes off cooldown earlier, this can sometimes be slightly worse if doing so will not result in additional Time Warp(s) throughout the encounter. Additionally, it should always be used at the end of the fight regardless of Combustion being ready if it is available.",
								["criteria"] = "debuff.sated.up & talent.temporal_warp.enabled & ( firestarter.active || interpolated_fight_remains < buff.bloodlust.duration )",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.potion.duration > variable.time_to_combustion + buff.combustion.duration",
								["action"] = "potion",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "gladiators_badge",
								["criteria"] = "variable.time_to_combustion > action_cooldown - 5",
								["effect_name"] = "gladiators_badge",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "empyreal_ordnance",
								["criteria"] = "variable.time_to_combustion <= variable.empyreal_ordnance_delay & variable.time_to_combustion > variable.empyreal_ordnance_delay - 5",
								["name"] = "empyreal_ordnance",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "shadowed_orb_of_torment",
								["criteria"] = "( variable.time_to_combustion <= variable.combustion_precast_time + 2 || fight_remains < variable.time_to_combustion ) & buff.combustion.down & ( ! equipped.the_first_sigil || cooldown.the_first_sigil_367241.remains > 40 )",
								["name"] = "shadowed_orb_of_torment",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "grim_eclipse",
								["criteria"] = "variable.time_to_combustion <= 8 || fight_remains < variable.time_to_combustion",
								["name"] = "grim_eclipse",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "moonlit_prism",
								["criteria"] = "variable.time_to_combustion <= 5 || fight_remains < variable.time_to_combustion",
								["name"] = "moonlit_prism",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "glyph_of_assimilation",
								["criteria"] = "! variable.item_cutoff_active",
								["name"] = "glyph_of_assimilation",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "macabre_sheet_music",
								["criteria"] = "variable.time_to_combustion <= 5",
								["name"] = "macabre_sheet_music",
							}, -- [10]
							{
								["enabled"] = true,
								["name"] = "dreadfire_vessel",
								["description"] = "If using a steroid on-use item, always use Dreadfire Vessel outside of Combustion. Otherwise, prioritize using Dreadfire Vessel with Combustion only if Feel the Burn is enabled and a usage won't be lost over the duration of the fight. This adds a small value to the cooldown of Dreadfire Vessel when doing this calculation because it is unrealstic to assume that it will be used perfectly on cooldown. Note that with Sun King's Blessing, it is possible to sync this with SKB Combustions regardless of on-use trinkets.",
								["criteria"] = "! variable.item_cutoff_active & ( buff.infernal_cascade.stack = buff.infernal_cascade.max_stack || ! conduit.infernal_cascade.enabled || variable.combustion_on_use & ! ( runeforge.sun_kings_blessing.enabled || talent.sun_kings_blessing.enabled ) || variable.time_to_combustion > interpolated_fight_remains %  ( action_cooldown + 10 ) )",
								["action"] = "dreadfire_vessel",
							}, -- [11]
							{
								["enabled"] = true,
								["name"] = "soul_igniter",
								["description"] = "Soul Igniter should be used in a way that doesn't interfere with other on-use trinkets. Other trinkets do not trigger a shared ICD on it, so it can be used right after any other on-use trinket.",
								["criteria"] = "( cooldown.hyperthread_wristwraps.remains || ! variable.item_cutoff_active ) & ( ! conduit.infernal_cascade.enabled || buff.infernal_cascade.up || buff.combustion.up ) & ( ! equipped.dreadfire_vessel || cooldown.dreadfire_vessel_349857.remains > 5 )",
								["action"] = "soul_igniter",
							}, -- [12]
							{
								["buff_name"] = "soul_ignition",
								["criteria"] = "! conduit.infernal_cascade.enabled & time < 5 || buff.infernal_cascade.stack = buff.infernal_cascade.max_stack",
								["action"] = "cancel_buff",
								["enabled"] = true,
								["description"] = "Trigger Soul Igniter early with Infernal Cascade or when it was precast.",
							}, -- [13]
							{
								["enabled"] = true,
								["name"] = "inscrutable_quantum_device",
								["description"] = "Items that do not benefit Combustion should just be used outside of Combustion at some point.",
								["criteria"] = "equipped.gladiators_badge & ( buff.combustion.down & variable.time_to_combustion >= variable.on_use_cutoff || variable.on_use_cutoff = 0 )",
								["action"] = "inscrutable_quantum_device",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "flame_of_battle",
								["criteria"] = "equipped.gladiators_badge & ! variable.item_cutoff_active",
								["name"] = "flame_of_battle",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "wakeners_frond",
								["criteria"] = "equipped.gladiators_badge & ! variable.item_cutoff_active",
								["name"] = "wakeners_frond",
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "instructors_divine_bell",
								["criteria"] = "equipped.gladiators_badge & ! variable.item_cutoff_active",
								["name"] = "instructors_divine_bell",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "sunblood_amethyst",
								["criteria"] = "equipped.gladiators_badge & ! variable.item_cutoff_active",
								["name"] = "sunblood_amethyst",
							}, -- [18]
							{
								["enabled"] = true,
								["action"] = "scars_of_fraternal_strife",
								["criteria"] = "buff.scars_of_fraternal_strife_4.down",
								["name"] = "scars_of_fraternal_strife",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! variable.item_cutoff_active",
								["action"] = "use_items",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "frost_nova",
								["description"] = "Use Frost Nova to trigger Grisly Icicle.",
								["criteria"] = "runeforge.grisly_icicle.enabled & buff.combustion.down & ( variable.time_to_combustion > action_cooldown || variable.time_to_combustion < variable.combustion_precast_time + execute_time )",
							}, -- [21]
							{
								["enabled"] = true,
								["action"] = "counterspell",
								["description"] = "Get the Disciplinary Command buff up, unless combustion is soon.",
								["criteria"] = "runeforge.disciplinary_command.enabled & cooldown.buff_disciplinary_command.ready & buff.disciplinary_command_arcane.down & ! buff.disciplinary_command.up & ( variable.time_to_combustion + action.frostbolt.cast_time > cooldown.buff_disciplinary_command.duration || variable.time_to_combustion < 5 )",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "runeforge.disciplinary_command.enabled & cooldown.buff_disciplinary_command.ready & buff.disciplinary_command_arcane.down & ! buff.disciplinary_command.up & ( variable.time_to_combustion + execute_time + action.frostbolt.cast_time > cooldown.buff_disciplinary_command.duration || variable.time_to_combustion < 5 & ! talent.rune_of_power.enabled )",
								["action"] = "arcane_explosion",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "runeforge.disciplinary_command.enabled & cooldown.buff_disciplinary_command.remains < cast_time & buff.disciplinary_command_frost.down & ! buff.disciplinary_command.up & ( variable.time_to_combustion + cast_time > cooldown.buff_disciplinary_command.duration || variable.time_to_combustion < 5 )",
								["action"] = "frostbolt",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "runeforge.disciplinary_command.enabled & cooldown.buff_disciplinary_command.ready & buff.disciplinary_command_frost.down & ! buff.disciplinary_command.up & ( variable.time_to_combustion > cooldown.buff_disciplinary_command.duration || variable.time_to_combustion < 5 )",
								["action"] = "frost_nova",
							}, -- [25]
							{
								["enabled"] = true,
								["op"] = "set",
								["description"] = "Pool as many Fire Blasts as possible for Combustion.",
								["action"] = "variable",
								["value"] = "buff.combustion.down & action.fire_blast.charges_fractional + ( variable.time_to_combustion + action.shifting_power.full_reduction * variable.shifting_power_before_combustion ) / cooldown.fire_blast.duration - 1 < cooldown.fire_blast.max_charges + variable.overpool_fire_blasts / cooldown.fire_blast.duration - ( buff.combustion.duration / cooldown.fire_blast.duration )  % 1 & variable.time_to_combustion < fight_remains",
								["use_off_gcd"] = 1,
								["var_name"] = "fire_blast_pooling",
								["use_while_casting"] = 1,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "variable.time_to_combustion <= 0 || buff.combustion.up || variable.time_to_combustion < variable.combustion_precast_time & cooldown.combustion.remains < variable.combustion_precast_time",
								["action"] = "call_action_list",
								["list_name"] = "combustion_phase",
							}, -- [27]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["description"] = "Adjust the variable that controls Fire Blast usage to save Fire Blasts while Searing Touch is active with Sun King's Blessing.",
								["op"] = "set",
								["criteria"] = "! variable.fire_blast_pooling & talent.sun_kings_blessing.enabled",
								["value"] = "searing_touch.active & action.fire_blast.full_recharge_time > 3 * gcd.max",
								["use_off_gcd"] = 1,
								["action"] = "variable",
								["var_name"] = "fire_blast_pooling",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & ( action.fire_blast.charges = 0 || variable.fire_blast_pooling ) & ( ! improved_scorch.active || debuff.improved_scorch.remains > cast_time + action.scorch.cast_time & ! buff.fury_of_the_sun_king.up ) & ! buff.hot_streak.react & variable.shifting_power_before_combustion",
								["action"] = "shifting_power",
							}, -- [29]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "! variable.fire_blast_pooling & variable.time_to_combustion > 0 & active_enemies >= variable.hard_cast_flamestrike & ! firestarter.active & ! buff.hot_streak.react & ( buff.heating_up.react & action.flamestrike.execute_remains < 0.5 || charges_fractional >= 2 )",
								["use_off_gcd"] = 1,
								["action"] = "fire_blast",
								["description"] = "When Hardcasting Flamestrike, Fire Blasts should be used to generate Hot Streaks and to extend Feel the Burn.",
							}, -- [30]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "During Firestarter, Fire Blasts are used similarly to during Combustion. Generally, they are used to generate Hot Streaks when crits will not be wasted and with Feel the Burn, they should be spread out to maintain the Feel the Burn buff.",
								["criteria"] = "buff.combustion.down & firestarter.active & variable.time_to_combustion > 0",
								["list_name"] = "firestarter_fire_blasts",
							}, -- [31]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["action"] = "fire_blast",
								["description"] = "Avoid capping Fire Blast charges while channeling Shifting Power",
								["criteria"] = "action.shifting_power.executing & full_recharge_time < action.shifting_power.tick_reduction",
							}, -- [32]
							{
								["enabled"] = true,
								["criteria"] = "variable.time_to_combustion > 0 & buff.combustion.down",
								["action"] = "call_action_list",
								["list_name"] = "standard_rotation",
							}, -- [33]
							{
								["action"] = "scorch",
								["enabled"] = true,
							}, -- [34]
						},
						["precombat"] = {
							{
								["action"] = "arcane_intellect",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "soul_igniter",
								["criteria"] = "! variable.combustion_on_use & ! equipped.dreadfire_vessel & ( ! talent.firestarter.enabled || variable.firestarter_combustion )",
								["name"] = "soul_igniter",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "shadowed_orb_of_torment",
								["criteria"] = "! equipped.the_first_sigil",
								["name"] = "shadowed_orb_of_torment",
							}, -- [3]
							{
								["action"] = "mirror_image",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.hot_streak_flamestrike",
								["action"] = "flamestrike",
							}, -- [5]
							{
								["action"] = "pyroblast",
								["enabled"] = true,
							}, -- [6]
						},
						["combustion_phase"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down",
								["action"] = "lights_judgment",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down",
								["action"] = "bag_of_tricks",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & buff.combustion.down",
								["action"] = "living_bomb",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Other cooldowns that should be used with Combustion should only be used with an actual Combustion cast and not with a Sun King's Blessing proc.",
								["criteria"] = "buff.combustion.remains > variable.skb_duration || fight_remains < 20",
								["list_name"] = "combustion_cooldowns",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "hyperthread_wristwraps",
								["criteria"] = "prev.1.fire_blast + prev.2.fire_blast + prev.3.fire_blast >= 2 & action.fire_blast.charges = 0",
								["name"] = "hyperthread_wristwraps",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "neural_synapse_enhancer",
								["criteria"] = "variable.time_to_combustion > 60",
								["name"] = "neural_synapse_enhancer",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "phoenix_flames",
								["description"] = "In Charring embers is not up before Combustion, make sure to apply it.",
								["criteria"] = "buff.combustion.down & set_bonus.tier30_2pc & ! action.phoenix_flames.in_flight & debuff.charring_embers.remains < 4 * gcd.max & ! buff.hot_streak.react",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "active_talents",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "flamestrike",
								["description"] = "If Combustion is down, precast something before activating it.",
								["criteria"] = "buff.combustion.down & buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & buff.fury_of_the_sun_king.expiration_delay_remains = 0 & cooldown.combustion.remains < cast_time & active_enemies >= variable.skb_flamestrike",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "pyroblast",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & cooldown.combustion.remains < cast_time & active_enemies < 2 & ! improved_scorch.active",
								["action"] = "fireball",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & cooldown.combustion.remains < cast_time",
								["action"] = "scorch",
							}, -- [12]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "hot_streak_spells_in_flight = 0 & buff.combustion.down & variable.time_to_combustion <= 0 & ( action.scorch.executing & action.scorch.execute_remains < variable.combustion_cast_remains || action.fireball.executing & action.fireball.execute_remains < variable.combustion_cast_remains || action.pyroblast.executing & action.pyroblast.execute_remains < variable.combustion_cast_remains || action.flamestrike.executing & action.flamestrike.execute_remains < variable.combustion_cast_remains || action.meteor.in_flight & action.meteor.in_flight_remains < variable.combustion_cast_remains )",
								["use_off_gcd"] = 1,
								["action"] = "combustion",
								["description"] = "Combustion should be used when the precast is almost finished or when Meteor is about to land.",
							}, -- [13]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "! variable.fire_blast_pooling & ( ! improved_scorch.active || action.scorch.executing || debuff.improved_scorch.remains > 4 * gcd.max ) & ( buff.fury_of_the_sun_king.down || action.pyroblast.executing ) & buff.combustion.up & ! buff.hyperthermia.react & ! buff.hot_streak.react & hot_streak_spells_in_flight + buff.heating_up.react * ( gcd.remains > 0 ) < 2",
								["use_off_gcd"] = 1,
								["action"] = "fire_blast",
								["description"] = "Without Feel the Burn, just use Fire Blasts when they won't munch crits and when Firestorm is down.",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "flamestrike",
								["description"] = "Spend Hot Streaks during Combustion at high priority.",
								["criteria"] = "( buff.hot_streak.react & active_enemies >= variable.combustion_flamestrike ) || ( ( buff.firestorm.react || buff.hyperthermia.react ) & active_enemies >= variable.combustion_flamestrike - ( runeforge.firestorm.enabled || talent.hyperthermia.enabled ) )",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "radiant_spark",
								["description"] = "Radiant Spark should be used with a Hot Streak ready to use immediately after the cast finishes. This will naturally set up a Hot Streak spent for the final stack of Radiant Spark.",
								["criteria"] = "buff.combustion.up & 2 * buff.hot_streak.react + buff.heating_up.react + hot_streak_spells_in_flight = 2",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "( buff.firestorm.react || buff.hyperthermia.react )",
								["action"] = "pyroblast",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & buff.combustion.up",
								["action"] = "pyroblast",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.scorch & buff.heating_up.react & active_enemies < variable.combustion_flamestrike & buff.combustion.up",
								["action"] = "pyroblast",
							}, -- [19]
							{
								["enabled"] = true,
								["action"] = "shifting_power",
								["description"] = "Using Shifting Power during Combustion to restore Fire Blast and Phoenix Flame charges can be beneficial, but usually only on AoE.",
								["criteria"] = "buff.combustion.up & ! action.fire_blast.charges & ( action.phoenix_flames.charges < action.phoenix_flames.max_charges || talent.alexstraszas_fury.enabled ) & variable.combustion_shifting_power <= active_enemies",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & active_enemies >= variable.skb_flamestrike & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "flamestrike",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "pyroblast",
							}, -- [22]
							{
								["enabled"] = true,
								["action"] = "scorch",
								["description"] = "Maintain Improved Scorch when not casting Flamestrikes in Combustion.",
								["criteria"] = "improved_scorch.active & ( debuff.improved_scorch.remains < 4 * gcd.max ) & active_enemies < variable.combustion_flamestrike",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "phoenix_flames",
								["description"] = "With the T30 set, Phoenix Flames should be used to maintain Charring Embers during Combustion and Flame's Fury procs should be spent.",
								["criteria"] = "set_bonus.tier30_2pc & travel_time < buff.combustion.remains & buff.heating_up.react + hot_streak_spells_in_flight < 2 & ( debuff.charring_embers.remains < 4 * gcd.max || buff.flames_fury.stack > 1 || buff.flames_fury.up )",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.remains > cast_time & buff.flame_accelerant.react",
								["action"] = "fireball",
							}, -- [25]
							{
								["enabled"] = true,
								["action"] = "phoenix_flames",
								["description"] = "Use Phoenix Flames and Scorch in Combustion to help generate Hot Streaks when Fire Blasts are not available or need to be conserved.",
								["criteria"] = "! set_bonus.tier30_2pc & ! talent.alexstraszas_fury.enabled & travel_time < buff.combustion.remains & buff.heating_up.react + hot_streak_spells_in_flight < 2",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.remains > cast_time & cast_time >= gcd.max",
								["action"] = "scorch",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.remains > cast_time",
								["action"] = "fireball",
							}, -- [28]
							{
								["enabled"] = true,
								["action"] = "living_bomb",
								["description"] = "If there isn't enough time left in Combustion for a Phoenix Flames or Scorch to hit inside of Combustion, use something else.",
								["criteria"] = "buff.combustion.remains < gcd.max & active_enemies > 1",
							}, -- [29]
						},
						["active_talents"] = {
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & buff.combustion.down & ( variable.time_to_combustion > cooldown.living_bomb.duration || variable.time_to_combustion <= 0 )",
								["action"] = "living_bomb",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "variable.time_to_combustion <= 0 || buff.combustion.remains > travel_time || ! talent.sun_kings_blessing.enabled & ( cooldown.meteor.duration < variable.time_to_combustion || fight_remains < variable.time_to_combustion )",
								["action"] = "meteor",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "dragons_breath",
								["description"] = "With Alexstrasza's Fury when Combustion is not active, Dragon's Breath should be used to convert Heating Up to a Hot Streak.",
								["criteria"] = "talent.alexstraszas_fury.enabled & ( buff.combustion.down & ! buff.hot_streak.react ) & ( buff.feel_the_burn.up || time > 15 ) & ( ! improved_scorch.active ) & ! firestarter.remains & ! talent.tempered_flames.enabled",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.alexstraszas_fury.enabled & ( buff.combustion.down & ! buff.hot_streak.react ) & ( buff.feel_the_burn.up || time > 15 ) & ( ! improved_scorch.active ) & talent.tempered_flames.enabled",
								["action"] = "dragons_breath",
							}, -- [4]
						},
						["standard_rotation"] = {
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.hot_streak_flamestrike & ( buff.hot_streak.react || ( buff.firestorm.react || buff.hyperthermia.react ) )",
								["action"] = "flamestrike",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.hyperthermia.react",
								["action"] = "pyroblast",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & ( buff.hot_streak.remains < action.fireball.execute_time )",
								["action"] = "pyroblast",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & ( hot_streak_spells_in_flight || firestarter.active || talent.alexstraszas_fury.enabled & action.phoenix_flames.charges )",
								["action"] = "pyroblast",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & searing_touch.active",
								["action"] = "pyroblast",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.skb_flamestrike & buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "flamestrike",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "improved_scorch.active & debuff.improved_scorch.remains < action.pyroblast.cast_time + 5 * gcd.max & buff.fury_of_the_sun_king.up & ! action.scorch.in_flight",
								["action"] = "scorch",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "pyroblast",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & searing_touch.active",
								["action"] = "pyroblast",
							}, -- [9]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "! firestarter.active & ! variable.fire_blast_pooling & buff.fury_of_the_sun_king.down & ( ( ( action.fireball.executing & ( action.fireball.execute_remains < 0.5 || ! talent.hyperthermia.enabled ) || action.pyroblast.executing & ( action.pyroblast.execute_remains < 0.5 || ! talent.hyperthermia.enabled ) ) & buff.heating_up.react ) || ( searing_touch.active & ( ! improved_scorch.active || debuff.improved_scorch.stack = debuff.improved_scorch.max_stack || full_recharge_time < 3 ) & ( buff.heating_up.react & ! action.scorch.executing || ! buff.hot_streak.react & ! buff.heating_up.react & action.scorch.executing & ! hot_streak_spells_in_flight ) ) )",
								["use_off_gcd"] = 1,
								["action"] = "fire_blast",
								["description"] = "During the standard rotation, only use Fire Blasts when they are not being pooled for RoP or Combustion. Use Fire Blast either during a Fireball/Pyroblast cast when Heating Up is active or during execute with Searing Touch.",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "pyroblast",
								["description"] = "Modified, changed to Hot Streak to avoid hardcasted Pyroblasts.",
								["criteria"] = "prev_gcd.1.scorch & buff.hot_streak.react & searing_touch.active & active_enemies < variable.hot_streak_flamestrike",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "improved_scorch.active & debuff.improved_scorch.remains < 4 * gcd.max",
								["action"] = "scorch",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "talent.alexstraszas_fury.enabled & ( ! talent.feel_the_burn.enabled || buff.feel_the_burn.remains < 2 * gcd.max )",
								["action"] = "phoenix_flames",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc & debuff.charring_embers.remains < 2 * gcd.max & ! buff.hot_streak.react",
								["action"] = "phoenix_flames",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "improved_scorch.active & debuff.improved_scorch.stack < debuff.improved_scorch.max_stack",
								["action"] = "scorch",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "! talent.alexstraszas_fury.enabled & ! buff.hot_streak.react & ! variable.phoenix_pooling & buff.flames_fury.up",
								["action"] = "phoenix_flames",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.alexstraszas_fury.enabled & ! buff.hot_streak.react & hot_streak_spells_in_flight = 0 & ( ! variable.phoenix_pooling & buff.flames_fury.up || charges_fractional > 2.5 || charges_fractional > 1.5 & ( ! talent.feel_the_burn.enabled || buff.feel_the_burn.remains < 3 * gcd.max ) )",
								["action"] = "phoenix_flames",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "active_talents",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1",
								["action"] = "dragons_breath",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "searing_touch.active",
								["action"] = "scorch",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.arcane_explosion & mana.pct >= variable.arcane_explosion_mana",
								["action"] = "arcane_explosion",
							}, -- [21]
							{
								["enabled"] = true,
								["action"] = "flamestrike",
								["description"] = "With enough targets, it is a gain to cast Flamestrike as filler instead of Fireball.",
								["criteria"] = "active_enemies >= variable.hard_cast_flamestrike",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.tempered_flames.enabled & ! buff.flame_accelerant.react",
								["action"] = "pyroblast",
							}, -- [23]
							{
								["action"] = "fireball",
								["enabled"] = true,
							}, -- [24]
						},
						["combustion_cooldowns"] = {
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.up",
								["action"] = "berserking",
							}, -- [3]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( talent.temporal_warp.enabled || runeforge.temporal_warp.enabled ) & debuff.sated.up",
								["action"] = "time_warp",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "gladiators_badge",
								["effect_name"] = "gladiators_badge",
							}, -- [7]
							{
								["enabled"] = true,
								["name"] = "irideus_fragment",
								["action"] = "irideus_fragment",
							}, -- [8]
							{
								["enabled"] = true,
								["name"] = "spoils_of_neltharus",
								["action"] = "spoils_of_neltharus",
							}, -- [9]
							{
								["enabled"] = true,
								["name"] = "tome_of_unstable_power",
								["action"] = "tome_of_unstable_power",
							}, -- [10]
							{
								["enabled"] = true,
								["name"] = "timebreaching_talon",
								["action"] = "timebreaching_talon",
							}, -- [11]
							{
								["enabled"] = true,
								["name"] = "voidmenders_shadowgem",
								["action"] = "voidmenders_shadowgem",
							}, -- [12]
							{
								["enabled"] = true,
								["name"] = "horn_of_valor",
								["action"] = "horn_of_valor",
							}, -- [13]
						},
					},
					["version"] = 20230827,
					["warnings"] = "The import for 'firestarter_fire_blasts' required some automated changes.\nLine 2: Converted 'talent.feel_the_burn' to 'talent.feel_the_burn.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 2: Converted 'talent.temporal_warp' to 'talent.temporal_warp.enabled' (1x).\nLine 11: Converted 'conduit.infernal_cascade' to 'conduit.infernal_cascade.enabled' (1x).\nLine 11: Converted 'runeforge.sun_kings_blessing' to 'runeforge.sun_kings_blessing.enabled' (1x).\nLine 11: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 11: Converted operations in '!variable.item_cutoff_active&(buff.infernal_cascade.stack=buff.infernal_cascade.max_stack||!conduit.infernal_cascade.enabled||variable.combustion_on_use&!(runeforge.sun_kings_blessing.enabled||talent.sun_kings_blessing.enabled)||variable.time_to_combustion>interpolated_fight_remains%%(action_cooldown+10))' to '!variable.item_cutoff_active&(buff.infernal_cascade.stack=buff.infernal_cascade.max_stack||!conduit.infernal_cascade.enabled||variable.combustion_on_use&!(runeforge.sun_kings_blessing.enabled||talent.sun_kings_blessing.enabled)||variable.time_to_combustion>interpolated_fight_remains%(action_cooldown+10))'.\nLine 12: Converted 'conduit.infernal_cascade' to 'conduit.infernal_cascade.enabled' (1x).\nLine 13: Converted 'conduit.infernal_cascade' to 'conduit.infernal_cascade.enabled' (1x).\nLine 21: Converted 'runeforge.grisly_icicle' to 'runeforge.grisly_icicle.enabled' (1x).\nLine 22: Converted 'runeforge.disciplinary_command' to 'runeforge.disciplinary_command.enabled' (1x).\nLine 23: Converted 'runeforge.disciplinary_command' to 'runeforge.disciplinary_command.enabled' (1x).\nLine 23: Converted 'talent.rune_of_power' to 'talent.rune_of_power.enabled' (1x).\nLine 24: Converted 'runeforge.disciplinary_command' to 'runeforge.disciplinary_command.enabled' (1x).\nLine 25: Converted 'runeforge.disciplinary_command' to 'runeforge.disciplinary_command.enabled' (1x).\nLine 26: Converted operations in 'buff.combustion.down&action.fire_blast.charges_fractional+(variable.time_to_combustion+action.shifting_power.full_reduction*variable.shifting_power_before_combustion)%cooldown.fire_blast.duration-1<cooldown.fire_blast.max_charges+variable.overpool_fire_blasts%cooldown.fire_blast.duration-(buff.combustion.duration%cooldown.fire_blast.duration)%%1&variable.time_to_combustion<fight_remains' to 'buff.combustion.down&action.fire_blast.charges_fractional+(variable.time_to_combustion+action.shifting_power.full_reduction*variable.shifting_power_before_combustion)/cooldown.fire_blast.duration-1<cooldown.fire_blast.max_charges+variable.overpool_fire_blasts/cooldown.fire_blast.duration-(buff.combustion.duration/cooldown.fire_blast.duration)%1&variable.time_to_combustion<fight_remains'.\nLine 28: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 2: Converted 'talent.firestarter' to 'talent.firestarter.enabled' (1x).\n\nThe import for 'combustion_cooldowns' required some automated changes.\nLine 6: Converted 'talent.temporal_warp' to 'talent.temporal_warp.enabled' (1x).\nLine 6: Converted 'runeforge.temporal_warp' to 'runeforge.temporal_warp.enabled' (1x).\n\nThe import for 'active_talents' required some automated changes.\nLine 2: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 3: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 3: Converted 'talent.tempered_flames' to 'talent.tempered_flames.enabled' (1x).\nLine 4: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 4: Converted 'talent.tempered_flames' to 'talent.tempered_flames.enabled' (1x).\n\nThe import for 'standard_rotation' required some automated changes.\nLine 4: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 10: Converted 'talent.hyperthermia' to 'talent.hyperthermia.enabled' (1x).\nLine 10: Converted 'talent.hyperthermia' to 'talent.hyperthermia.enabled' (1x).\nLine 13: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 13: Converted 'talent.feel_the_burn' to 'talent.feel_the_burn.enabled' (1x).\nLine 16: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 17: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 17: Converted 'talent.feel_the_burn' to 'talent.feel_the_burn.enabled' (1x).\nLine 23: Converted 'talent.tempered_flames' to 'talent.tempered_flames.enabled' (1x).\n\nThe import for 'combustion_phase' required some automated changes.\nLine 15: Converted 'runeforge.firestorm' to 'runeforge.firestorm.enabled' (1x).\nLine 15: Converted 'talent.hyperthermia' to 'talent.hyperthermia.enabled' (1x).\nLine 20: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 26: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\n\nImported 7 action lists.\n",
					["profile"] = "actions.precombat+=/arcane_intellect\n## # APL Variable Option: If set to a non-zero value, the Combustion action and cooldowns that are constrained to only be used when Combustion is up will not be used during the simulation.\n## actions.precombat+=/variable,name=disable_combustion,op=reset\n## # APL Variable Option: This variable specifies whether Combustion should be used during Firestarter.\n## actions.precombat+=/variable,name=firestarter_combustion,default=-1,value=talent.sun_kings_blessing,if=variable.firestarter_combustion<0\n## # APL Variable Option: This variable specifies the number of targets at which Hot Streak Flamestrikes outside of Combustion should be used.\n## actions.precombat+=/variable,name=hot_streak_flamestrike,if=variable.hot_streak_flamestrike=0,value=3*talent.flame_patch+999*!talent.flame_patch\n## # APL Variable Option: This variable specifies the number of targets at which Hard Cast Flamestrikes outside of Combustion should be used as filler.\n## actions.precombat+=/variable,name=hard_cast_flamestrike,if=variable.hard_cast_flamestrike=0,value=999\n## # APL Variable Option: This variable specifies the number of targets at which Hot Streak Flamestrikes are used during Combustion.\n## actions.precombat+=/variable,name=combustion_flamestrike,if=variable.combustion_flamestrike=0,value=3*talent.flame_patch+999*!talent.flame_patch\n## # APL Variable Option: This variable specifies the number of targets at which Flamestrikes should be used to consume Fury of the Sun King.\n## actions.precombat+=/variable,name=skb_flamestrike,if=variable.skb_flamestrike=0,value=3\n## # APL Variable Option: This variable specifies the number of targets at which Arcane Explosion outside of Combustion should be used.\n## actions.precombat+=/variable,name=arcane_explosion,if=variable.arcane_explosion=0,value=999\n## # APL Variable Option: This variable specifies the percentage of mana below which Arcane Explosion will not be used.\n## actions.precombat+=/variable,name=arcane_explosion_mana,default=40,op=reset\n## # APL Variable Option: The number of targets at which Shifting Power can used during Combustion.\n## actions.precombat+=/variable,name=combustion_shifting_power,if=variable.combustion_shifting_power=0,value=999\n## # APL Variable Option: The time remaining on a cast when Combustion can be used in seconds.\n## actions.precombat+=/variable,name=combustion_cast_remains,default=0.3,op=reset\n## # APL Variable Option: This variable specifies the number of seconds of Fire Blast that should be pooled past the default amount.\n## actions.precombat+=/variable,name=overpool_fire_blasts,default=0,op=reset\n## # If Combustion is disabled, schedule the first Combustion far after the fight ends.\n## actions.precombat+=/variable,name=time_to_combustion,value=fight_remains+100,if=variable.disable_combustion\n## # The duration of a Sun King's Blessing Combustion.\n## actions.precombat+=/variable,name=skb_duration,value=dbc.effect.1016075.base_value\n## # Whether a usable item used to buff Combustion is equipped.\n## actions.precombat+=/variable,name=combustion_on_use,value=equipped.gladiators_badge||equipped.moonlit_prism||equipped.irideus_fragment||equipped.spoils_of_neltharus||equipped.tome_of_unstable_power||equipped.timebreaching_talon||equipped.horn_of_valor\n## # How long before Combustion should trinkets that trigger a shared category cooldown on other trinkets not be used?\n## actions.precombat+=/variable,name=on_use_cutoff,value=20,if=variable.combustion_on_use\nactions.precombat+=/use_item,name=soul_igniter,if=!variable.combustion_on_use&!equipped.dreadfire_vessel&(!talent.firestarter||variable.firestarter_combustion)\nactions.precombat+=/use_item,name=shadowed_orb_of_torment,if=!equipped.the_first_sigil\nactions.precombat+=/mirror_image\nactions.precombat+=/flamestrike,if=active_enemies>=variable.hot_streak_flamestrike\nactions.precombat+=/pyroblast\n\n# Executed every time the actor is available.\nactions=counterspell\n# The second Time Warp is usually best used immediately on pull with Temporal Warp so that it comes off cooldown earlier; this can sometimes be slightly worse if doing so will not result in additional Time Warp(s) throughout the encounter. Additionally, it should always be used at the end of the fight regardless of Combustion being ready if it is available.\nactions+=/time_warp,if=debuff.sated.up&talent.temporal_warp&(firestarter.active||interpolated_fight_remains<buff.bloodlust.duration)\nactions+=/potion,if=buff.potion.duration>variable.time_to_combustion+buff.combustion.duration\nactions+=/use_item,effect_name=gladiators_badge,if=variable.time_to_combustion>cooldown-5\nactions+=/use_item,name=empyreal_ordnance,if=variable.time_to_combustion<=variable.empyreal_ordnance_delay&variable.time_to_combustion>variable.empyreal_ordnance_delay-5\nactions+=/use_item,name=shadowed_orb_of_torment,if=(variable.time_to_combustion<=variable.combustion_precast_time+2||fight_remains<variable.time_to_combustion)&buff.combustion.down&(!equipped.the_first_sigil||cooldown.the_first_sigil_367241.remains>40)\nactions+=/use_item,name=grim_eclipse,if=variable.time_to_combustion<=8||fight_remains<variable.time_to_combustion\nactions+=/use_item,name=moonlit_prism,if=variable.time_to_combustion<=5||fight_remains<variable.time_to_combustion\nactions+=/use_item,name=glyph_of_assimilation,if=!variable.item_cutoff_active\nactions+=/use_item,name=macabre_sheet_music,if=variable.time_to_combustion<=5\n# If using a steroid on-use item, always use Dreadfire Vessel outside of Combustion. Otherwise, prioritize using Dreadfire Vessel with Combustion only if Feel the Burn is enabled and a usage won't be lost over the duration of the fight. This adds a small value to the cooldown of Dreadfire Vessel when doing this calculation because it is unrealstic to assume that it will be used perfectly on cooldown. Note that with Sun King's Blessing, it is possible to sync this with SKB Combustions regardless of on-use trinkets.\nactions+=/use_item,name=dreadfire_vessel,if=!variable.item_cutoff_active&(buff.infernal_cascade.stack=buff.infernal_cascade.max_stack||!conduit.infernal_cascade||variable.combustion_on_use&!(runeforge.sun_kings_blessing||talent.sun_kings_blessing)||variable.time_to_combustion>interpolated_fight_remains%%(cooldown+10))\n# Soul Igniter should be used in a way that doesn't interfere with other on-use trinkets. Other trinkets do not trigger a shared ICD on it, so it can be used right after any other on-use trinket.\nactions+=/use_item,name=soul_igniter,if=(cooldown.hyperthread_wristwraps.remains||!variable.item_cutoff_active)&(!conduit.infernal_cascade||buff.infernal_cascade.up||buff.combustion.up)&(!equipped.dreadfire_vessel||cooldown.dreadfire_vessel_349857.remains>5)\n# Trigger Soul Igniter early with Infernal Cascade or when it was precast.\nactions+=/cancel_buff,name=soul_ignition,if=!conduit.infernal_cascade&time<5||buff.infernal_cascade.stack=buff.infernal_cascade.max_stack\n# Items that do not benefit Combustion should just be used outside of Combustion at some point.\nactions+=/use_item,name=inscrutable_quantum_device,if=equipped.gladiators_badge&(buff.combustion.down&variable.time_to_combustion>=variable.on_use_cutoff||variable.on_use_cutoff=0)\nactions+=/use_item,name=flame_of_battle,if=equipped.gladiators_badge&!variable.item_cutoff_active\nactions+=/use_item,name=wakeners_frond,if=equipped.gladiators_badge&!variable.item_cutoff_active\nactions+=/use_item,name=instructors_divine_bell,if=equipped.gladiators_badge&!variable.item_cutoff_active\nactions+=/use_item,name=sunblood_amethyst,if=equipped.gladiators_badge&!variable.item_cutoff_active\nactions+=/use_item,name=scars_of_fraternal_strife,if=buff.scars_of_fraternal_strife_4.down\nactions+=/use_items,if=!variable.item_cutoff_active\n# Use Frost Nova to trigger Grisly Icicle.\nactions+=/frost_nova,if=runeforge.grisly_icicle&buff.combustion.down&(variable.time_to_combustion>cooldown||variable.time_to_combustion<variable.combustion_precast_time+execute_time)\n# Get the Disciplinary Command buff up, unless combustion is soon.\nactions+=/counterspell,if=runeforge.disciplinary_command&cooldown.buff_disciplinary_command.ready&buff.disciplinary_command_arcane.down&!buff.disciplinary_command.up&(variable.time_to_combustion+action.frostbolt.cast_time>cooldown.buff_disciplinary_command.duration||variable.time_to_combustion<5)\nactions+=/arcane_explosion,if=runeforge.disciplinary_command&cooldown.buff_disciplinary_command.ready&buff.disciplinary_command_arcane.down&!buff.disciplinary_command.up&(variable.time_to_combustion+execute_time+action.frostbolt.cast_time>cooldown.buff_disciplinary_command.duration||variable.time_to_combustion<5&!talent.rune_of_power)\nactions+=/frostbolt,if=runeforge.disciplinary_command&cooldown.buff_disciplinary_command.remains<cast_time&buff.disciplinary_command_frost.down&!buff.disciplinary_command.up&(variable.time_to_combustion+cast_time>cooldown.buff_disciplinary_command.duration||variable.time_to_combustion<5)\nactions+=/frost_nova,if=runeforge.disciplinary_command&cooldown.buff_disciplinary_command.ready&buff.disciplinary_command_frost.down&!buff.disciplinary_command.up&(variable.time_to_combustion>cooldown.buff_disciplinary_command.duration||variable.time_to_combustion<5)\n# Pool as many Fire Blasts as possible for Combustion.\nactions+=/variable,use_off_gcd=1,use_while_casting=1,name=fire_blast_pooling,value=buff.combustion.down&action.fire_blast.charges_fractional+(variable.time_to_combustion+action.shifting_power.full_reduction*variable.shifting_power_before_combustion)%cooldown.fire_blast.duration-1<cooldown.fire_blast.max_charges+variable.overpool_fire_blasts%cooldown.fire_blast.duration-(buff.combustion.duration%cooldown.fire_blast.duration)%%1&variable.time_to_combustion<fight_remains\nactions+=/call_action_list,name=combustion_phase,if=variable.time_to_combustion<=0||buff.combustion.up||variable.time_to_combustion<variable.combustion_precast_time&cooldown.combustion.remains<variable.combustion_precast_time\n# Adjust the variable that controls Fire Blast usage to save Fire Blasts while Searing Touch is active with Sun King's Blessing.\nactions+=/variable,use_off_gcd=1,use_while_casting=1,name=fire_blast_pooling,value=searing_touch.active&action.fire_blast.full_recharge_time>3*gcd.max,if=!variable.fire_blast_pooling&talent.sun_kings_blessing\nactions+=/shifting_power,if=buff.combustion.down&(action.fire_blast.charges=0||variable.fire_blast_pooling)&(!improved_scorch.active||debuff.improved_scorch.remains>cast_time+action.scorch.cast_time&!buff.fury_of_the_sun_king.up)&!buff.hot_streak.react&variable.shifting_power_before_combustion\n# When Hardcasting Flamestrike, Fire Blasts should be used to generate Hot Streaks and to extend Feel the Burn.\nactions+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=!variable.fire_blast_pooling&variable.time_to_combustion>0&active_enemies>=variable.hard_cast_flamestrike&!firestarter.active&!buff.hot_streak.react&(buff.heating_up.react&action.flamestrike.execute_remains<0.5||charges_fractional>=2)\n# During Firestarter, Fire Blasts are used similarly to during Combustion. Generally, they are used to generate Hot Streaks when crits will not be wasted and with Feel the Burn, they should be spread out to maintain the Feel the Burn buff.\nactions+=/call_action_list,name=firestarter_fire_blasts,if=buff.combustion.down&firestarter.active&variable.time_to_combustion>0\n# Avoid capping Fire Blast charges while channeling Shifting Power\nactions+=/fire_blast,use_while_casting=1,if=action.shifting_power.executing&full_recharge_time<action.shifting_power.tick_reduction\nactions+=/call_action_list,name=standard_rotation,if=variable.time_to_combustion>0&buff.combustion.down\nactions+=/scorch\n\nactions.active_talents=living_bomb,if=active_enemies>1&buff.combustion.down&(variable.time_to_combustion>cooldown.living_bomb.duration||variable.time_to_combustion<=0)\nactions.active_talents+=/meteor,if=variable.time_to_combustion<=0||buff.combustion.remains>travel_time||!talent.sun_kings_blessing&(cooldown.meteor.duration<variable.time_to_combustion||fight_remains<variable.time_to_combustion)\n# With Alexstrasza's Fury when Combustion is not active, Dragon's Breath should be used to convert Heating Up to a Hot Streak.\nactions.active_talents+=/dragons_breath,if=talent.alexstraszas_fury&(buff.combustion.down&!buff.hot_streak.react)&(buff.feel_the_burn.up||time>15)&(!improved_scorch.active)&!firestarter.remains&!talent.tempered_flames\nactions.active_talents+=/dragons_breath,if=talent.alexstraszas_fury&(buff.combustion.down&!buff.hot_streak.react)&(buff.feel_the_burn.up||time>15)&(!improved_scorch.active)&talent.tempered_flames\n\nactions.combustion_cooldowns=potion\nactions.combustion_cooldowns+=/blood_fury\nactions.combustion_cooldowns+=/berserking,if=buff.combustion.up\nactions.combustion_cooldowns+=/fireblood\nactions.combustion_cooldowns+=/ancestral_call\n## The addon does not invoke external buffs, because they player cannot actually choose to trigger them personally.\n## actions.combustion_cooldowns+=/invoke_external_buff,name=power_infusion,if=buff.power_infusion.down\n## actions.combustion_cooldowns+=/invoke_external_buff,name=blessing_of_summer,if=buff.blessing_of_summer.down\nactions.combustion_cooldowns+=/time_warp,if=(talent.temporal_warp||runeforge.temporal_warp)&debuff.sated.up\nactions.combustion_cooldowns+=/use_item,effect_name=gladiators_badge\nactions.combustion_cooldowns+=/use_item,name=irideus_fragment\nactions.combustion_cooldowns+=/use_item,name=spoils_of_neltharus\nactions.combustion_cooldowns+=/use_item,name=tome_of_unstable_power\nactions.combustion_cooldowns+=/use_item,name=timebreaching_talon\nactions.combustion_cooldowns+=/use_item,name=voidmenders_shadowgem\nactions.combustion_cooldowns+=/use_item,name=horn_of_valor\n\nactions.combustion_phase=lights_judgment,if=buff.combustion.down\nactions.combustion_phase+=/bag_of_tricks,if=buff.combustion.down\nactions.combustion_phase+=/living_bomb,if=active_enemies>1&buff.combustion.down\n# Other cooldowns that should be used with Combustion should only be used with an actual Combustion cast and not with a Sun King's Blessing proc.\nactions.combustion_phase+=/call_action_list,name=combustion_cooldowns,if=buff.combustion.remains>variable.skb_duration||fight_remains<20\nactions.combustion_phase+=/use_item,name=hyperthread_wristwraps,if=prev.1.fire_blast+prev.2.fire_blast+prev.3.fire_blast>=2&action.fire_blast.charges=0\nactions.combustion_phase+=/use_item,name=neural_synapse_enhancer,if=variable.time_to_combustion>60\n# In Charring embers is not up before Combustion, make sure to apply it.\nactions.combustion_phase+=/phoenix_flames,if=buff.combustion.down&set_bonus.tier30_2pc&!action.phoenix_flames.in_flight&debuff.charring_embers.remains<4*gcd.max&!buff.hot_streak.react\nactions.combustion_phase+=/call_action_list,name=active_talents\n# If Combustion is down, precast something before activating it.\nactions.combustion_phase+=/flamestrike,if=buff.combustion.down&buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&buff.fury_of_the_sun_king.expiration_delay_remains=0&cooldown.combustion.remains<cast_time&active_enemies>=variable.skb_flamestrike\nactions.combustion_phase+=/pyroblast,if=buff.combustion.down&buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.combustion_phase+=/fireball,if=buff.combustion.down&cooldown.combustion.remains<cast_time&active_enemies<2&!improved_scorch.active\nactions.combustion_phase+=/scorch,if=buff.combustion.down&cooldown.combustion.remains<cast_time\n# Combustion should be used when the precast is almost finished or when Meteor is about to land.\nactions.combustion_phase+=/combustion,use_off_gcd=1,use_while_casting=1,if=hot_streak_spells_in_flight=0&buff.combustion.down&variable.time_to_combustion<=0&(action.scorch.executing&action.scorch.execute_remains<variable.combustion_cast_remains||action.fireball.executing&action.fireball.execute_remains<variable.combustion_cast_remains||action.pyroblast.executing&action.pyroblast.execute_remains<variable.combustion_cast_remains||action.flamestrike.executing&action.flamestrike.execute_remains<variable.combustion_cast_remains||action.meteor.in_flight&action.meteor.in_flight_remains<variable.combustion_cast_remains)\n# Without Feel the Burn, just use Fire Blasts when they won't munch crits and when Firestorm is down.\nactions.combustion_phase+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=!variable.fire_blast_pooling&(!improved_scorch.active||action.scorch.executing||debuff.improved_scorch.remains>4*gcd.max)&(buff.fury_of_the_sun_king.down||action.pyroblast.executing)&buff.combustion.up&!buff.hyperthermia.react&!buff.hot_streak.react&hot_streak_spells_in_flight+buff.heating_up.react*(gcd.remains>0)<2\n# Spend Hot Streaks during Combustion at high priority.\nactions.combustion_phase+=/flamestrike,if=(buff.hot_streak.react&active_enemies>=variable.combustion_flamestrike)||((buff.firestorm.react||buff.hyperthermia.react)&active_enemies>=variable.combustion_flamestrike-(runeforge.firestorm||talent.hyperthermia))\n# Radiant Spark should be used with a Hot Streak ready to use immediately after the cast finishes. This will naturally set up a Hot Streak spent for the final stack of Radiant Spark.\nactions.combustion_phase+=/radiant_spark,if=buff.combustion.up&2*buff.hot_streak.react+buff.heating_up.react+hot_streak_spells_in_flight=2\nactions.combustion_phase+=/pyroblast,if=(buff.firestorm.react||buff.hyperthermia.react)\n## With Sun King's Blessing, there is a brief delay before the Sun King's Blessing ready buff is removed after consuming it. It is beneficial to wait for this delay before spending Hot Streaks to not waste a stack.\n## actions.combustion_phase+=/wait,sec=0.01,if=buff.hot_streak.react&active_enemies<variable.combustion_flamestrike&(buff.sun_kings_blessing_ready.expiration_delay_remains||time-buff.sun_kings_blessing_ready.last_expire<variable.skb_delay-0.03)\nactions.combustion_phase+=/pyroblast,if=buff.hot_streak.react&buff.combustion.up\nactions.combustion_phase+=/pyroblast,if=prev_gcd.1.scorch&buff.heating_up.react&active_enemies<variable.combustion_flamestrike&buff.combustion.up\n# Using Shifting Power during Combustion to restore Fire Blast and Phoenix Flame charges can be beneficial, but usually only on AoE.\nactions.combustion_phase+=/shifting_power,if=buff.combustion.up&!action.fire_blast.charges&(action.phoenix_flames.charges<action.phoenix_flames.max_charges||talent.alexstraszas_fury)&variable.combustion_shifting_power<=active_enemies\n+# Spend Fury of the Sun King procs.\nactions.combustion_phase+=/flamestrike,if=buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&active_enemies>=variable.skb_flamestrike&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.combustion_phase+=/pyroblast,if=buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&buff.fury_of_the_sun_king.expiration_delay_remains=0\n# Maintain Improved Scorch when not casting Flamestrikes in Combustion.\nactions.combustion_phase+=/scorch,if=improved_scorch.active&(debuff.improved_scorch.remains<4*gcd.max)&active_enemies<variable.combustion_flamestrike\n# With the T30 set, Phoenix Flames should be used to maintain Charring Embers during Combustion and Flame's Fury procs should be spent.\nactions.combustion_phase+=/phoenix_flames,if=set_bonus.tier30_2pc&travel_time<buff.combustion.remains&buff.heating_up.react+hot_streak_spells_in_flight<2&(debuff.charring_embers.remains<4*gcd.max||buff.flames_fury.stack>1||buff.flames_fury.up)\nactions.combustion_phase+=/fireball,if=buff.combustion.remains>cast_time&buff.flame_accelerant.react\n# Use Phoenix Flames and Scorch in Combustion to help generate Hot Streaks when Fire Blasts are not available or need to be conserved.\nactions.combustion_phase+=/phoenix_flames,if=!set_bonus.tier30_2pc&!talent.alexstraszas_fury&travel_time<buff.combustion.remains&buff.heating_up.react+hot_streak_spells_in_flight<2\nactions.combustion_phase+=/scorch,if=buff.combustion.remains>cast_time&cast_time>=gcd.max\nactions.combustion_phase+=/fireball,if=buff.combustion.remains>cast_time\n# If there isn't enough time left in Combustion for a Phoenix Flames or Scorch to hit inside of Combustion, use something else.\nactions.combustion_phase+=/living_bomb,if=buff.combustion.remains<gcd.max&active_enemies>1\n\n# While casting Fireball or Pyroblast, convert Heating Up to a Hot Streak!\nactions.firestarter_fire_blasts+=/fire_blast,use_while_casting=1,if=!variable.fire_blast_pooling&!buff.hot_streak.react&(action.fireball.execute_remains>gcd.remains||action.pyroblast.executing)&buff.heating_up.react+hot_streak_spells_in_flight=1&(cooldown.shifting_power.ready||charges>1||buff.feel_the_burn.remains<2*gcd.max)\n# If not casting anything, use Fire Blast to trigger Hot Streak! only if Feel the Burn is talented and would expire before the GCD ends or if Shifting Power is available.\nactions.firestarter_fire_blasts+=/fire_blast,use_off_gcd=1,if=!variable.fire_blast_pooling&buff.heating_up.react+hot_streak_spells_in_flight=1&(talent.feel_the_burn&buff.feel_the_burn.remains<gcd.remains||cooldown.shifting_power.ready&(!set_bonus.tier30_2pc||debuff.charring_embers.remains>2*gcd.max))\n\nactions.standard_rotation=flamestrike,if=active_enemies>=variable.hot_streak_flamestrike&(buff.hot_streak.react||(buff.firestorm.react||buff.hyperthermia.react))\nactions.standard_rotation+=/pyroblast,if=buff.hyperthermia.react\nactions.standard_rotation+=/pyroblast,if=buff.hot_streak.react&(buff.hot_streak.remains<action.fireball.execute_time)\nactions.standard_rotation+=/pyroblast,if=buff.hot_streak.react&(hot_streak_spells_in_flight||firestarter.active||talent.alexstraszas_fury&action.phoenix_flames.charges)\nactions.standard_rotation+=/pyroblast,if=buff.hot_streak.react&searing_touch.active\nactions.standard_rotation+=/flamestrike,if=active_enemies>=variable.skb_flamestrike&buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.standard_rotation+=/scorch,if=improved_scorch.active&debuff.improved_scorch.remains<action.pyroblast.cast_time+5*gcd.max&buff.fury_of_the_sun_king.up&!action.scorch.in_flight\nactions.standard_rotation+=/pyroblast,if=buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.standard_rotation+=/pyroblast,if=buff.hot_streak.react&searing_touch.active\n# During the standard rotation, only use Fire Blasts when they are not being pooled for RoP or Combustion. Use Fire Blast either during a Fireball/Pyroblast cast when Heating Up is active or during execute with Searing Touch.\nactions.standard_rotation+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=!firestarter.active&!variable.fire_blast_pooling&buff.fury_of_the_sun_king.down&(((action.fireball.executing&(action.fireball.execute_remains<0.5||!talent.hyperthermia)||action.pyroblast.executing&(action.pyroblast.execute_remains<0.5||!talent.hyperthermia))&buff.heating_up.react)||(searing_touch.active&(!improved_scorch.active||debuff.improved_scorch.stack=debuff.improved_scorch.max_stack||full_recharge_time<3)&(buff.heating_up.react&!action.scorch.executing||!buff.hot_streak.react&!buff.heating_up.react&action.scorch.executing&!hot_streak_spells_in_flight)))\n# Modified; changed to Hot Streak to avoid hardcasted Pyroblasts.\nactions.standard_rotation+=/pyroblast,if=prev_gcd.1.scorch&buff.hot_streak.react&searing_touch.active&active_enemies<variable.hot_streak_flamestrike\nactions.standard_rotation+=/scorch,if=improved_scorch.active&debuff.improved_scorch.remains<4*gcd.max\nactions.standard_rotation+=/phoenix_flames,if=talent.alexstraszas_fury&(!talent.feel_the_burn||buff.feel_the_burn.remains<2*gcd.max)\nactions.standard_rotation+=/phoenix_flames,if=set_bonus.tier30_2pc&debuff.charring_embers.remains<2*gcd.max&!buff.hot_streak.react\nactions.standard_rotation+=/scorch,if=improved_scorch.active&debuff.improved_scorch.stack<debuff.improved_scorch.max_stack\nactions.standard_rotation+=/phoenix_flames,if=!talent.alexstraszas_fury&!buff.hot_streak.react&!variable.phoenix_pooling&buff.flames_fury.up\nactions.standard_rotation+=/phoenix_flames,if=talent.alexstraszas_fury&!buff.hot_streak.react&hot_streak_spells_in_flight=0&(!variable.phoenix_pooling&buff.flames_fury.up||charges_fractional>2.5||charges_fractional>1.5&(!talent.feel_the_burn||buff.feel_the_burn.remains<3*gcd.max))\nactions.standard_rotation+=/call_action_list,name=active_talents\nactions.standard_rotation+=/dragons_breath,if=active_enemies>1\nactions.standard_rotation+=/scorch,if=searing_touch.active\nactions.standard_rotation+=/arcane_explosion,if=active_enemies>=variable.arcane_explosion&mana.pct>=variable.arcane_explosion_mana\n# With enough targets, it is a gain to cast Flamestrike as filler instead of Fireball.\nactions.standard_rotation+=/flamestrike,if=active_enemies>=variable.hard_cast_flamestrike\nactions.standard_rotation+=/pyroblast,if=talent.tempered_flames&!buff.flame_accelerant.react\nactions.standard_rotation+=/fireball",
					["spec"] = 63,
				},
				["Protection Paladin"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230625,
					["author"] = "SimC",
					["desc"] = "2023-06-25:  Eye of Tyr adjusted based on Inmost Light.\n\n2023-06-24:  Judgment usage with Bulwark of Righteous Fury; trinket logic update.\n\n2023-05-24:  Update Light's Judgment, Divine Toll, Eye of Tyr usage.\n\n2023-02-27:  Use SotR with Bastion of Light, Divine Purpose, or 3+ Holy Power if Righteous Protector is not talented or is outside its ICD.\n\n2023-03-06:  Check for Of Dusk and Dawn buffs before spending using SotR at 3 CP.\n\n2023-03-19:  Updated for 10.0.7.\n\n2023-03-21:  Oops, Blessed Hammer still exists.\n\n2023-03-26:  Updates from SimulationCraft (Avenger's Shield usage for 2pc Tier 29, SotR if ICD is bypassed).",
					["lists"] = {
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Executed every time the actor is available.",
								["action"] = "rebuke",
							}, -- [1]
							{
								["action"] = "cleanse_toxins",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cooldowns",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "mitigation",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "trinkets",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "standard",
							}, -- [6]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.paladin_aura.down",
								["action"] = "devotion_aura",
							}, -- [1]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "consecration",
								["enabled"] = true,
							}, -- [4]
						},
						["mitigation"] = {
							{
								["enabled"] = true,
								["criteria"] = "tanking & buff.shield_of_the_righteous.down & ( holy_power.deficit = 0 || buff.divine_purpose.up )",
								["action"] = "shield_of_the_righteous",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "health.pct < wog_health & ( holy_power.deficit = 0 || buff.divine_purpose.up || buff.shining_light_free.up )",
								["action"] = "word_of_glory",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "tanking & incoming_damage_5s > goak_damage & ! ( buff.ardent_defender.up || buff.guardian_of_ancient_kings.up || buff.divine_shield.up || buff.potion.up )",
								["action"] = "guardian_of_ancient_kings",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.final_stand.enabled & tanking & incoming_damage_5s > ds_damage & ! ( buff.ardent_defender.up || buff.guardian_of_ancient_kings.up || buff.divine_shield.up || buff.potion.up )",
								["action"] = "divine_shield",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "tanking & incoming_damage_5s > goak_damage & ! ( buff.ardent_defender.up || buff.guardian_of_ancient_kings.up || buff.divine_shield.up || buff.potion.up )",
								["action"] = "ardent_defender",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "health.pct < 15",
								["action"] = "lay_on_hands",
							}, -- [6]
						},
						["trinkets"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "1",
								["criteria"] = "trinket.t1.has_stat.any_dps & ( ! trinket.t2.has_stat.any_dps || trinket.t1.cooldown.duration >= trinket.t2.cooldown.duration )",
								["var_name"] = "trinket_sync_slot",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "2",
								["criteria"] = "trinket.t2.has_stat.any_dps & ( ! trinket.t1.has_stat.any_dps || trinket.t2.cooldown.duration > trinket.t1.cooldown.duration )",
								["var_name"] = "trinket_sync_slot",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( variable.trinket_sync_slot = 1 & ( buff.avenging_wrath.up || boss & fight_remains <= 40 ) || ( variable.trinket_sync_slot = 2 & ( ! trinket.t2.cooldown.ready || ! buff.avenging_wrath.up ) ) || ! variable.trinket_sync_slot )",
								["slots"] = "trinket1",
								["action"] = "trinket1",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( variable.trinket_sync_slot = 2 & ( buff.avenging_wrath.up || boss & fight_remains <= 40 ) || ( variable.trinket_sync_slot = 1 & ( ! trinket.t1.cooldown.ready || ! buff.avenging_wrath.up ) ) || ! variable.trinket_sync_slot )",
								["slots"] = "trinket2",
								["action"] = "trinket2",
							}, -- [4]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [5]
						},
						["cooldowns"] = {
							{
								["enabled"] = true,
								["description"] = "Use Avenger's Shield as first priority before anything else, if t29 2pc is equipped.",
								["criteria"] = "time = 0 & set_bonus.tier29_2pc",
								["action"] = "avengers_shield",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.lights_judgment >= 2 || ! raid_event.adds.exists || raid_event.adds.in > 75 || raid_event.adds.up",
								["action"] = "lights_judgment",
							}, -- [2]
							{
								["action"] = "avenging_wrath",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "avenging_wrath",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.aw_sentinel.up",
								["action"] = "potion",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( buff.aw_sentinel.remains < 15 || ( time > 10 || cooldown.sentinel.remains > 15 || cooldown.avenging_wrath.remains > 15 ) & ( cooldown.avengers_shield.remains & cooldown.judgment.remains & cooldown.hammer_of_wrath.remains ) )",
								["action"] = "moment_of_glory",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.shield_of_the_righteous >= 3",
								["action"] = "divine_toll",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.inmost_light.enabled & spell_targets.shield_of_the_righteous >= 3",
								["action"] = "eye_of_tyr",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.aw_sentinel.up",
								["action"] = "bastion_of_light",
							}, -- [9]
						},
						["standard"] = {
							{
								["enabled"] = true,
								["description"] = "Use Shield of the Righteous according to Righteous Protector's ICD, but use it asap if it's a free proc (Bugged interaction, this ignores ICD)",
								["criteria"] = "( ( ! talent.righteous_protector.enabled || buff.righteous_protector_icd.down ) & holy_power > 2 ) || buff.bastion_of_light.up || buff.divine_purpose.up",
								["action"] = "shield_of_the_righteous",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "judgment",
								["criteria"] = "spell_targets.shield_of_the_righteous > 3 & buff.bulwark_of_righteous_fury.stack >= 3 & holy_power < 3",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.avengers_shield > 2",
								["action"] = "avengers_shield",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.aw_sentinel.up",
								["action"] = "hammer_of_wrath",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "judgment",
								["criteria"] = "talent.crusaders_judgment.enabled & ( charges = 2 || cooldown.judgment.remains < 4 ) || ! talent.crusaders_judgment.enabled",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( time > 20 & ( ! raid_event.adds.exists || raid_event.adds.in > 10 ) ) || ( ( buff.avenging_wrath.up || ! talent.avenging_wrath.enabled ) & ( buff.moment_of_glory.up || ! talent.moment_of_glory.enabled ) )",
								["action"] = "divine_toll",
							}, -- [6]
							{
								["action"] = "avengers_shield",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "hammer_of_wrath",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "judgment",
								["cycle_targets"] = 1,
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "! consecration.up",
								["action"] = "consecration",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "talent.inmost_light.enabled & raid_event.adds.in >= 45",
								["action"] = "eye_of_tyr",
							}, -- [11]
							{
								["action"] = "blessed_hammer",
								["enabled"] = true,
							}, -- [12]
							{
								["action"] = "hammer_of_the_righteous",
								["enabled"] = true,
							}, -- [13]
							{
								["action"] = "crusader_strike",
								["enabled"] = true,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "! talent.inmost_light.enabled & raid_event.adds.in >= 60",
								["action"] = "eye_of_tyr",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "buff.shining_light_free.up",
								["action"] = "word_of_glory",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "holy_power < 5",
								["action"] = "arcane_torrent",
							}, -- [17]
							{
								["action"] = "consecration",
								["enabled"] = true,
							}, -- [18]
						},
					},
					["version"] = 20230625,
					["warnings"] = "The import for 'trinkets' required some automated changes.\nLine 1: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 1: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 1: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 1: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\nLine 2: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 3: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready' (1x).\nLine 3: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready'.\nLine 4: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready' (1x).\nLine 4: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready'.\n\nImported 6 action lists.\n",
					["profile"] = "actions.precombat+=/devotion_aura,if=buff.paladin_aura.down\nactions.precombat+=/lights_judgment\nactions.precombat+=/arcane_torrent\nactions.precombat+=/consecration\n\n# Executed every time the actor is available.\nactions=rebuke\nactions+=/cleanse_toxins\nactions+=/call_action_list,name=cooldowns\nactions+=/call_action_list,name=mitigation\nactions+=/call_action_list,name=trinkets\nactions+=/call_action_list,name=standard\n\n# Use Avenger's Shield as first priority before anything else, if t29 2pc is equipped.\nactions.cooldowns+=/avengers_shield,if=time=0&set_bonus.tier29_2pc\nactions.cooldowns+=/lights_judgment,if=spell_targets.lights_judgment>=2||!raid_event.adds.exists||raid_event.adds.in>75||raid_event.adds.up\nactions.cooldowns+=/avenging_wrath\nactions.cooldowns+=/sentinel\nactions.cooldowns+=/potion,if=buff.aw_sentinel.up\nactions.cooldowns+=/moment_of_glory,if=(buff.aw_sentinel.remains<15||(time>10||cooldown.sentinel.remains>15||cooldown.avenging_wrath.remains>15)&(cooldown.avengers_shield.remains&cooldown.judgment.remains&cooldown.hammer_of_wrath.remains))\nactions.cooldowns+=/divine_toll,if=spell_targets.shield_of_the_righteous>=3\nactions.cooldowns+=/eye_of_tyr,if=talent.inmost_light.enabled&spell_targets.shield_of_the_righteous>=3\nactions.cooldowns+=/bastion_of_light,if=buff.aw_sentinel.up\n\nactions.mitigation=shield_of_the_righteous,if=tanking&buff.shield_of_the_righteous.down&(holy_power.deficit=0||buff.divine_purpose.up)\nactions.mitigation+=/word_of_glory,if=health.pct<wog_health&(holy_power.deficit=0||buff.divine_purpose.up||buff.shining_light_free.up)\nactions.mitigation+=/guardian_of_ancient_kings,if=tanking&incoming_damage_5s>goak_damage&!(buff.ardent_defender.up||buff.guardian_of_ancient_kings.up||buff.divine_shield.up||buff.potion.up)\nactions.mitigation+=/divine_shield,if=talent.final_stand.enabled&tanking&incoming_damage_5s>ds_damage&!(buff.ardent_defender.up||buff.guardian_of_ancient_kings.up||buff.divine_shield.up||buff.potion.up)\nactions.mitigation+=/ardent_defender,if=tanking&incoming_damage_5s>goak_damage&!(buff.ardent_defender.up||buff.guardian_of_ancient_kings.up||buff.divine_shield.up||buff.potion.up)\nactions.mitigation+=/lay_on_hands,if=health.pct<15\n\n# Use Shield of the Righteous according to Righteous Protector's ICD, but use it asap if it's a free proc (Bugged interaction, this ignores ICD)\nactions.standard+=/shield_of_the_righteous,if=((!talent.righteous_protector.enabled||buff.righteous_protector_icd.down)&holy_power>2)||buff.bastion_of_light.up||buff.divine_purpose.up\nactions.standard+=/judgment,cycle_targets=1,if=spell_targets.shield_of_the_righteous>3&buff.bulwark_of_righteous_fury.stack>=3&holy_power<3\nactions.standard+=/avengers_shield,if=spell_targets.avengers_shield>2\nactions.standard+=/hammer_of_wrath,if=buff.aw_sentinel.up\nactions.standard+=/judgment,cycle_targets=1,if=talent.crusaders_judgment.enabled&(charges=2||cooldown.judgment.remains<4)||!talent.crusaders_judgment.enabled\nactions.standard+=/divine_toll,if=(time>20&(!raid_event.adds.exists||raid_event.adds.in>10))||((buff.avenging_wrath.up||!talent.avenging_wrath.enabled)&(buff.moment_of_glory.up||!talent.moment_of_glory.enabled))\nactions.standard+=/avengers_shield\nactions.standard+=/hammer_of_wrath\nactions.standard+=/judgment,cycle_targets=1\nactions.standard+=/consecration,if=!consecration.up\nactions.standard+=/eye_of_tyr,if=talent.inmost_light.enabled&raid_event.adds.in>=45\nactions.standard+=/blessed_hammer\nactions.standard+=/hammer_of_the_righteous\nactions.standard+=/crusader_strike\nactions.standard+=/eye_of_tyr,if=!talent.inmost_light.enabled&raid_event.adds.in>=60\nactions.standard+=/word_of_glory,if=buff.shining_light_free.up\nactions.standard+=/arcane_torrent,if=holy_power<5\nactions.standard+=/consecration\n\nactions.trinkets+=/variable,name=trinket_sync_slot,value=1,if=trinket.1.has_stat.any_dps&(!trinket.2.has_stat.any_dps||trinket.1.cooldown.duration>=trinket.2.cooldown.duration)\nactions.trinkets+=/variable,name=trinket_sync_slot,value=2,if=trinket.2.has_stat.any_dps&(!trinket.1.has_stat.any_dps||trinket.2.cooldown.duration>trinket.1.cooldown.duration)\nactions.trinkets+=/use_items,slots=trinket1,if=(variable.trinket_sync_slot=1&(buff.avenging_wrath.up||boss&fight_remains<=40)||(variable.trinket_sync_slot=2&(!trinket.2.cooldown.ready||!buff.avenging_wrath.up))||!variable.trinket_sync_slot)\nactions.trinkets+=/use_items,slots=trinket2,if=(variable.trinket_sync_slot=2&(buff.avenging_wrath.up||boss&fight_remains<=40)||(variable.trinket_sync_slot=1&(!trinket.1.cooldown.ready||!buff.avenging_wrath.up))||!variable.trinket_sync_slot)\nactions.trinkets+=/use_items",
					["spec"] = 66,
				},
				["Assassination"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230624,
					["author"] = "SimC",
					["desc"] = "2023-06-24: Tweak Exsanguinate and Echoing Reprimand conditions.\n\n2023-05-26: Sepsis sync logic added.\n\n2023-02-25: Allow Envenom as CP spender against a dying target when Rupture and Crimson Tempest would otherwise not be used.\n\n2023-03-19: 10.0.7 update.\n\n2023-03-25: Add missing Shiv entry.",
					["lists"] = {
						["stealthed"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.fan_of_knives > desired_targets || spell_targets.fan_of_knives > 1 & raid_event.adds.in > 60",
								["action"] = "indiscriminate_carnage",
								["description"] = "Stealthed Actions",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "garrote",
								["cycle_targets"] = 1,
								["criteria"] = "stealthed.improved_garrote & ! will_lose_exsanguinate & ( remains < ( 12 - buff.sepsis_buff.remains ) / exsanguinated_rate || pmultiplier <= 1 ) & target.time_to_die - remains > 2",
								["description"] = "Improved Garrote: Apply or Refresh with buffed Garrotes",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.exsanguinate.enabled & stealthed.improved_garrote & active_enemies = 1 & ! will_lose_exsanguinate & ( remains < 18 / exsanguinated_rate || pmultiplier <= 1 ) & variable.exsang_sync_remains < 18 & improved_garrote_remains < 1.3",
								["action"] = "garrote",
								["description"] = "Improved Garrote + Exsg on 1T: Refresh Garrote at the end of stealth to get max duration before Exsanguinate",
							}, -- [3]
						},
						["vanish"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.improved_garrote.enabled & cooldown.garrote.up & ! debuff.garrote.exsanguinated & ( dot.garrote.pmultiplier <= 1 || dot.garrote.refreshable ) & ( debuff.deathmark.up || cooldown.deathmark.remains < 4 ) & combo_points.deficit >= ( spell_targets.fan_of_knives >? 4 )",
								["action"] = "vanish",
								["description"] = "Stealth Cooldowns  Vanish Sync for Improved Garrote with Deathmark",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "talent.improved_garrote.enabled & cooldown.garrote.up & ! debuff.garrote.exsanguinated & ( dot.garrote.pmultiplier <= 1 || dot.garrote.refreshable ) & spell_targets.fan_of_knives > ( 3 - talent.indiscriminate_carnage.enabled ) & ( ! talent.indiscriminate_carnage.enabled || cooldown.indiscriminate_carnage.ready )",
								["action"] = "vanish",
								["description"] = "Vanish for Indiscriminate Carnage or Improved Garrote at 2-3+ targets",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! talent.improved_garrote.enabled & talent.master_assassin.enabled & ! dot.rupture.refreshable & dot.garrote.remains > 3 & debuff.deathmark.up & ( debuff.shiv.up || debuff.deathmark.remains < 4 || dot.sepsis.ticking ) & dot.sepsis.remains < 3",
								["action"] = "vanish",
								["description"] = "Vanish with Master Assassin: Rupture+Garrote not in refresh range, during Deathmark+Shiv. Sync with Sepsis final hit if possible.",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.improved_garrote.enabled & cooldown.garrote.up & ! debuff.garrote.exsanguinated & dot.garrote.pmultiplier <= 1 & ( debuff.deathmark.up || cooldown.deathmark.remains < 4 || cooldown.deathmark.remains > 60 ) & combo_points.deficit >= ( spell_targets.fan_of_knives >? 4 )",
								["action"] = "shadow_dance",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "talent.improved_garrote.enabled & cooldown.garrote.up & ! debuff.garrote.exsanguinated & ( dot.garrote.pmultiplier <= 1 || dot.garrote.refreshable ) & ( debuff.deathmark.up || cooldown.deathmark.remains < 12 || cooldown.deathmark.remains > 60 ) & combo_points.deficit >= ( spell_targets.fan_of_knives >? 4 )",
								["action"] = "shadow_dance",
								["description"] = "Shadow Dance for Improved Garrote with Deathmark",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! talent.improved_garrote.enabled & talent.master_assassin.enabled & ! dot.rupture.refreshable & dot.garrote.remains > 3 & ( debuff.deathmark.up || cooldown.deathmark.remains > 60 ) & ( debuff.shiv.up || debuff.deathmark.remains < 4 || dot.sepsis.ticking ) & dot.sepsis.remains < 3",
								["action"] = "shadow_dance",
								["description"] = "Shadow Dance with Master Assassin: Rupture+Garrote not in refresh range, during Deathmark+Shiv. Sync with Sepsis final hit if possible.",
							}, -- [6]
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Restealth if possible (no vulnerable enemies in combat)",
								["action"] = "stealth",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! stealthed.all",
								["action"] = "kick",
								["description"] = "Interrupt on cooldown to allow simming interactions with that",
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.fan_of_knives < 2",
								["var_name"] = "single_target",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "energy.regen_combined > 35",
								["description"] = "Combined Energy Regen needed to saturate",
								["var_name"] = "regen_saturated",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] = "Next Exsanguinate cooldown time based on Deathmark syncing logic and remaining fight duration",
								["criteria"] = "cooldown.deathmark.remains > cooldown.exsanguinate.remains & cooldown.deathmark.remains < fight_remains",
								["var_name"] = "exsang_sync_remains",
								["action"] = "variable",
								["value_else"] = "cooldown.exsanguinate.remains",
								["value"] = "cooldown.deathmark.remains",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] = "Next Sepsis cooldown time based on Deathmark syncing logic and remaining fight duration",
								["criteria"] = "cooldown.deathmark.remains > cooldown.sepsis.remains & cooldown.deathmark.remains < fight_remains",
								["var_name"] = "sepsis_sync_remains",
								["action"] = "variable",
								["value_else"] = "cooldown.sepsis.remains",
								["value"] = "cooldown.deathmark.remains",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "stealthed.rogue || stealthed.improved_garrote",
								["action"] = "call_action_list",
								["list_name"] = "stealthed",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cds",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! buff.slice_and_dice.up & combo_points >= 2 || ! talent.cut_to_the_chase.enabled & refreshable & combo_points >= 4",
								["action"] = "slice_and_dice",
								["description"] = "Put SnD up initially for Cut to the Chase, refresh with Envenom if at low duration",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.cut_to_the_chase.enabled & buff.slice_and_dice.up & buff.slice_and_dice.remains < 5 & combo_points >= 4",
								["action"] = "envenom",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "dot",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "direct",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "energy.deficit >= 15 + energy.regen_combined",
								["action"] = "arcane_torrent",
							}, -- [13]
							{
								["action"] = "arcane_pulse",
								["enabled"] = true,
							}, -- [14]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [15]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [16]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["description"] = "Executed before combat begins. Accepts non-harmful actions only.",
								["action"] = "apply_poison",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "marked_for_death",
								["criteria"] = "raid_event.adds.in > 15",
								["precombat_seconds"] = "10",
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "trinket_sync_slot",
								["criteria"] = "trinket.t1.has_stat.any_dps & ( ! trinket.t2.has_stat.any_dps || trinket.t1.cooldown.duration >= trinket.t2.cooldown.duration )",
								["description"] = "Determine which (if any) stat buff trinket we want to attempt to sync with Deathmark.",
								["value"] = "1",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "2",
								["criteria"] = "trinket.t2.has_stat.any_dps & ( ! trinket.t1.has_stat.any_dps || trinket.t2.cooldown.duration > trinket.t1.cooldown.duration )",
								["var_name"] = "trinket_sync_slot",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cp_max_spend <? ( talent.resounding_clarity.enabled * 7 )",
								["description"] = "Determine if we should be be casting our pre-Exsanguinate Rupture with Echoing Reprimand CP",
								["var_name"] = "exsanguinate_rupture_cp",
							}, -- [5]
							{
								["action"] = "stealth",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "slice_and_dice",
								["criteria"] = "refreshable",
								["precombat_seconds"] = "1",
							}, -- [7]
						},
						["direct"] = {
							{
								["enabled"] = true,
								["criteria"] = "effective_combo_points >= 4 + talent.deeper_stratagem.enabled & ( debuff.deathmark.up || debuff.shiv.up || debuff.amplifying_poison.stack >= 10 || energy.deficit <= 25 + energy.regen_combined || ! variable.single_target || effective_combo_points > cp_max_spend || combo_points.deficit < 1 & target.time_to_die <= 4 + ( talent.dashing_scoundrel.enabled * 5 ) + ( talent.doomblade.enabled * 5 ) + ( variable.regen_saturated * 6 ) ) & ( ! talent.exsanguinate.enabled || variable.exsang_sync_remains > 2 || talent.resounding_clarity.enabled & ( cooldown.echoing_reprimand.ready & combo_points > 2 || effective_combo_points > 5 ) )",
								["action"] = "envenom",
								["description"] = "Direct damage abilities  Envenom at 4+ (5+ with DS) CP. Immediately on 2+ targets, with Deathmark, or with TB, otherwise wait for some energy. Also wait if Exsg combo is coming up. Allow as filler on a dying target if CP capped.",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "combo_points.deficit > 1 || energy.deficit <= 25 + energy.regen_combined || ! variable.single_target",
								["var_name"] = "use_filler",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "variable.use_filler & ! dot.serrated_bone_spike_dot.ticking",
								["action"] = "serrated_bone_spike",
								["description"] = "Apply SBS to all targets without a debuff as priority, preferring targets dying sooner after the primary target",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "serrated_bone_spike",
								["criteria"] = "variable.use_filler & ! dot.serrated_bone_spike_dot.ticking",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "variable.use_filler & master_assassin_remains < 0.8 & ( boss & fight_remains <= 5 || cooldown.serrated_bone_spike.max_charges - charges_fractional <= 0.25 )",
								["action"] = "serrated_bone_spike",
								["description"] = "Keep from capping charges or burn at the end of fights",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "variable.use_filler & master_assassin_remains < 0.8 & ! variable.single_target & debuff.shiv.up",
								["action"] = "serrated_bone_spike",
								["description"] = "When MA is not at high duration, sync with Shiv",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.exsanguinate.enabled || ! talent.resounding_clarity.enabled || variable.exsang_sync_remains > 40 ) & variable.use_filler || boss & fight_remains < 20",
								["action"] = "echoing_reprimand",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "variable.use_filler & ( ! priority_rotation & spell_targets.fan_of_knives >= 3 + stealthed.rogue + talent.dragontempered_blades.enabled )",
								["action"] = "fan_of_knives",
								["description"] = "Fan of Knives at 3+ targets or 4+ with DTB",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "fan_of_knives",
								["cycle_targets"] = 1,
								["criteria"] = "variable.use_filler & spell_targets.fan_of_knives >= 3 & ! dot.deadly_poison_dot.ticking & ( ! priority_rotation || dot.garrote.ticking || dot.rupture.ticking )",
								["description"] = "Fan of Knives to apply poisons if inactive on any target (or any bleeding targets with priority rotation) at 3T",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "variable.use_filler & ( buff.blindside.up || buff.sepsis_buff.remains <= 1 || stealthed.rogue )",
								["action"] = "ambush",
								["description"] = "Ambush on Blindside/Shadow Dance, or a last resort usage of Sepsis",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "mutilate",
								["cycle_targets"] = 1,
								["criteria"] = "! dot.deadly_poison_dot.ticking & ! debuff.amplifying_poison.up & variable.use_filler & spell_targets.fan_of_knives = 2",
								["description"] = "Tab-Mutilate to apply Deadly Poison at 2 targets",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "variable.use_filler",
								["action"] = "mutilate",
							}, -- [12]
						},
						["cds"] = {
							{
								["enabled"] = true,
								["action"] = "marked_for_death",
								["line_cd"] = "1.5",
								["cycle_targets"] = 1,
								["criteria"] = "raid_event.adds.up & ( ! variable.single_target || boss & fight_remains < 30 ) & ( target.time_to_die < combo_points.deficit * 1.5 || combo_points.deficit >= cp_max_spend )",
								["description"] = "Cooldowns  If adds are up, snipe the one with lowest TTD. Use when dying faster than CP deficit or without any CP.",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 30 - raid_event.adds.duration & combo_points.deficit >= cp_max_spend",
								["action"] = "marked_for_death",
								["description"] = "If no adds will die within the next 30s, use MfD for max CP.",
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! talent.exsanguinate.enabled || cooldown.exsanguinate.remains > 15 || debuff.rupture.exsanguinated || debuff.garrote.exsanguinated",
								["description"] = "Sync Deathmark window with Exsanguinate if applicable",
								["var_name"] = "deathmark_exsanguinate_condition",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! talent.master_assassin.enabled || dot.garrote.ticking",
								["description"] = "Wait on Deathmark for Garrote with MA",
								["var_name"] = "deathmark_ma_condition",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! stealthed.rogue & ! stealthed.improved_garrote & dot.rupture.ticking & ( ! talent.exsanguinate.enabled || variable.exsang_sync_remains > 7 || dot.rupture.remains > 20 ) & ( ! talent.improved_garrote.enabled & dot.garrote.ticking || talent.improved_garrote.enabled & cooldown.garrote.up ) & ( target.time_to_die > 10 || boss & fight_remains < 10 )",
								["action"] = "sepsis",
								["description"] = "Sepsis unless we're preparing for exsanguinate",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! stealthed.rogue & dot.rupture.ticking & ! debuff.deathmark.up & variable.deathmark_exsanguinate_condition & variable.deathmark_ma_condition",
								["description"] = "Deathmark to be used if not stealthed, Rupture is up, and all other talent conditions are satisfied",
								["var_name"] = "deathmark_condition",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "algethar_puzzle_box",
								["use_off_gcd"] = 1,
								["name"] = "algethar_puzzle_box",
								["criteria"] = "( ! talent.exsanguinate.enabled || cooldown.exsanguinate.remains > 15 || debuff.rupture.exsanguinated || debuff.garrote.exsanguinated ) & dot.rupture.ticking & cooldown.deathmark.remains < 2 || boss & fight_remains <= 22",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "( variable.trinket_sync_slot = 1 & ( debuff.deathmark.up || boss & fight_remains <= 20 ) || ( variable.trinket_sync_slot = 2 & ( ! trinket.t2.cooldown.ready || ! debuff.deathmark.up & cooldown.deathmark.remains > 20 ) ) || ! variable.trinket_sync_slot )",
								["description"] = "Sync the priority stat buff trinket with Deathmark, otherwise use on cooldown",
								["slots"] = "trinket1",
								["action"] = "trinket1",
							}, -- [8]
							{
								["enabled"] = true,
								["slots"] = "trinket2",
								["action"] = "trinket2",
								["criteria"] = "( variable.trinket_sync_slot = 2 & ( debuff.deathmark.up || boss & fight_remains <= 20 ) || ( variable.trinket_sync_slot = 1 & ( ! trinket.t1.cooldown.ready || ! debuff.deathmark.up & cooldown.deathmark.remains > 20 ) ) || ! variable.trinket_sync_slot )",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "variable.deathmark_condition",
								["action"] = "deathmark",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "( debuff.shiv.up || cooldown.shiv.remains < 6 ) & buff.envenom.up & ( cooldown.deathmark.remains >= 50 || dot.deathmark.ticking )",
								["action"] = "kingsbane",
							}, -- [11]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.exsanguinate.enabled & ! stealthed.rogue & ( ! stealthed.improved_garrote || dot.garrote.pmultiplier > 1 ) & ! dot.deathmark.ticking & target.time_to_die > variable.exsang_sync_remains + 4 & variable.exsang_sync_remains < 4",
								["description"] = "Exsanguinate when not stealthed and both Rupture and Garrote are up for long enough. Attempt to sync with Deathmark and also Echoing Reprimand if using Resounding Clarity.",
								["var_name"] = "exsanguinate_condition",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "talent.exsanguinate.enabled & talent.resounding_clarity.enabled & ( variable.exsanguinate_condition & combo_points <= 2 & variable.exsang_sync_remains <= 2 & ! dot.garrote.refreshable & dot.rupture.remains > 9.6 )",
								["action"] = "echoing_reprimand",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "variable.exsanguinate_condition & ( ! dot.garrote.refreshable & dot.rupture.remains > 4 + 4 * variable.exsanguinate_rupture_cp || dot.rupture.remains * 0.5 > target.time_to_die )",
								["action"] = "exsanguinate",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "talent.kingsbane.enabled & ! debuff.shiv.up & dot.kingsbane.ticking & dot.garrote.ticking & dot.rupture.ticking & ( ! talent.crimson_tempest.enabled || variable.single_target || dot.crimson_tempest.ticking )",
								["action"] = "shiv",
								["description"] = "Shiv if DoTs are up, Always Shiv with Kingsbane, otherwise attempt to sync with Sepsis or Deathmark if we won't waste more than half Shiv's cooldown",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "talent.arterial_precision.enabled & ! debuff.shiv.up & dot.garrote.ticking & dot.rupture.ticking & ( debuff.deathmark.up || cooldown.shiv.charges_fractional > max_charges - 0.5 & cooldown.deathmark.remains > 10 )",
								["action"] = "shiv",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "! talent.kingsbane.enabled & ! talent.arterial_precision.enabled & ! talent.sepsis.enabled & ! debuff.shiv.up & dot.garrote.ticking & dot.rupture.ticking & ( ! talent.crimson_tempest.enabled || variable.single_target || dot.crimson_tempest.ticking ) & ( ! talent.exsanguinate.enabled || variable.exsang_sync_remains > 2 )",
								["action"] = "shiv",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "talent.sepsis.enabled & ! talent.kingsbane.enabled & ! talent.arterial_precision.enabled & ! debuff.shiv.up & dot.garrote.ticking & dot.rupture.ticking & ( ( cooldown.shiv.charges_fractional > 0.9 + talent.lightweight_shiv.enabled & variable.sepsis_sync_remains > 5 ) || dot.sepsis.ticking || dot.deathmark.ticking || boss & fight_remains < 20 )",
								["action"] = "shiv",
								["description"] = "Pool Shiv charges for Sepsis/Deathmark, unless we're about to cap on charges",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "! buff.thistle_tea.up & ( energy.deficit >= 100 || charges = 3 & ( dot.kingsbane.ticking || debuff.deathmark.up ) || boss & fight_remains < charges * 6 )",
								["action"] = "thistle_tea",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "( spell_targets.fan_of_knives > desired_targets || spell_targets.fan_of_knives > 1 & raid_event.adds.in > 60 ) & ( ! talent.improved_garrote.enabled || cooldown.vanish.remains > 45 )",
								["action"] = "indiscriminate_carnage",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.react || boss & fight_remains < 30 || debuff.deathmark.up",
								["action"] = "potion",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "debuff.deathmark.up",
								["action"] = "blood_fury",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "debuff.deathmark.up",
								["action"] = "berserking",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "debuff.deathmark.up",
								["action"] = "fireblood",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "debuff.deathmark.up",
								["action"] = "ancestral_call",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "! stealthed.all & master_assassin_remains = 0",
								["action"] = "call_action_list",
								["list_name"] = "vanish",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "combo_points >= 4",
								["action"] = "cold_blood",
							}, -- [27]
						},
						["dot"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "priority_rotation & ( dot.garrote.remains < cooldown.garrote.duration || variable.regen_saturated )",
								["description"] = "Damage over time abilities  Limit secondary Garrotes for priority rotation if we have 35 energy regen or Garrote will expire on the primary target",
								["var_name"] = "skip_cycle_garrote",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "priority_rotation & ( debuff.shiv.up & spell_targets.fan_of_knives > 2 || variable.regen_saturated )",
								["description"] = "Limit secondary Ruptures for priority rotation if we have 35 energy regen or Shiv is up on 2T+",
								["var_name"] = "skip_cycle_rupture",
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "0",
								["description"] = "Limit Ruptures when appropriate, not currently used",
								["var_name"] = "skip_rupture",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.exsanguinate.enabled & ! will_lose_exsanguinate & dot.rupture.pmultiplier <= 1 & ! dot.rupture.ticking & effective_combo_points <= 3 & variable.single_target",
								["action"] = "rupture",
								["description"] = "Special Garrote and Rupture setup prior to Exsanguinate cast",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "talent.exsanguinate.enabled & ! will_lose_exsanguinate & dot.garrote.pmultiplier <= 1 & variable.exsang_sync_remains < 2 & spell_targets.fan_of_knives = 1 & raid_event.adds.in > 6 & dot.garrote.remains * 0.5 < target.time_to_die",
								["action"] = "garrote",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "talent.exsanguinate.enabled & ! will_lose_exsanguinate & dot.rupture.pmultiplier <= 1 & variable.exsang_sync_remains < 1 & effective_combo_points >= variable.exsanguinate_rupture_cp & dot.rupture.remains * 0.5 < target.time_to_die",
								["action"] = "rupture",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & combo_points.deficit >= 1 & ( pmultiplier <= 1 || remains <= tick_time & spell_targets.fan_of_knives >= 3 ) & ( ! will_lose_exsanguinate || remains <= tick_time * 2 & spell_targets.fan_of_knives >= 3 ) & ( target.time_to_die - remains ) > 4 & master_assassin_remains = 0",
								["action"] = "garrote",
								["description"] = "Garrote upkeep, also tries to use it as a special generator for the last CP before a finisher",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "garrote",
								["criteria"] = "! variable.skip_cycle_garrote & refreshable & combo_points.deficit >= 1 & ( pmultiplier <= 1 || remains <= tick_time & spell_targets.fan_of_knives >= 3 ) & ( ! will_lose_exsanguinate || remains <= tick_time * 2 & spell_targets.fan_of_knives >= 3 ) & ( target.time_to_die - remains ) > 12 & master_assassin_remains = 0",
								["cycle_targets"] = 1,
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "crimson_tempest",
								["cycle_targets"] = 1,
								["criteria"] = "spell_targets >= 2 & effective_combo_points >= 4 & energy.regen_combined > 20 & ( ! cooldown.deathmark.ready || dot.rupture.ticking ) & remains < ( 2 + 3 * ( spell_targets >= 4 ) )",
								["description"] = "Crimson Tempest on multiple targets at 4+ CP when running out in 2-5s as long as we have enough regen and aren't setting up for Deathmark",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "! variable.skip_rupture & effective_combo_points >= 4 & refreshable & ( pmultiplier <= 1 || remains <= tick_time & spell_targets.fan_of_knives >= 3 ) & ( ! will_lose_exsanguinate || remains <= tick_time * 2 & spell_targets.fan_of_knives >= 3 ) & target.time_to_die - remains > ( 4 + ( talent.dashing_scoundrel.enabled * 5 ) + ( talent.doomblade.enabled * 5 ) + ( variable.regen_saturated * 6 ) )",
								["action"] = "rupture",
								["description"] = "Keep up Rupture at 4+ on all targets (when living long enough and not snapshot)",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "rupture",
								["criteria"] = "! variable.skip_cycle_rupture & ! variable.skip_rupture & effective_combo_points >= 4 & refreshable & ( pmultiplier <= 1 || remains <= tick_time & spell_targets.fan_of_knives >= 3 ) & ( ! will_lose_exsanguinate || remains <= tick_time * 2 & spell_targets.fan_of_knives >= 3 ) & target.time_to_die - remains > ( 4 + ( talent.dashing_scoundrel.enabled * 5 ) + ( talent.doomblade.enabled * 5 ) + ( variable.regen_saturated * 6 ) )",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets >= 2 & effective_combo_points >= 4 & remains < 2 + 3 * ( spell_targets >= 4 )",
								["action"] = "crimson_tempest",
								["description"] = "Fallback AoE Crimson Tempest with the same logic as above, but ignoring the energy conditions if we aren't using Rupture",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets = 1 & ! talent.dashing_scoundrel.enabled & effective_combo_points >= ( cp_max_spend - 1 ) & refreshable & ! will_lose_exsanguinate & ! debuff.shiv.up & debuff.amplifying_poison.stack < 15 & ( ! talent.kingsbane.enabled || buff.envenom.up || ! cooldown.kingsbane.up ) & target.time_to_die - remains > 4",
								["action"] = "crimson_tempest",
								["description"] = "Crimson Tempest on ST if in pandemic and nearly max energy and if Envenom won't do more damage due to TB/MA",
							}, -- [13]
						},
					},
					["version"] = 20230624,
					["warnings"] = "The import for 'stealthed' required some automated changes.\nLine 2: Converted operations in 'stealthed.improved_garrote&!will_lose_exsanguinate&(remains<(12-buff.sepsis_buff.remains)%exsanguinated_rate||pmultiplier<=1)&target.time_to_die-remains>2' to 'stealthed.improved_garrote&!will_lose_exsanguinate&(remains<(12-buff.sepsis_buff.remains)/exsanguinated_rate||pmultiplier<=1)&target.time_to_die-remains>2'.\nLine 3: Converted operations in 'talent.exsanguinate.enabled&stealthed.improved_garrote&active_enemies=1&!will_lose_exsanguinate&(remains<18%exsanguinated_rate||pmultiplier<=1)&variable.exsang_sync_remains<18&improved_garrote_remains<1.3' to 'talent.exsanguinate.enabled&stealthed.improved_garrote&active_enemies=1&!will_lose_exsanguinate&(remains<18/exsanguinated_rate||pmultiplier<=1)&variable.exsang_sync_remains<18&improved_garrote_remains<1.3'.\n\nThe import for 'vanish' required some automated changes.\nLine 1: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 1: Converted 'exsanguinated.garrote' to 'debuff.garrote.exsanguinated' (1x).\nLine 2: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 2: Converted 'exsanguinated.garrote' to 'debuff.garrote.exsanguinated' (1x).\nLine 2: Converted 'talent.indiscriminate_carnage' to 'talent.indiscriminate_carnage.enabled' (1x).\nLine 2: Converted 'talent.indiscriminate_carnage' to 'talent.indiscriminate_carnage.enabled' (1x).\nLine 3: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 3: Converted 'talent.master_assassin' to 'talent.master_assassin.enabled' (1x).\nLine 4: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 4: Converted 'exsanguinated.garrote' to 'debuff.garrote.exsanguinated' (1x).\nLine 5: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 5: Converted 'exsanguinated.garrote' to 'debuff.garrote.exsanguinated' (1x).\nLine 6: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 6: Converted 'talent.master_assassin' to 'talent.master_assassin.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 9: Converted 'talent.cut_to_the_chase' to 'talent.cut_to_the_chase.enabled' (1x).\nLine 10: Converted 'talent.cut_to_the_chase' to 'talent.cut_to_the_chase.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 3: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 3: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\nLine 3: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 3: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 3: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 3: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 4: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\nLine 4: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 4: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 4: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 5: Converted 'talent.resounding_clarity' to 'talent.resounding_clarity.enabled' (1x).\n\nThe import for 'direct' required some automated changes.\nLine 1: Converted 'talent.dashing_scoundrel' to 'talent.dashing_scoundrel.enabled' (1x).\nLine 1: Converted 'talent.doomblade' to 'talent.doomblade.enabled' (1x).\nLine 1: Converted 'talent.resounding_clarity' to 'talent.resounding_clarity.enabled' (1x).\nLine 7: Converted 'talent.exsanguinate' to 'talent.exsanguinate.enabled' (1x).\nLine 7: Converted 'talent.resounding_clarity' to 'talent.resounding_clarity.enabled' (1x).\nLine 8: Converted 'talent.dragontempered_blades' to 'talent.dragontempered_blades.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 3: Converted 'talent.exsanguinate' to 'talent.exsanguinate.enabled' (1x).\nLine 3: Converted 'exsanguinated.rupture' to 'debuff.rupture.exsanguinated' (1x).\nLine 3: Converted 'exsanguinated.garrote' to 'debuff.garrote.exsanguinated' (1x).\nLine 5: Converted 'talent.exsanguinate' to 'talent.exsanguinate.enabled' (1x).\nLine 5: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 5: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 7: Converted 'talent.exsanguinate' to 'talent.exsanguinate.enabled' (1x).\nLine 7: Converted 'exsanguinated.rupture' to 'debuff.rupture.exsanguinated' (1x).\nLine 7: Converted 'exsanguinated.garrote' to 'debuff.garrote.exsanguinated' (1x).\nLine 8: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready' (1x).\nLine 8: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready'.\nLine 9: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready' (1x).\nLine 9: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready'.\nLine 12: Converted 'talent.exsanguinate' to 'talent.exsanguinate.enabled' (1x).\nLine 13: Converted 'talent.exsanguinate' to 'talent.exsanguinate.enabled' (1x).\nLine 13: Converted 'talent.resounding_clarity' to 'talent.resounding_clarity.enabled' (1x).\nLine 15: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\nLine 16: Converted 'talent.arterial_precision' to 'talent.arterial_precision.enabled' (1x).\nLine 17: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\nLine 17: Converted 'talent.arterial_precision' to 'talent.arterial_precision.enabled' (1x).\nLine 17: Converted 'talent.sepsis' to 'talent.sepsis.enabled' (1x).\nLine 17: Converted 'talent.exsanguinate' to 'talent.exsanguinate.enabled' (1x).\nLine 18: Converted 'talent.sepsis' to 'talent.sepsis.enabled' (1x).\nLine 18: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\nLine 18: Converted 'talent.arterial_precision' to 'talent.arterial_precision.enabled' (1x).\nLine 20: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\n\nThe import for 'dot' required some automated changes.\nLine 10: Converted 'talent.dashing_scoundrel' to 'talent.dashing_scoundrel.enabled' (1x).\nLine 10: Converted 'talent.doomblade' to 'talent.doomblade.enabled' (1x).\nLine 11: Converted 'talent.dashing_scoundrel' to 'talent.dashing_scoundrel.enabled' (1x).\nLine 11: Converted 'talent.doomblade' to 'talent.doomblade.enabled' (1x).\nLine 13: Converted 'talent.dashing_scoundrel' to 'talent.dashing_scoundrel.enabled' (1x).\nLine 13: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\n\nImported 7 action lists.\n",
					["profile"] = "# Executed before combat begins. Accepts non-harmful actions only.\nactions.precombat=apply_poison\nactions.precombat+=/marked_for_death,precombat_seconds=10,if=raid_event.adds.in>15\n# Determine which (if any) stat buff trinket we want to attempt to sync with Deathmark.\nactions.precombat+=/variable,name=trinket_sync_slot,value=1,if=trinket.1.has_stat.any_dps&(!trinket.2.has_stat.any_dps||trinket.1.cooldown.duration>=trinket.2.cooldown.duration)\nactions.precombat+=/variable,name=trinket_sync_slot,value=2,if=trinket.2.has_stat.any_dps&(!trinket.1.has_stat.any_dps||trinket.2.cooldown.duration>trinket.1.cooldown.duration)\n# Determine if we should be be casting our pre-Exsanguinate Rupture with Echoing Reprimand CP\nactions.precombat+=/variable,name=exsanguinate_rupture_cp,value=cp_max_spend<?(talent.resounding_clarity*7)\nactions.precombat+=/stealth\nactions.precombat+=/slice_and_dice,precombat_seconds=1,if=refreshable\n\n# Executed every time the actor is available.\n# Restealth if possible (no vulnerable enemies in combat)\nactions=stealth\n# Interrupt on cooldown to allow simming interactions with that\nactions+=/kick,if=!stealthed.all\nactions+=/variable,name=single_target,value=spell_targets.fan_of_knives<2\n# Combined Energy Regen needed to saturate\nactions+=/variable,name=regen_saturated,value=energy.regen_combined>35\n# Next Exsanguinate cooldown time based on Deathmark syncing logic and remaining fight duration\nactions+=/variable,name=exsang_sync_remains,op=setif,condition=cooldown.deathmark.remains>cooldown.exsanguinate.remains&cooldown.deathmark.remains<fight_remains,value=cooldown.deathmark.remains,value_else=cooldown.exsanguinate.remains\n# Next Sepsis cooldown time based on Deathmark syncing logic and remaining fight duration\nactions+=/variable,name=sepsis_sync_remains,op=setif,condition=cooldown.deathmark.remains>cooldown.sepsis.remains&cooldown.deathmark.remains<fight_remains,value=cooldown.deathmark.remains,value_else=cooldown.sepsis.remains\nactions+=/call_action_list,name=stealthed,if=stealthed.rogue||stealthed.improved_garrote\nactions+=/call_action_list,name=cds\n# Put SnD up initially for Cut to the Chase, refresh with Envenom if at low duration\nactions+=/slice_and_dice,if=!buff.slice_and_dice.up&combo_points>=2||!talent.cut_to_the_chase&refreshable&combo_points>=4\nactions+=/envenom,if=talent.cut_to_the_chase&buff.slice_and_dice.up&buff.slice_and_dice.remains<5&combo_points>=4\nactions+=/call_action_list,name=dot\nactions+=/call_action_list,name=direct\nactions+=/arcane_torrent,if=energy.deficit>=15+energy.regen_combined\nactions+=/arcane_pulse\nactions+=/lights_judgment\nactions+=/bag_of_tricks\n\n# Cooldowns  If adds are up, snipe the one with lowest TTD. Use when dying faster than CP deficit or without any CP.\nactions.cds=marked_for_death,line_cd=1.5,cycle_targets=1,if=raid_event.adds.up&(!variable.single_target||boss&fight_remains<30)&(target.time_to_die<combo_points.deficit*1.5||combo_points.deficit>=cp_max_spend)\n# If no adds will die within the next 30s, use MfD for max CP.\nactions.cds+=/marked_for_death,if=raid_event.adds.in>30-raid_event.adds.duration&combo_points.deficit>=cp_max_spend\n# Sync Deathmark window with Exsanguinate if applicable\nactions.cds+=/variable,name=deathmark_exsanguinate_condition,value=!talent.exsanguinate||cooldown.exsanguinate.remains>15||exsanguinated.rupture||exsanguinated.garrote\n# Wait on Deathmark for Garrote with MA\nactions.cds+=/variable,name=deathmark_ma_condition,value=!talent.master_assassin.enabled||dot.garrote.ticking\n# Sepsis unless we're preparing for exsanguinate\nactions.cds+=/sepsis,if=!stealthed.rogue&!stealthed.improved_garrote&dot.rupture.ticking&(!talent.exsanguinate||variable.exsang_sync_remains>7||dot.rupture.remains>20)&(!talent.improved_garrote&dot.garrote.ticking||talent.improved_garrote&cooldown.garrote.up)&(target.time_to_die>10||boss&fight_remains<10)\n# Deathmark to be used if not stealthed, Rupture is up, and all other talent conditions are satisfied\nactions.cds+=/variable,name=deathmark_condition,value=!stealthed.rogue&dot.rupture.ticking&!debuff.deathmark.up&variable.deathmark_exsanguinate_condition&variable.deathmark_ma_condition\nactions.cds+=/use_item,name=algethar_puzzle_box,use_off_gcd=1,if=(!talent.exsanguinate||cooldown.exsanguinate.remains>15||exsanguinated.rupture||exsanguinated.garrote)&dot.rupture.ticking&cooldown.deathmark.remains<2||boss&fight_remains<=22\n# Sync the priority stat buff trinket with Deathmark, otherwise use on cooldown\nactions.cds+=/use_items,slots=trinket1,if=(variable.trinket_sync_slot=1&(debuff.deathmark.up||boss&fight_remains<=20)||(variable.trinket_sync_slot=2&(!trinket.2.cooldown.ready||!debuff.deathmark.up&cooldown.deathmark.remains>20))||!variable.trinket_sync_slot)\nactions.cds+=/use_items,slots=trinket2,if=(variable.trinket_sync_slot=2&(debuff.deathmark.up||boss&fight_remains<=20)||(variable.trinket_sync_slot=1&(!trinket.1.cooldown.ready||!debuff.deathmark.up&cooldown.deathmark.remains>20))||!variable.trinket_sync_slot)\nactions.cds+=/deathmark,if=variable.deathmark_condition\nactions.cds+=/kingsbane,if=(debuff.shiv.up||cooldown.shiv.remains<6)&buff.envenom.up&(cooldown.deathmark.remains>=50||dot.deathmark.ticking)\n# Exsanguinate when not stealthed and both Rupture and Garrote are up for long enough. Attempt to sync with Deathmark and also Echoing Reprimand if using Resounding Clarity.\nactions.cds+=/variable,name=exsanguinate_condition,value=talent.exsanguinate&!stealthed.rogue&(!stealthed.improved_garrote||dot.garrote.pmultiplier>1)&!dot.deathmark.ticking&target.time_to_die>variable.exsang_sync_remains+4&variable.exsang_sync_remains<4\nactions.cds+=/echoing_reprimand,if=talent.exsanguinate&talent.resounding_clarity&(variable.exsanguinate_condition&combo_points<=2&variable.exsang_sync_remains<=2&!dot.garrote.refreshable&dot.rupture.remains>9.6)\nactions.cds+=/exsanguinate,if=variable.exsanguinate_condition&(!dot.garrote.refreshable&dot.rupture.remains>4+4*variable.exsanguinate_rupture_cp||dot.rupture.remains*0.5>target.time_to_die)\n# Shiv if DoTs are up; Always Shiv with Kingsbane, otherwise attempt to sync with Sepsis or Deathmark if we won't waste more than half Shiv's cooldown\nactions.cds+=/shiv,if=talent.kingsbane&!debuff.shiv.up&dot.kingsbane.ticking&dot.garrote.ticking&dot.rupture.ticking&(!talent.crimson_tempest.enabled||variable.single_target||dot.crimson_tempest.ticking)\nactions.cds+=/shiv,if=talent.arterial_precision&!debuff.shiv.up&dot.garrote.ticking&dot.rupture.ticking&(debuff.deathmark.up||cooldown.shiv.charges_fractional>max_charges-0.5&cooldown.deathmark.remains>10)\nactions.cds+=/shiv,if=!talent.kingsbane&!talent.arterial_precision&!talent.sepsis&!debuff.shiv.up&dot.garrote.ticking&dot.rupture.ticking&(!talent.crimson_tempest.enabled||variable.single_target||dot.crimson_tempest.ticking)&(!talent.exsanguinate||variable.exsang_sync_remains>2)\n# Pool Shiv charges for Sepsis/Deathmark, unless we're about to cap on charges\nactions.cds+=/shiv,if=talent.sepsis&!talent.kingsbane&!talent.arterial_precision&!debuff.shiv.up&dot.garrote.ticking&dot.rupture.ticking&((cooldown.shiv.charges_fractional>0.9+talent.lightweight_shiv.enabled&variable.sepsis_sync_remains>5)||dot.sepsis.ticking||dot.deathmark.ticking||boss&fight_remains<20)\nactions.cds+=/thistle_tea,if=!buff.thistle_tea.up&(energy.deficit>=100||charges=3&(dot.kingsbane.ticking||debuff.deathmark.up)||boss&fight_remains<charges*6)\nactions.cds+=/indiscriminate_carnage,if=(spell_targets.fan_of_knives>desired_targets||spell_targets.fan_of_knives>1&raid_event.adds.in>60)&(!talent.improved_garrote||cooldown.vanish.remains>45)\nactions.cds+=/potion,if=buff.bloodlust.react||boss&fight_remains<30||debuff.deathmark.up\nactions.cds+=/blood_fury,if=debuff.deathmark.up\nactions.cds+=/berserking,if=debuff.deathmark.up\nactions.cds+=/fireblood,if=debuff.deathmark.up\nactions.cds+=/ancestral_call,if=debuff.deathmark.up\nactions.cds+=/call_action_list,name=vanish,if=!stealthed.all&master_assassin_remains=0\nactions.cds+=/cold_blood,if=combo_points>=4\n\n# Direct damage abilities  Envenom at 4+ (5+ with DS) CP. Immediately on 2+ targets, with Deathmark, or with TB; otherwise wait for some energy. Also wait if Exsg combo is coming up. Allow as filler on a dying target if CP capped.\nactions.direct+=/envenom,if=effective_combo_points>=4+talent.deeper_stratagem.enabled&(debuff.deathmark.up||debuff.shiv.up||debuff.amplifying_poison.stack>=10||energy.deficit<=25+energy.regen_combined||!variable.single_target||effective_combo_points>cp_max_spend||combo_points.deficit<1&target.time_to_die<=4+(talent.dashing_scoundrel*5)+(talent.doomblade*5)+(variable.regen_saturated*6))&(!talent.exsanguinate.enabled||variable.exsang_sync_remains>2||talent.resounding_clarity&(cooldown.echoing_reprimand.ready&combo_points>2||effective_combo_points>5))\nactions.direct+=/variable,name=use_filler,value=combo_points.deficit>1||energy.deficit<=25+energy.regen_combined||!variable.single_target\n# Apply SBS to all targets without a debuff as priority, preferring targets dying sooner after the primary target\nactions.direct+=/serrated_bone_spike,if=variable.use_filler&!dot.serrated_bone_spike_dot.ticking\nactions.direct+=/serrated_bone_spike,cycle_targets=1,if=variable.use_filler&!dot.serrated_bone_spike_dot.ticking\n# Keep from capping charges or burn at the end of fights\nactions.direct+=/serrated_bone_spike,if=variable.use_filler&master_assassin_remains<0.8&(boss&fight_remains<=5||cooldown.serrated_bone_spike.max_charges-charges_fractional<=0.25)\n# When MA is not at high duration, sync with Shiv\nactions.direct+=/serrated_bone_spike,if=variable.use_filler&master_assassin_remains<0.8&!variable.single_target&debuff.shiv.up\nactions.direct+=/echoing_reprimand,if=(!talent.exsanguinate||!talent.resounding_clarity||variable.exsang_sync_remains>40)&variable.use_filler||boss&fight_remains<20\n# Fan of Knives at 3+ targets or 4+ with DTB\nactions.direct+=/fan_of_knives,if=variable.use_filler&(!priority_rotation&spell_targets.fan_of_knives>=3+stealthed.rogue+talent.dragontempered_blades)\n# Fan of Knives to apply poisons if inactive on any target (or any bleeding targets with priority rotation) at 3T\nactions.direct+=/fan_of_knives,cycle_targets=1,if=variable.use_filler&spell_targets.fan_of_knives>=3&!dot.deadly_poison_dot.ticking&(!priority_rotation||dot.garrote.ticking||dot.rupture.ticking)\n# Ambush on Blindside/Shadow Dance, or a last resort usage of Sepsis\nactions.direct+=/ambush,if=variable.use_filler&(buff.blindside.up||buff.sepsis_buff.remains<=1||stealthed.rogue)\n# Tab-Mutilate to apply Deadly Poison at 2 targets\nactions.direct+=/mutilate,cycle_targets=1,if=!dot.deadly_poison_dot.ticking&!debuff.amplifying_poison.up&variable.use_filler&spell_targets.fan_of_knives=2\nactions.direct+=/mutilate,if=variable.use_filler\n\n# Damage over time abilities  Limit secondary Garrotes for priority rotation if we have 35 energy regen or Garrote will expire on the primary target\nactions.dot+=/variable,name=skip_cycle_garrote,value=priority_rotation&(dot.garrote.remains<cooldown.garrote.duration||variable.regen_saturated)\n# Limit secondary Ruptures for priority rotation if we have 35 energy regen or Shiv is up on 2T+\nactions.dot+=/variable,name=skip_cycle_rupture,value=priority_rotation&(debuff.shiv.up&spell_targets.fan_of_knives>2||variable.regen_saturated)\n# Limit Ruptures when appropriate, not currently used\nactions.dot+=/variable,name=skip_rupture,value=0\n# Special Garrote and Rupture setup prior to Exsanguinate cast\nactions.dot+=/rupture,if=talent.exsanguinate.enabled&!will_lose_exsanguinate&dot.rupture.pmultiplier<=1&!dot.rupture.ticking&effective_combo_points<=3&variable.single_target\nactions.dot+=/garrote,if=talent.exsanguinate.enabled&!will_lose_exsanguinate&dot.garrote.pmultiplier<=1&variable.exsang_sync_remains<2&spell_targets.fan_of_knives=1&raid_event.adds.in>6&dot.garrote.remains*0.5<target.time_to_die\nactions.dot+=/rupture,if=talent.exsanguinate.enabled&!will_lose_exsanguinate&dot.rupture.pmultiplier<=1&variable.exsang_sync_remains<1&effective_combo_points>=variable.exsanguinate_rupture_cp&dot.rupture.remains*0.5<target.time_to_die\n## actions.dot+=/pool_resource,for_next=1\n# Garrote upkeep, also tries to use it as a special generator for the last CP before a finisher\nactions.dot+=/garrote,if=refreshable&combo_points.deficit>=1&(pmultiplier<=1||remains<=tick_time&spell_targets.fan_of_knives>=3)&(!will_lose_exsanguinate||remains<=tick_time*2&spell_targets.fan_of_knives>=3)&(target.time_to_die-remains)>4&master_assassin_remains=0\n## actions.dot+=/pool_resource,for_next=1\nactions.dot+=/garrote,cycle_targets=1,if=!variable.skip_cycle_garrote&refreshable&combo_points.deficit>=1&(pmultiplier<=1||remains<=tick_time&spell_targets.fan_of_knives>=3)&(!will_lose_exsanguinate||remains<=tick_time*2&spell_targets.fan_of_knives>=3)&(target.time_to_die-remains)>12&master_assassin_remains=0\n# Crimson Tempest on multiple targets at 4+ CP when running out in 2-5s as long as we have enough regen and aren't setting up for Deathmark\nactions.dot+=/crimson_tempest,cycle_targets=1,if=spell_targets>=2&effective_combo_points>=4&energy.regen_combined>20&(!cooldown.deathmark.ready||dot.rupture.ticking)&remains<(2+3*(spell_targets>=4))\n# Keep up Rupture at 4+ on all targets (when living long enough and not snapshot)\nactions.dot+=/rupture,if=!variable.skip_rupture&effective_combo_points>=4&refreshable&(pmultiplier<=1||remains<=tick_time&spell_targets.fan_of_knives>=3)&(!will_lose_exsanguinate||remains<=tick_time*2&spell_targets.fan_of_knives>=3)&target.time_to_die-remains>(4+(talent.dashing_scoundrel*5)+(talent.doomblade*5)+(variable.regen_saturated*6))\nactions.dot+=/rupture,cycle_targets=1,if=!variable.skip_cycle_rupture&!variable.skip_rupture&effective_combo_points>=4&refreshable&(pmultiplier<=1||remains<=tick_time&spell_targets.fan_of_knives>=3)&(!will_lose_exsanguinate||remains<=tick_time*2&spell_targets.fan_of_knives>=3)&target.time_to_die-remains>(4+(talent.dashing_scoundrel*5)+(talent.doomblade*5)+(variable.regen_saturated*6))\n# Fallback AoE Crimson Tempest with the same logic as above, but ignoring the energy conditions if we aren't using Rupture\nactions.dot+=/crimson_tempest,if=spell_targets>=2&effective_combo_points>=4&remains<2+3*(spell_targets>=4)\n# Crimson Tempest on ST if in pandemic and nearly max energy and if Envenom won't do more damage due to TB/MA\nactions.dot+=/crimson_tempest,if=spell_targets=1&!talent.dashing_scoundrel&effective_combo_points>=(cp_max_spend-1)&refreshable&!will_lose_exsanguinate&!debuff.shiv.up&debuff.amplifying_poison.stack<15&(!talent.kingsbane||buff.envenom.up||!cooldown.kingsbane.up)&target.time_to_die-remains>4\n\n# Stealthed Actions\nactions.stealthed+=/indiscriminate_carnage,if=spell_targets.fan_of_knives>desired_targets||spell_targets.fan_of_knives>1&raid_event.adds.in>60\n## Improved Garrote: Apply or Refresh with buffed Garrotes, accounting for Sepsis buff time\n## actions.stealthed+=/pool_resource,for_next=1\n# Improved Garrote: Apply or Refresh with buffed Garrotes\nactions.stealthed+=/garrote,cycle_targets=1,if=stealthed.improved_garrote&!will_lose_exsanguinate&(remains<(12-buff.sepsis_buff.remains)%exsanguinated_rate||pmultiplier<=1)&target.time_to_die-remains>2\n## actions.stealthed+=/pool_resource,for_next=1\n# Improved Garrote + Exsg on 1T: Refresh Garrote at the end of stealth to get max duration before Exsanguinate\nactions.stealthed+=/garrote,if=talent.exsanguinate.enabled&stealthed.improved_garrote&active_enemies=1&!will_lose_exsanguinate&(remains<18%exsanguinated_rate||pmultiplier<=1)&variable.exsang_sync_remains<18&improved_garrote_remains<1.3\n\n# Stealth Cooldowns  Vanish Sync for Improved Garrote with Deathmark\nactions.vanish+=/vanish,if=talent.improved_garrote&cooldown.garrote.up&!exsanguinated.garrote&(dot.garrote.pmultiplier<=1||dot.garrote.refreshable)&(debuff.deathmark.up||cooldown.deathmark.remains<4)&combo_points.deficit>=(spell_targets.fan_of_knives>?4)\n# Vanish for Indiscriminate Carnage or Improved Garrote at 2-3+ targets\nactions.vanish+=/vanish,if=talent.improved_garrote&cooldown.garrote.up&!exsanguinated.garrote&(dot.garrote.pmultiplier<=1||dot.garrote.refreshable)&spell_targets.fan_of_knives>(3-talent.indiscriminate_carnage)&(!talent.indiscriminate_carnage||cooldown.indiscriminate_carnage.ready)\n# Vanish with Master Assassin: Rupture+Garrote not in refresh range, during Deathmark+Shiv. Sync with Sepsis final hit if possible.\nactions.vanish+=/vanish,if=!talent.improved_garrote&talent.master_assassin&!dot.rupture.refreshable&dot.garrote.remains>3&debuff.deathmark.up&(debuff.shiv.up||debuff.deathmark.remains<4||dot.sepsis.ticking)&dot.sepsis.remains<3\n## actions.vanish+=/pool_resource,for_next=1,extra_amount=45\nactions.vanish+=/shadow_dance,if=talent.improved_garrote&cooldown.garrote.up&!exsanguinated.garrote&dot.garrote.pmultiplier<=1&(debuff.deathmark.up||cooldown.deathmark.remains<4||cooldown.deathmark.remains>60)&combo_points.deficit>=(spell_targets.fan_of_knives>?4)\n# Shadow Dance for Improved Garrote with Deathmark\nactions.vanish+=/shadow_dance,if=talent.improved_garrote&cooldown.garrote.up&!exsanguinated.garrote&(dot.garrote.pmultiplier<=1||dot.garrote.refreshable)&(debuff.deathmark.up||cooldown.deathmark.remains<12||cooldown.deathmark.remains>60)&combo_points.deficit>=(spell_targets.fan_of_knives>?4)\n# Shadow Dance with Master Assassin: Rupture+Garrote not in refresh range, during Deathmark+Shiv. Sync with Sepsis final hit if possible.\nactions.vanish+=/shadow_dance,if=!talent.improved_garrote&talent.master_assassin&!dot.rupture.refreshable&dot.garrote.remains>3&(debuff.deathmark.up||cooldown.deathmark.remains>60)&(debuff.shiv.up||debuff.deathmark.remains<4||dot.sepsis.ticking)&dot.sepsis.remains<3",
					["spec"] = 259,
				},
			},
		},
		["Astigmatism - Dragonflight - Open Beta"] = {
			["runOnce"] = {
				["forceReloadClassDefaultOptions_20220306_103"] = true,
				["forceReloadClassDefaultOptions_20220306_105"] = true,
				["forceReloadClassDefaultOptions_20220306_262"] = true,
				["forceReloadClassDefaultOptions_20220306_71"] = true,
				["forceReloadClassDefaultOptions_20220306_264"] = true,
				["forceReloadClassDefaultOptions_20220306_577"] = true,
				["forceEnableEnhancedRecheckBoomkin_20210712"] = true,
				["forceReloadClassDefaultOptions_20220306_102"] = true,
				["forceReloadAllDefaultPriorities_20220228"] = true,
				["forceReloadClassDefaultOptions_20220306_63"] = true,
				["updateMaxRefreshToNewSpecOptions_20220222"] = true,
				["forceSpellFlashBrightness_20221030"] = true,
				["forceEnableAllClassesOnceDueToBug_20220225"] = true,
				["forceReloadClassDefaultOptions_20220306_263"] = true,
				["forceReloadClassDefaultOptions_20220306_73"] = true,
				["forceReloadClassDefaultOptions_20220306_64"] = true,
				["forceReloadClassDefaultOptions_20220306_72"] = true,
				["forceReloadClassDefaultOptions_20220306_62"] = true,
				["forceReloadClassDefaultOptions_20220306_104"] = true,
				["forceReloadClassDefaultOptions_20220306_581"] = true,
				["resetAberrantPackageDates_20190728_1"] = true,
			},
			["specs"] = {
				[103] = {
					["settings"] = {
						["rip_duration"] = 9,
						["solo_prowl"] = false,
						["use_funnel"] = false,
						["regrowth"] = true,
						["lazy_swipe"] = false,
						["zerk_biteweave"] = false,
						["vigil_damage"] = 50,
					},
				},
				[63] = {
					["settings"] = {
						["prevent_hardcasts"] = false,
						["check_explosion_range"] = true,
						["pyroblast_pull"] = false,
					},
				},
				[262] = {
					["settings"] = {
						["purge_icd"] = 12,
						["hostile_dispel"] = false,
						["stack_buffer"] = 1.1,
					},
				},
				[263] = {
					["settings"] = {
						["filler_shock"] = true,
						["purge_icd"] = 12,
						["hostile_dispel"] = false,
						["pad_lava_lash"] = true,
						["pad_windstrike"] = true,
						["funnel_priority"] = false,
						["pwave_targets"] = 0,
						["check_sundering_range"] = true,
						["project_windfury"] = 0,
						["check_crash_lightning_range"] = true,
					},
				},
				[104] = {
					["settings"] = {
						["vigil_damage"] = 50,
						["catweave_bear"] = false,
						["maul_anyway"] = true,
						["ironfur_damage_threshold"] = 5,
						["maul_rage"] = 20,
					},
				},
				[577] = {
					["settings"] = {
						["retreat_and_return"] = "off",
						["retreat_filler"] = false,
						["demon_blades_acknowledged"] = false,
						["throw_glaive_charges"] = 0,
						["fel_rush_charges"] = 0,
						["fel_rush_filler"] = true,
					},
				},
				[62] = {
					["settings"] = {
						["check_explosion_range"] = true,
					},
				},
				[64] = {
					["settings"] = {
						["check_explosion_range"] = true,
					},
				},
				[102] = {
					["settings"] = {
						["vigil_damage"] = 50,
						["starlord_cancel"] = false,
					},
				},
				[581] = {
					["settings"] = {
						["infernal_charges"] = 1,
						["frailty_stacks"] = 2,
					},
				},
				[71] = {
					["settings"] = {
						["shockwave_interrupt"] = true,
						["heroic_charge"] = false,
					},
				},
				[72] = {
					["settings"] = {
						["check_ww_range"] = false,
						["shockwave_interrupt"] = true,
						["t30_bloodthirst_crit"] = 95,
						["heroic_charge"] = false,
					},
					["package"] = "Fury",
				},
				[73] = {
					["settings"] = {
						["shield_wall_amount"] = 50,
						["last_stand_condition"] = false,
						["overlap_ignore_pain"] = false,
						["rallying_cry_amount"] = 50,
						["shockwave_interrupt"] = true,
						["shield_wall_health"] = 50,
						["rallying_cry_condition"] = false,
						["last_stand_offensively"] = false,
						["stack_shield_block"] = false,
						["stance_weaving"] = false,
						["shield_wall_condition"] = false,
						["last_stand_amount"] = 50,
						["last_stand_health"] = 50,
						["rallying_cry_health"] = 50,
						["reserve_rage"] = 35,
					},
				},
			},
			["displays"] = {
				["Interrupts"] = {
					["rel"] = "CENTER",
					["x"] = -55.00000762939453,
				},
				["Cooldowns"] = {
					["rel"] = "CENTER",
					["y"] = -280.0000305175781,
				},
				["Primary"] = {
					["rel"] = "CENTER",
					["y"] = -124.9999008178711,
					["queue"] = {
						["height"] = 32,
						["width"] = 32,
					},
				},
				["AOE"] = {
					["rel"] = "CENTER",
					["y"] = -126.9999542236328,
					["queue"] = {
						["height"] = 32,
						["width"] = 10,
					},
				},
				["Defensives"] = {
					["rel"] = "CENTER",
					["x"] = -110.0000152587891,
				},
			},
			["packs"] = {
				["Havoc"] = {
					["source"] = "SimulationCraft",
					["builtIn"] = true,
					["date"] = 20230718,
					["spec"] = 577,
					["desc"] = "2023-07-18:  Removed redundant trinket entries.\n\n2023-07-15:  Revamp from SimulationCraft.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-07-04:  Add option to Throw Glaive without Blade Dance on CD.\n\n2023-06-25:  Allow generic trinkets to get recommended off-GCD.\n\n2023-06-03:  Move trinkets in default priority.\n\n2023-05-12:  Trinket updates from SimC.\n\n2023-04-30:  Updated from SimC for 10.1.\n\n2023-02-27:  If Fel Rush and Vengeful Retreat are disabled (despite Momentum and Tactical Retreat being talented), the priority will allow Essence Break to be recommended.\n\n2023-02-18:  Options regarding Fel Rush and Vengeful Retreat were revised. Only the filler/movement recommendations can be turned off using Havoc's specialization settings.  The entries associated with Isolated Prey, Momentum, Unbound Chaos, Initiative, and Vengeful Retreat may always be recommended if those talents are selected.",
					["lists"] = {
						["meta_end"] = {
							{
								["action"] = "death_sweep",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "annihilation",
								["enabled"] = true,
							}, -- [2]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "disrupt",
							}, -- [1]
							{
								["action"] = "consume_magic",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.first_blood.enabled || talent.trail_of_ruin.enabled || talent.chaos_theory.enabled & buff.chaos_theory.down || spell_targets.blade_dance1 > 1",
								["var_name"] = "blade_dance",
								["description"] = "Blade Dance with First Blood, Trail of Ruin, or at 2+ targets",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "variable.blade_dance & fury < ( 75 - talent.demon_blades.enabled * 20 ) & cooldown.blade_dance.remains < gcd.max",
								["var_name"] = "pooling_for_blade_dance",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.demonic.enabled & ! talent.blind_fury.enabled & cooldown.eye_beam.remains < ( gcd.max * 2 ) & fury < 60",
								["var_name"] = "pooling_for_eye_beam",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.momentum.enabled & ! buff.momentum.up & ! ( action.fel_rush.disabled & action.vengeful_retreat.disabled )",
								["var_name"] = "waiting_for_momentum",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "( talent.demonic.enabled & talent.essence_break.enabled ) & variable.three_min_trinket & fight_remains > cooldown.metamorphosis.remains + 30 + talent.shattered_destiny.enabled * 60 & cooldown.metamorphosis.remains < 20 & cooldown.metamorphosis.remains > action.eye_beam.execute_time + gcd.max * ( talent.inner_demon.enabled + 2 )",
								["var_name"] = "holding_meta",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.ragefire.enabled & active_enemies >= 3 & ( cooldown.blade_dance.remains || debuff.essence_break.down )",
								["action"] = "immolation_aura",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.serrated_glaive.enabled & ( buff.metamorphosis.remains > gcd.max * 6 & ( debuff.serrated_glaive.down || debuff.serrated_glaive.remains < cooldown.essence_break.remains + 5 & cooldown.essence_break.remains < gcd.max * 2 ) & ( cooldown.blade_dance.remains || cooldown.essence_break.remains < gcd.max * 2 ) || time < 0.5 ) & debuff.essence_break.down & target.time_to_die > gcd.max * 8",
								["action"] = "throw_glaive",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.serrated_glaive.enabled & cooldown.eye_beam.remains < gcd.max * 2 & debuff.serrated_glaive.remains < ( 2 + buff.metamorphosis.down * 6 ) & ( cooldown.blade_dance.remains || buff.metamorphosis.down ) & debuff.essence_break.down & target.time_to_die > gcd.max * 8",
								["action"] = "throw_glaive",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.unbound_chaos.up & ( buff.unbound_chaos.remains < gcd.max * 2 || target.time_to_die < gcd.max * 2 )",
								["action"] = "fel_rush",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cooldown",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["criteria"] = "buff.metamorphosis.up & buff.metamorphosis.remains < gcd.max & active_enemies < 3",
								["list_name"] = "meta_end",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.inner_demon.up & cooldown.metamorphosis.remains <= gcd.max * 3",
								["action"] = "annihilation",
							}, -- [14]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["action"] = "vengeful_retreat",
								["criteria"] = "talent.initiative.enabled & talent.essence_break.enabled & time > 1 & ( cooldown.essence_break.remains > 15 || cooldown.essence_break.remains < gcd.max & ( ! talent.demonic.enabled || buff.metamorphosis.up || cooldown.eye_beam.remains > 15 + ( 10 * talent.cycle_of_hatred.enabled ) ) ) & ( time < 30 || gcd.remains < 1 ) & ! talent.any_means_necessary.enabled & ( ! talent.initiative.enabled || buff.initiative.remains < gcd.max || time > 4 )",
							}, -- [15]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["action"] = "vengeful_retreat",
								["criteria"] = "talent.initiative.enabled & talent.essence_break.enabled & time > 1 & ( cooldown.essence_break.remains > 15 || cooldown.essence_break.remains < gcd.max * 2 & ( buff.initiative.remains < gcd.max & ! variable.holding_meta & cooldown.eye_beam.remains <= gcd.remains & ( raid_event.adds.in > ( 40 - talent.cycle_of_hatred.enabled * 15 ) ) & fury > 30 || ! talent.demonic.enabled || buff.metamorphosis.up || cooldown.eye_beam.remains > 15 + ( 10 * talent.cycle_of_hatred.enabled ) ) ) & talent.any_means_necessary.enabled",
							}, -- [16]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["action"] = "vengeful_retreat",
								["criteria"] = "talent.initiative.enabled & ! talent.essence_break.enabled & time > 1 & ! buff.momentum.up",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "talent.momentum.enabled & buff.momentum.remains < gcd.max * 2 & ( charges_fractional > 1.8 || cooldown.eye_beam.remains < 3 ) & debuff.essence_break.down & cooldown.blade_dance.remains",
								["action"] = "fel_rush",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies > desired_targets || raid_event.adds.in > 40 ) & ! variable.waiting_for_momentum & ( buff.metamorphosis.remains > gcd.max * 3 || cooldown.eye_beam.remains > 10 ) & ( ! talent.tactical_retreat.enabled || buff.tactical_retreat.up || time < 10 ) & cooldown.blade_dance.remains <= 3.1 * gcd.max || fight_remains < 6",
								["action"] = "essence_break",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "variable.blade_dance & ( ! talent.essence_break.enabled || cooldown.essence_break.remains > gcd.max * 2 )",
								["action"] = "death_sweep",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > desired_targets || raid_event.adds.in > 30",
								["action"] = "fel_barrage",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > desired_targets || raid_event.adds.in > 10 & ( debuff.essence_break.down || active_enemies > 1 )",
								["action"] = "glaive_tempest",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "buff.inner_demon.up & cooldown.eye_beam.remains <= gcd.max",
								["action"] = "annihilation",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "talent.momentum.enabled & cooldown.eye_beam.remains < gcd.max * 3 & buff.momentum.remains < 5 & buff.metamorphosis.down",
								["action"] = "fel_rush",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "debuff.essence_break.down & ( time < 10 || cooldown.metamorphosis.remains > 10 || ! equipped.algethar_puzzle_box ) & ( raid_event.adds.in > 90 || active_enemies > 3 || time_to_die < 10 ) & ( time > 6 & debuff.essence_break.down & ( ! talent.furious_gaze.enabled || buff.furious_gaze.up ) || ! set_bonus.tier30_2pc )",
								["action"] = "the_hunt",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > desired_targets || raid_event.adds.in > ( 40 - talent.cycle_of_hatred.enabled * 15 ) & ! debuff.essence_break.up & ( cooldown.metamorphosis.remains > 40 - talent.cycle_of_hatred.enabled * 15 || ! variable.holding_meta ) & ( buff.metamorphosis.down || buff.metamorphosis.remains > gcd.max || ! talent.restless_hunter.enabled ) || fight_remains < 15",
								["action"] = "eye_beam",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "variable.blade_dance & ( cooldown.eye_beam.remains > 5 || equipped.algethar_puzzle_box & cooldown.metamorphosis.remains > ( cooldown.blade_dance.duration ) || ! talent.demonic.enabled || ( raid_event.adds.in > action_cooldown & raid_event.adds.in < 25 ) )",
								["action"] = "blade_dance",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "talent.any_means_necessary.enabled & debuff.essence_break.down & active_enemies >= 4",
								["action"] = "sigil_of_flame",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "talent.soulrend.enabled & ( active_enemies > desired_targets || raid_event.adds.in > full_recharge_time + 9 ) & spell_targets >= ( 2 - talent.furious_throws.enabled ) & ! debuff.essence_break.up & ( full_recharge_time < gcd.max * 3 || active_enemies > 1 )",
								["action"] = "throw_glaive",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "talent.any_means_necessary.enabled & debuff.essence_break.down",
								["action"] = "sigil_of_flame",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 2 & fury < 70 & debuff.essence_break.down",
								["action"] = "immolation_aura",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "! variable.pooling_for_blade_dance || set_bonus.tier30_2pc",
								["action"] = "annihilation",
							}, -- [32]
							{
								["enabled"] = true,
								["criteria"] = "talent.soulrend.enabled & ( active_enemies > desired_targets || raid_event.adds.in > full_recharge_time + 9 ) & spell_targets >= ( 2 - talent.furious_throws.enabled ) & ! debuff.essence_break.up",
								["action"] = "throw_glaive",
							}, -- [33]
							{
								["enabled"] = true,
								["criteria"] = "! buff.immolation_aura.up & ( ! talent.ragefire.enabled || active_enemies > desired_targets || raid_event.adds.in > 15 )",
								["action"] = "immolation_aura",
							}, -- [34]
							{
								["enabled"] = true,
								["criteria"] = "talent.isolated_prey.enabled & active_enemies = 1 & fury.deficit >= 35",
								["action"] = "fel_rush",
							}, -- [35]
							{
								["enabled"] = true,
								["criteria"] = "! variable.pooling_for_blade_dance & ! variable.pooling_for_eye_beam",
								["action"] = "chaos_strike",
							}, -- [36]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15 & fury.deficit >= 30",
								["action"] = "sigil_of_flame",
							}, -- [37]
							{
								["enabled"] = true,
								["criteria"] = "fury.deficit >= 40",
								["action"] = "felblade",
							}, -- [38]
							{
								["enabled"] = true,
								["criteria"] = "settings.fel_rush_filler & ! talent.momentum.enabled & talent.demon_blades.enabled & ! cooldown.eye_beam.ready & ( charges = 2 || ( raid_event.movement.in > 10 & raid_event.adds.in > 10 ) )",
								["action"] = "fel_rush",
							}, -- [39]
							{
								["enabled"] = true,
								["criteria"] = "talent.burning_wound.enabled & debuff.burning_wound.remains < 4 & active_dot.burning_wound < ( spell_targets >? 3 )",
								["action"] = "demons_bite",
								["cycle_targets"] = 1,
							}, -- [40]
							{
								["enabled"] = true,
								["criteria"] = "settings.fel_rush_filler & ! talent.momentum.enabled & ! talent.demon_blades.enabled & spell_targets > 1 & ( charges = 2 || ( raid_event.movement.in > 10 & raid_event.adds.in > 10 ) )",
								["action"] = "fel_rush",
							}, -- [41]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15 & fury.deficit >= 30",
								["action"] = "sigil_of_flame",
							}, -- [42]
							{
								["action"] = "demons_bite",
								["enabled"] = true,
							}, -- [43]
							{
								["enabled"] = true,
								["criteria"] = "settings.fel_rush_filler & ( movement.distance > 15 || ( buff.out_of_range.up & ! talent.momentum.enabled ) )",
								["action"] = "fel_rush",
							}, -- [44]
							{
								["enabled"] = true,
								["criteria"] = "settings.retreat_filler & ! talent.initiative.enabled & movement.distance > 15",
								["action"] = "vengeful_retreat",
							}, -- [45]
							{
								["enabled"] = true,
								["criteria"] = "( talent.demon_blades.enabled || buff.out_of_range.up ) & ! debuff.essence_break.up",
								["action"] = "throw_glaive",
							}, -- [46]
							{
								["enabled"] = true,
								["action"] = "dragonfire_bomb_dispenser",
								["use_off_gcd"] = 1,
								["criteria"] = "fight_remains < 20 || charges = 3 || cooldown.vengeful_retreat.remains < 5",
								["name"] = "dragonfire_bomb_dispenser",
							}, -- [47]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["name"] = "elementium_pocket_anvil",
								["action"] = "elementium_pocket_anvil",
							}, -- [48]
						},
						["cooldown"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.misery_in_defeat.enabled & ! target.is_boss & target.time_to_die > 10 & ( cooldown.metamorphosis.remains < 6 || talent.demonic.enabled & cooldown.eye_beam.remains < 6 || buff.metamorphosis.remains > 10 )",
								["action"] = "sigil_of_misery",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Cast Metamorphosis if we will get a full Eye Beam refresh or if the encounter is almost over",
								["criteria"] = "! talent.demonic.enabled & ( ( ! talent.chaotic_transformation.enabled || cooldown.eye_beam.remains > 20 ) & active_enemies > desired_targets || raid_event.adds.in > 60 || boss & fight_remains < 25 )",
								["action"] = "metamorphosis",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.demonic.enabled & ( ! talent.chaotic_transformation.enabled || cooldown.eye_beam.remains > 20 & ( ! variable.blade_dance || cooldown.blade_dance.remains > gcd.max ) || boss & fight_remains < 25 + talent.shattered_destiny.enabled * 70 & cooldown.eye_beam.remains & cooldown.blade_dance.remains )",
								["action"] = "metamorphosis",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.metamorphosis.remains > 25 || buff.metamorphosis.up & cooldown.metamorphosis.ready || boss & fight_remains < 60 || time > 0.1 & time < 10",
								["action"] = "potion",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies > desired_targets || raid_event.adds.in > 30 )",
								["action"] = "elysian_decree",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "manic_grieftorch",
								["use_off_gcd"] = 1,
								["criteria"] = "( ( buff.initiative.remains > 2 & debuff.essence_break.down & cooldown.essence_break.remains > gcd.max & time > 14 || time_to_die < 10 || time < 1 & ! equipped.algethar_puzzle_box || boss & ( fight_remains % 120 < 5 ) ) & ! prev_gcd.1.essence_break )",
								["name"] = "manic_grieftorch",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "algethar_puzzle_box",
								["use_off_gcd"] = 1,
								["criteria"] = "cooldown.metamorphosis.remains <= gcd.max * 5 || boss & ( ( fight_remains % 180 > 10 ) & ( fight_remains % 180 < 22 ) || fight_remains < 25 )",
								["name"] = "algethar_puzzle_box",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "irideus_fragment",
								["use_off_gcd"] = 1,
								["criteria"] = "cooldown.metamorphosis.remains <= gcd.max & time > 2 || fight_remains % 180 > 10 & fight_remains % 180 < 22 || fight_remains < 22",
								["name"] = "irideus_fragment",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "stormeaters_boon",
								["use_off_gcd"] = 1,
								["criteria"] = "cooldown.metamorphosis.remains & ( ! talent.momentum.enabled || buff.momentum.remains > 5 ) & ( active_enemies > 1 || raid_event.adds.in > 140 )",
								["name"] = "stormeaters_boon",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["criteria"] = "debuff.essence_break.down & ! prev_gcd.1.essence_break & ( ! equipped.irideus_fragment || trinket.t1.cooldown.remains > 20 || trinket.t2.cooldown.remains > 20 )",
								["name"] = "beacon_to_the_beyond",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "dragonfire_bomb_dispenser",
								["use_off_gcd"] = 1,
								["criteria"] = "( time_to_die < 30 || cooldown.vengeful_retreat.remains < 5 || equipped.beacon_to_the_beyond || equipped.irideus_fragment ) & ( trinket.t1.cooldown.remains > 10 || trinket.t2.cooldown.remains > 10 || trinket.t1.cooldown.duration = 0 || trinket.t2.cooldown.duration = 0 || equipped.elementium_pocket_anvil || equipped.screaming_black_dragonscale || equipped.mark_of_dargrul ) || ( trinket.t1.cooldown.duration > 0 || trinket.t2.cooldown.duration > 0 ) & ( trinket.t1.cooldown.remains || trinket.t2.cooldown.remains ) & ! equipped.elementium_pocket_anvil & time < 25",
								["name"] = "dragonfire_bomb_dispenser",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "elementium_pocket_anvil",
								["use_off_gcd"] = 1,
								["criteria"] = "! prev_gcd.1.fel_rush & gcd.remains",
								["name"] = "elementium_pocket_anvil",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["criteria"] = "( variable.trinket_sync_slot = 1 & ( buff.metamorphosis.up || ( ! talent.demonic.enabled & cooldown.metamorphosis.remains > ( fight_remains >? trinket.t1.cooldown.duration / 2 ) ) || fight_remains <= 20 ) || ( variable.trinket_sync_slot = 2 & ! trinket.t2.cooldown.ready ) || ! variable.trinket_sync_slot ) & ( ! talent.initiative.enabled || buff.initiative.up )",
								["slots"] = "trinket1",
								["description"] = "Default use item logic",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( variable.trinket_sync_slot = 2 & ( buff.metamorphosis.up || ( ! talent.demonic.enabled & cooldown.metamorphosis.remains > ( fight_remains >? trinket.t2.cooldown.duration / 2 ) ) || fight_remains <= 20 ) || ( variable.trinket_sync_slot = 1 & ! trinket.t1.cooldown.ready ) || ! variable.trinket_sync_slot ) & ( ! talent.initiative.enabled || buff.initiative.up )",
								["slots"] = "trinket2",
								["action"] = "trinket2",
							}, -- [14]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t1.cooldown.duration = 180 || trinket.t2.cooldown.duration = 180",
								["var_name"] = "three_min_trinket",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "fury.deficit > 15",
								["action"] = "arcane_torrent",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.metamorphosis.remains < 5",
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! equipped.algethar_puzzle_box",
								["action"] = "sigil_of_flame",
							}, -- [4]
							{
								["action"] = "immolation_aura",
								["enabled"] = true,
							}, -- [5]
						},
					},
					["version"] = 20230718,
					["warnings"] = "The import for 'cooldown' required some automated changes.\nLine 1: Converted 'talent.misery_in_defeat' to 'talent.misery_in_defeat.enabled' (1x).\nLine 1: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 2: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 2: Converted 'talent.chaotic_transformation' to 'talent.chaotic_transformation.enabled' (1x).\nLine 3: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 3: Converted 'talent.chaotic_transformation' to 'talent.chaotic_transformation.enabled' (1x).\nLine 3: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 6: Converted operations in '((buff.initiative.remains>2&debuff.essence_break.down&cooldown.essence_break.remains>gcd.max&time>14||time_to_die<10||time<1&!equipped.algethar_puzzle_box||boss&(fight_remains%%120<5))&!prev_gcd.1.essence_break)' to '((buff.initiative.remains>2&debuff.essence_break.down&cooldown.essence_break.remains>gcd.max&time>14||time_to_die<10||time<1&!equipped.algethar_puzzle_box||boss&(fight_remains%120<5))&!prev_gcd.1.essence_break)'.\nLine 7: Converted operations in 'cooldown.metamorphosis.remains<=gcd.max*5||boss&((fight_remains%%180>10)&(fight_remains%%180<22)||fight_remains<25)' to 'cooldown.metamorphosis.remains<=gcd.max*5||boss&((fight_remains%180>10)&(fight_remains%180<22)||fight_remains<25)'.\nLine 8: Converted operations in 'cooldown.metamorphosis.remains<=gcd.max&time>2||fight_remains%%180>10&fight_remains%%180<22||fight_remains<22' to 'cooldown.metamorphosis.remains<=gcd.max&time>2||fight_remains%180>10&fight_remains%180<22||fight_remains<22'.\nLine 9: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 10: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 10: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 11: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 11: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 11: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 11: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 11: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 11: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 11: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 13: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 13: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 13: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready' (1x).\nLine 13: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready'.\nLine 13: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 13: Converted operations in '(variable.trinket_sync_slot=1&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.t1.cooldown.duration%2))||fight_remains<=20)||(variable.trinket_sync_slot=2&!trinket.t2.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative.enabled||buff.initiative.up)' to '(variable.trinket_sync_slot=1&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.t1.cooldown.duration/2))||fight_remains<=20)||(variable.trinket_sync_slot=2&!trinket.t2.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative.enabled||buff.initiative.up)'.\nLine 14: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 14: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 14: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready' (1x).\nLine 14: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready'.\nLine 14: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 14: Converted operations in '(variable.trinket_sync_slot=2&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.t2.cooldown.duration%2))||fight_remains<=20)||(variable.trinket_sync_slot=1&!trinket.t1.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative.enabled||buff.initiative.up)' to '(variable.trinket_sync_slot=2&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.t2.cooldown.duration/2))||fight_remains<=20)||(variable.trinket_sync_slot=1&!trinket.t1.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative.enabled||buff.initiative.up)'.\n\nThe import for 'default' required some automated changes.\nLine 3: Converted 'talent.first_blood' to 'talent.first_blood.enabled' (1x).\nLine 3: Converted 'talent.trail_of_ruin' to 'talent.trail_of_ruin.enabled' (1x).\nLine 3: Converted 'talent.chaos_theory' to 'talent.chaos_theory.enabled' (1x).\nLine 4: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\nLine 5: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 5: Converted 'talent.blind_fury' to 'talent.blind_fury.enabled' (1x).\nLine 6: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 7: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 7: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 7: Converted 'talent.shattered_destiny' to 'talent.shattered_destiny.enabled' (1x).\nLine 7: Converted 'talent.inner_demon' to 'talent.inner_demon.enabled' (1x).\nLine 8: Converted 'talent.ragefire' to 'talent.ragefire.enabled' (1x).\nLine 9: Converted 'talent.serrated_glaive' to 'talent.serrated_glaive.enabled' (1x).\nLine 10: Converted 'talent.serrated_glaive' to 'talent.serrated_glaive.enabled' (1x).\nLine 15: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 15: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 15: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 15: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 15: Converted 'talent.any_means_necessary' to 'talent.any_means_necessary.enabled' (1x).\nLine 15: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 16: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 16: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 16: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 16: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 16: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 16: Converted 'talent.any_means_necessary' to 'talent.any_means_necessary.enabled' (1x).\nLine 17: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 17: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 19: Converted 'talent.tactical_retreat' to 'talent.tactical_retreat.enabled' (1x).\nLine 20: Converted 'talent.essence_break' to 'talent.essence_break.enabled' (1x).\nLine 25: Converted 'talent.furious_gaze' to 'talent.furious_gaze.enabled' (1x).\nLine 26: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 26: Converted 'talent.cycle_of_hatred' to 'talent.cycle_of_hatred.enabled' (1x).\nLine 26: Converted 'talent.restless_hunter' to 'talent.restless_hunter.enabled' (1x).\nLine 27: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 28: Converted 'talent.any_means_necessary' to 'talent.any_means_necessary.enabled' (1x).\nLine 29: Converted 'talent.soulrend' to 'talent.soulrend.enabled' (1x).\nLine 29: Converted 'talent.furious_throws' to 'talent.furious_throws.enabled' (1x).\nLine 30: Converted 'talent.any_means_necessary' to 'talent.any_means_necessary.enabled' (1x).\nLine 33: Converted 'talent.soulrend' to 'talent.soulrend.enabled' (1x).\nLine 33: Converted 'talent.furious_throws' to 'talent.furious_throws.enabled' (1x).\nLine 34: Converted 'talent.ragefire' to 'talent.ragefire.enabled' (1x).\nLine 35: Converted 'talent.isolated_prey' to 'talent.isolated_prey.enabled' (1x).\nLine 39: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 39: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\nLine 40: Converted 'talent.burning_wound' to 'talent.burning_wound.enabled' (1x).\nLine 41: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 41: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\nLine 44: Converted 'talent.momentum' to 'talent.momentum.enabled' (1x).\nLine 45: Converted 'talent.initiative' to 'talent.initiative.enabled' (1x).\nLine 46: Converted 'talent.demon_blades' to 'talent.demon_blades.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 1: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 1: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 1: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\n\nImported 4 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/variable,name=three_min_trinket,value=trinket.1.cooldown.duration=180||trinket.2.cooldown.duration=180\nactions.precombat+=/arcane_torrent,if=fury.deficit>15\nactions.precombat+=/use_item,name=algethar_puzzle_box,if=cooldown.metamorphosis.remains<5\nactions.precombat+=/sigil_of_flame,if=!equipped.algethar_puzzle_box\nactions.precombat+=/immolation_aura\n\nactions=disrupt\nactions+=/consume_magic\n# Blade Dance with First Blood, Trail of Ruin, or at 2+ targets\nactions+=/variable,name=blade_dance,value=talent.first_blood||talent.trail_of_ruin||talent.chaos_theory&buff.chaos_theory.down||spell_targets.blade_dance1>1\nactions+=/variable,name=pooling_for_blade_dance,value=variable.blade_dance&fury<(75-talent.demon_blades*20)&cooldown.blade_dance.remains<gcd.max\nactions+=/variable,name=pooling_for_eye_beam,value=talent.demonic&!talent.blind_fury&cooldown.eye_beam.remains<(gcd.max*2)&fury<60\nactions+=/variable,name=waiting_for_momentum,value=talent.momentum&!buff.momentum.up&!(action.fel_rush.disabled&action.vengeful_retreat.disabled)\nactions+=/variable,name=holding_meta,value=(talent.demonic&talent.essence_break)&variable.three_min_trinket&fight_remains>cooldown.metamorphosis.remains+30+talent.shattered_destiny*60&cooldown.metamorphosis.remains<20&cooldown.metamorphosis.remains>action.eye_beam.execute_time+gcd.max*(talent.inner_demon+2)\n## actions+=/invoke_external_buff,name=power_infusion\nactions+=/immolation_aura,if=talent.ragefire&active_enemies>=3&(cooldown.blade_dance.remains||debuff.essence_break.down)\nactions+=/throw_glaive,if=talent.serrated_glaive&(buff.metamorphosis.remains>gcd.max*6&(debuff.serrated_glaive.down||debuff.serrated_glaive.remains<cooldown.essence_break.remains+5&cooldown.essence_break.remains<gcd.max*2)&(cooldown.blade_dance.remains||cooldown.essence_break.remains<gcd.max*2)||time<0.5)&debuff.essence_break.down&target.time_to_die>gcd.max*8\nactions+=/throw_glaive,if=talent.serrated_glaive&cooldown.eye_beam.remains<gcd.max*2&debuff.serrated_glaive.remains<(2+buff.metamorphosis.down*6)&(cooldown.blade_dance.remains||buff.metamorphosis.down)&debuff.essence_break.down&target.time_to_die>gcd.max*8\nactions+=/fel_rush,if=buff.unbound_chaos.up&(buff.unbound_chaos.remains<gcd.max*2||target.time_to_die<gcd.max*2)\nactions+=/call_action_list,name=cooldown\nactions+=/call_action_list,name=meta_end,if=buff.metamorphosis.up&buff.metamorphosis.remains<gcd.max&active_enemies<3\n## actions+=/pick_up_fragment,type=demon,if=demon_soul_fragments>0&(cooldown.eye_beam.remains<6||buff.metamorphosis.remains>5)&buff.empowered_demon_soul.remains<3||fight_remains<17\n## actions+=/pick_up_fragment,mode=nearest,type=lesser,if=talent.demonic_appetite&fury.deficit>=45&(!cooldown.eye_beam.ready||fury<30)\nactions+=/annihilation,if=buff.inner_demon.up&cooldown.metamorphosis.remains<=gcd*3\nactions+=/vengeful_retreat,use_off_gcd=1,if=talent.initiative&talent.essence_break&time>1&(cooldown.essence_break.remains>15||cooldown.essence_break.remains<gcd.max&(!talent.demonic||buff.metamorphosis.up||cooldown.eye_beam.remains>15+(10*talent.cycle_of_hatred)))&(time<30||gcd.remains<1)&!talent.any_means_necessary&(!talent.initiative||buff.initiative.remains<gcd.max||time>4)\nactions+=/vengeful_retreat,use_off_gcd=1,if=talent.initiative&talent.essence_break&time>1&(cooldown.essence_break.remains>15||cooldown.essence_break.remains<gcd.max*2&(buff.initiative.remains<gcd.max&!variable.holding_meta&cooldown.eye_beam.remains<=gcd.remains&(raid_event.adds.in>(40-talent.cycle_of_hatred*15))&fury>30||!talent.demonic||buff.metamorphosis.up||cooldown.eye_beam.remains>15+(10*talent.cycle_of_hatred)))&talent.any_means_necessary\nactions+=/vengeful_retreat,use_off_gcd=1,if=talent.initiative&!talent.essence_break&time>1&!buff.momentum.up\nactions+=/fel_rush,if=talent.momentum.enabled&buff.momentum.remains<gcd.max*2&(charges_fractional>1.8||cooldown.eye_beam.remains<3)&debuff.essence_break.down&cooldown.blade_dance.remains\nactions+=/essence_break,if=(active_enemies>desired_targets||raid_event.adds.in>40)&!variable.waiting_for_momentum&(buff.metamorphosis.remains>gcd.max*3||cooldown.eye_beam.remains>10)&(!talent.tactical_retreat||buff.tactical_retreat.up||time<10)&cooldown.blade_dance.remains<=3.1*gcd.max||fight_remains<6\nactions+=/death_sweep,if=variable.blade_dance&(!talent.essence_break||cooldown.essence_break.remains>gcd.max*2)\nactions+=/fel_barrage,if=active_enemies>desired_targets||raid_event.adds.in>30\nactions+=/glaive_tempest,if=active_enemies>desired_targets||raid_event.adds.in>10&(debuff.essence_break.down||active_enemies>1)\nactions+=/annihilation,if=buff.inner_demon.up&cooldown.eye_beam.remains<=gcd\nactions+=/fel_rush,if=talent.momentum.enabled&cooldown.eye_beam.remains<gcd.max*3&buff.momentum.remains<5&buff.metamorphosis.down\nactions+=/the_hunt,if=debuff.essence_break.down&(time<10||cooldown.metamorphosis.remains>10||!equipped.algethar_puzzle_box)&(raid_event.adds.in>90||active_enemies>3||time_to_die<10)&(time>6&debuff.essence_break.down&(!talent.furious_gaze||buff.furious_gaze.up)||!set_bonus.tier30_2pc)\nactions+=/eye_beam,if=active_enemies>desired_targets||raid_event.adds.in>(40-talent.cycle_of_hatred*15)&!debuff.essence_break.up&(cooldown.metamorphosis.remains>40-talent.cycle_of_hatred*15||!variable.holding_meta)&(buff.metamorphosis.down||buff.metamorphosis.remains>gcd.max||!talent.restless_hunter)||fight_remains<15\nactions+=/blade_dance,if=variable.blade_dance&(cooldown.eye_beam.remains>5||equipped.algethar_puzzle_box&cooldown.metamorphosis.remains>(cooldown.blade_dance.duration)||!talent.demonic||(raid_event.adds.in>cooldown&raid_event.adds.in<25))\nactions+=/sigil_of_flame,if=talent.any_means_necessary&debuff.essence_break.down&active_enemies>=4\nactions+=/throw_glaive,if=talent.soulrend&(active_enemies>desired_targets||raid_event.adds.in>full_recharge_time+9)&spell_targets>=(2-talent.furious_throws)&!debuff.essence_break.up&(full_recharge_time<gcd.max*3||active_enemies>1)\nactions+=/sigil_of_flame,if=talent.any_means_necessary&debuff.essence_break.down\nactions+=/immolation_aura,if=active_enemies>=2&fury<70&debuff.essence_break.down\nactions+=/annihilation,if=!variable.pooling_for_blade_dance||set_bonus.tier30_2pc\nactions+=/throw_glaive,if=talent.soulrend&(active_enemies>desired_targets||raid_event.adds.in>full_recharge_time+9)&spell_targets>=(2-talent.furious_throws)&!debuff.essence_break.up\nactions+=/immolation_aura,if=!buff.immolation_aura.up&(!talent.ragefire||active_enemies>desired_targets||raid_event.adds.in>15)\nactions+=/fel_rush,if=talent.isolated_prey&active_enemies=1&fury.deficit>=35\nactions+=/chaos_strike,if=!variable.pooling_for_blade_dance&!variable.pooling_for_eye_beam\nactions+=/sigil_of_flame,if=raid_event.adds.in>15&fury.deficit>=30\nactions+=/felblade,if=fury.deficit>=40\nactions+=/fel_rush,if=settings.fel_rush_filler&!talent.momentum&talent.demon_blades&!cooldown.eye_beam.ready&(charges=2||(raid_event.movement.in>10&raid_event.adds.in>10))\nactions+=/demons_bite,cycle_targets=1,if=talent.burning_wound&debuff.burning_wound.remains<4&active_dot.burning_wound<(spell_targets>?3)\nactions+=/fel_rush,if=settings.fel_rush_filler&!talent.momentum&!talent.demon_blades&spell_targets>1&(charges=2||(raid_event.movement.in>10&raid_event.adds.in>10))\nactions+=/sigil_of_flame,if=raid_event.adds.in>15&fury.deficit>=30\nactions+=/demons_bite\nactions+=/fel_rush,if=settings.fel_rush_filler&(movement.distance>15||(buff.out_of_range.up&!talent.momentum))\nactions+=/vengeful_retreat,if=settings.retreat_filler&!talent.initiative&movement.distance>15\nactions+=/throw_glaive,if=(talent.demon_blades||buff.out_of_range.up)&!debuff.essence_break.up\nactions+=/use_item,name=dragonfire_bomb_dispenser,use_off_gcd=1,if=fight_remains<20||charges=3||cooldown.vengeful_retreat.remains<5\nactions+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1\n\nactions.meta_end+=/death_sweep\nactions.meta_end+=/annihilation\n\nactions.cooldown+=/sigil_of_misery,if=talent.misery_in_defeat&!target.is_boss&target.time_to_die>10&(cooldown.metamorphosis.remains<6||talent.demonic&cooldown.eye_beam.remains<6||buff.metamorphosis.remains>10)\n# Cast Metamorphosis if we will get a full Eye Beam refresh or if the encounter is almost over\nactions.cooldown+=/metamorphosis,if=!talent.demonic&((!talent.chaotic_transformation||cooldown.eye_beam.remains>20)&active_enemies>desired_targets||raid_event.adds.in>60||boss&fight_remains<25)\nactions.cooldown+=/metamorphosis,if=talent.demonic&(!talent.chaotic_transformation||cooldown.eye_beam.remains>20&(!variable.blade_dance||cooldown.blade_dance.remains>gcd.max)||boss&fight_remains<25+talent.shattered_destiny*70&cooldown.eye_beam.remains&cooldown.blade_dance.remains)\nactions.cooldown+=/potion,if=buff.metamorphosis.remains>25||buff.metamorphosis.up&cooldown.metamorphosis.ready||boss&fight_remains<60||time>0.1&time<10\nactions.cooldown+=/elysian_decree,if=(active_enemies>desired_targets||raid_event.adds.in>30)\nactions.cooldown+=/use_item,name=manic_grieftorch,use_off_gcd=1,if=((buff.initiative.remains>2&debuff.essence_break.down&cooldown.essence_break.remains>gcd.max&time>14||time_to_die<10||time<1&!equipped.algethar_puzzle_box||boss&(fight_remains%%120<5))&!prev_gcd.1.essence_break)\nactions.cooldown+=/use_item,name=algethar_puzzle_box,use_off_gcd=1,if=cooldown.metamorphosis.remains<=gcd.max*5||boss&((fight_remains%%180>10)&(fight_remains%%180<22)||fight_remains<25)\nactions.cooldown+=/use_item,name=irideus_fragment,use_off_gcd=1,if=cooldown.metamorphosis.remains<=gcd.max&time>2||fight_remains%%180>10&fight_remains%%180<22||fight_remains<22\nactions.cooldown+=/use_item,name=stormeaters_boon,use_off_gcd=1,if=cooldown.metamorphosis.remains&(!talent.momentum||buff.momentum.remains>5)&(active_enemies>1||raid_event.adds.in>140)\nactions.cooldown+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=debuff.essence_break.down&!prev_gcd.1.essence_break&(!equipped.irideus_fragment||trinket.1.cooldown.remains>20||trinket.2.cooldown.remains>20)\nactions.cooldown+=/use_item,name=dragonfire_bomb_dispenser,use_off_gcd=1,if=(time_to_die<30||cooldown.vengeful_retreat.remains<5||equipped.beacon_to_the_beyond||equipped.irideus_fragment)&(trinket.1.cooldown.remains>10||trinket.2.cooldown.remains>10||trinket.1.cooldown.duration=0||trinket.2.cooldown.duration=0||equipped.elementium_pocket_anvil||equipped.screaming_black_dragonscale||equipped.mark_of_dargrul)||(trinket.1.cooldown.duration>0||trinket.2.cooldown.duration>0)&(trinket.1.cooldown.remains||trinket.2.cooldown.remains)&!equipped.elementium_pocket_anvil&time<25\nactions.cooldown+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1,if=!prev_gcd.1.fel_rush&gcd.remains\n# Default use item logic\nactions.cooldown+=/use_items,slots=trinket1,if=(variable.trinket_sync_slot=1&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.1.cooldown.duration%2))||fight_remains<=20)||(variable.trinket_sync_slot=2&!trinket.2.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative||buff.initiative.up)\nactions.cooldown+=/use_items,slots=trinket2,if=(variable.trinket_sync_slot=2&(buff.metamorphosis.up||(!talent.demonic.enabled&cooldown.metamorphosis.remains>(fight_remains>?trinket.2.cooldown.duration%2))||fight_remains<=20)||(variable.trinket_sync_slot=1&!trinket.1.cooldown.ready)||!variable.trinket_sync_slot)&(!talent.initiative||buff.initiative.up)",
				},
				["Elemental"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230520,
					["spec"] = 262,
					["desc"] = "2023-05-20: Updates from SimC (opener CDs and Windspeaker's Lava Resurgence).\n\n2023-05-15: Don't consume some buffs with Flame Shock.\n\n2023-05-06: Update to Lava Burst prioritization.\n\n2023-04-22: Updates from SimulationCraft.\n\n2023-04-15: Correct Echo of the Elements talent.",
					["lists"] = {
						["single_target"] = {
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "fire_elemental",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "storm_elemental",
							}, -- [2]
							{
								["enabled"] = true,
								["description"] = "Reset LMT CD as early as possible.",
								["criteria"] = "cooldown.liquid_magma_totem.remains > 45 & ( talent.lava_surge.enabled & talent.splintered_elements.enabled || active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) )",
								["action"] = "totemic_recall",
							}, -- [3]
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["criteria"] = "talent.lava_surge.enabled & talent.splintered_elements.enabled || active_dot.flame_shock = 0 || dot.flame_shock.remains < 6 || active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "liquid_magma_totem",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["criteria"] = "! buff.primordial_wave.up & ! buff.splintered_elements.up",
								["description"] = "Use Primordial Wave as much as possible without wasting buffs.",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["criteria"] = "active_enemies = 1 & refreshable & ! buff.surge_of_power.up & ( ! buff.master_of_the_elements.up || ( ! buff.stormkeeper.up & ( talent.elemental_blast.enabled & maelstrom < 90 - 8 * talent.eye_of_the_storm.rank || maelstrom < 60 - 5 * talent.eye_of_the_storm.rank ) ) )",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["description"] = "Use Flame shock without Surge of Power if you can't spread it with SoP because it is going to be used on Stormkeeper or Surge of Power is not talented.",
								["criteria"] = "active_dot.flame_shock = 0 & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & ( talent.deeply_rooted_elements.enabled || talent.ascendance.enabled || talent.primordial_wave.enabled || talent.searing_flames.enabled || talent.magma_chamber.enabled ) & ( ! buff.master_of_the_elements.up & ( buff.stormkeeper.up || cooldown.stormkeeper.remains = 0 ) || ! talent.surge_of_power.enabled )",
								["action"] = "flame_shock",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "active_dot.flame_shock < cycle_enemies & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & refreshable & ( talent.deeply_rooted_elements.enabled || talent.ascendance.enabled || talent.primordial_wave.enabled || talent.searing_flames.enabled || talent.magma_chamber.enabled ) & ( buff.surge_of_power.up & ! buff.stormkeeper.up & ! cooldown.stormkeeper.remains = 0 || ! talent.surge_of_power.enabled )",
								["description"] = "Spread Flame Shock to multiple targets only if talents were selected that benefit from it.",
							}, -- [8]
							{
								["enabled"] = true,
								["description"] = "{EB/Swelling/SoP Lightning build} Start SK window if you have enough maelstrom to: EB > SoP SK_LB > LvB > EB.",
								["criteria"] = "! buff.ascendance.up & ! buff.stormkeeper.up & maelstrom >= 116 & talent.elemental_blast.enabled & talent.surge_of_power.enabled & talent.swelling_maelstrom.enabled & ! talent.lava_surge.enabled & ! talent.echo_of_the_elements.enabled & ! talent.primordial_surge.enabled",
								["action"] = "stormkeeper",
							}, -- [9]
							{
								["enabled"] = true,
								["description"] = "{EB/SoP Lightning builds} Use Stormkeeper if you already got Surge of Power buff rolling.",
								["criteria"] = "! buff.ascendance.up & ! buff.stormkeeper.up & buff.surge_of_power.up & ! talent.lava_surge.enabled & ! talent.echo_of_the_elements.enabled & ! talent.primordial_surge.enabled",
								["action"] = "stormkeeper",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "! buff.ascendance.up & ! buff.stormkeeper.up & ( ! talent.surge_of_power.enabled || ! talent.elemental_blast.enabled || talent.lava_surge.enabled || talent.echo_of_the_elements.enabled || talent.primordial_surge.enabled )",
								["action"] = "stormkeeper",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "! buff.stormkeeper.up",
								["action"] = "ascendance",
							}, -- [12]
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "buff.stormkeeper.up & buff.surge_of_power.up",
								["action"] = "lightning_bolt",
							}, -- [13]
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & buff.stormkeeper.up & ! talent.surge_of_power.enabled",
								["action"] = "lava_beam",
							}, -- [14]
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & buff.stormkeeper.up & ! talent.surge_of_power.enabled",
								["action"] = "chain_lightning",
							}, -- [15]
							{
								["enabled"] = true,
								["description"] = "Buff stormkeeper with MotE when not using Surge.",
								["criteria"] = "buff.stormkeeper.up & ! buff.master_of_the_elements.up & ! talent.surge_of_power.enabled & talent.master_of_the_elements.enabled",
								["action"] = "lava_burst",
							}, -- [16]
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "buff.stormkeeper.up & ! talent.surge_of_power.enabled & buff.master_of_the_elements.up",
								["action"] = "lightning_bolt",
							}, -- [17]
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "buff.stormkeeper.up & ! talent.surge_of_power.enabled & ! talent.master_of_the_elements.enabled",
								["action"] = "lightning_bolt",
							}, -- [18]
							{
								["enabled"] = true,
								["description"] = "Surge of Power is strong and should be used.",
								["criteria"] = "buff.surge_of_power.up",
								["action"] = "lightning_bolt",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "talent.electrified_shocks.enabled",
								["action"] = "icefury",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & talent.electrified_shocks.enabled & ( debuff.electrified_shocks.remains < 2 || buff.icefury.remains <= gcd.max )",
								["action"] = "frost_shock",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & talent.electrified_shocks.enabled & maelstrom >= 50 & debuff.electrified_shocks.remains < 2 * gcd.max & buff.stormkeeper.up",
								["action"] = "frost_shock",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & buff.power_of_the_maelstrom.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							}, -- [23]
							{
								["enabled"] = true,
								["description"] = "{EB/SoP Lightning builds} Spend extra Frost Shock if it gives you the ability to get to next spender without using Stormkeeper charge.",
								["criteria"] = "buff.icefury.up & buff.stormkeeper.up & ! talent.lava_surge.enabled & ! talent.echo_of_the_elements.enabled & ! talent.primordial_surge.enabled & talent.elemental_blast.enabled & ( maelstrom >= 61 & maelstrom < 75 & cooldown.lava_burst.remains > gcd.max || maelstrom >= 49 & maelstrom < 63 & cooldown.lava_burst.ready )",
								["action"] = "frost_shock",
							}, -- [24]
							{
								["enabled"] = true,
								["description"] = "{ES/SoP Lightning builds} Spend extra Frost Shock if it gives you the ability to get to next spender without using Stormkeeper charge.",
								["criteria"] = "buff.icefury.up & buff.stormkeeper.up & ! talent.lava_surge.enabled & ! talent.echo_of_the_elements.enabled & ! talent.elemental_blast.enabled & ( maelstrom >= 36 & maelstrom < 50 & cooldown.lava_burst.remains > gcd.max || maelstrom >= 24 & maelstrom < 38 & cooldown.lava_burst.ready )",
								["action"] = "frost_shock",
							}, -- [25]
							{
								["enabled"] = true,
								["description"] = "Windspeaker's Lava Resurgence is strong. Don't sit on it...Unless it's Lightning build and you save it to buff Elemental Blast.",
								["criteria"] = "buff.windspeakers_lava_resurgence.up & ( talent.echo_of_the_elements.enabled || talent.lava_surge.enabled || talent.primordial_surge.enabled || maelstrom >= 63 & talent.master_of_the_elements.enabled || maelstrom >= 38 & buff.echoes_of_great_sundering.up & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) || ! talent.elemental_blast.enabled )",
								["action"] = "lava_burst",
							}, -- [26]
							{
								["enabled"] = true,
								["description"] = "Lava Surge is neat. Utilize it...Unless it's Lightning build and you save it to buff Elemental Blast.",
								["criteria"] = "cooldown_react & buff.lava_surge.up & ( talent.echo_of_the_elements.enabled || talent.lava_surge.enabled || talent.primordial_surge.enabled || ! talent.master_of_the_elements.enabled || ! talent.elemental_blast.enabled )",
								["action"] = "lava_burst",
							}, -- [27]
							{
								["enabled"] = true,
								["description"] = "Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.",
								["criteria"] = "talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & maelstrom >= 50 & ! talent.swelling_maelstrom.enabled & maelstrom <= 80",
								["action"] = "lava_burst",
							}, -- [28]
							{
								["enabled"] = true,
								["description"] = "Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.",
								["criteria"] = "talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ( maelstrom >= 75 || maelstrom >= 50 & ! talent.elemental_blast.enabled ) & talent.swelling_maelstrom.enabled & maelstrom <= 130",
								["action"] = "lava_burst",
							}, -- [29]
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Additionally Elemental Blast is stronger than EoGS. In this case don't use Earthquake on single target.",
								["criteria"] = "buff.echoes_of_great_sundering.up & ( ! talent.elemental_blast.enabled & active_enemies < 2 || active_enemies > 1 )",
								["action"] = "earthquake",
							}, -- [30]
							{
								["enabled"] = true,
								["description"] = "Use Earthquake against two enemies unless you have to alternate because of Echoes of Great Sundering.",
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & ! talent.echoes_of_great_sundering.enabled & ! talent.elemental_blast.enabled",
								["action"] = "earthquake",
							}, -- [31]
							{
								["action"] = "elemental_blast",
								["enabled"] = true,
							}, -- [32]
							{
								["action"] = "earth_shock",
								["enabled"] = true,
							}, -- [33]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["criteria"] = "dot.flame_shock.remains > 2 & buff.flux_melting.up & active_enemies > 1",
								["description"] = "Utilize present buffs.",
							}, -- [34]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["criteria"] = "dot.flame_shock.remains > 2 & active_enemies = 1 & talent.deeply_rooted_elements.enabled",
								["description"] = "Single target Lava Burst is stronk.",
							}, -- [35]
							{
								["enabled"] = true,
								["description"] = "Spread out your Icefury usage if you can get more use out of accompanied buffs.",
								["criteria"] = "buff.icefury.up & talent.flux_melting.enabled & ! buff.flux_melting.up",
								["action"] = "frost_shock",
							}, -- [36]
							{
								["enabled"] = true,
								["description"] = "Spread out your Icefury usage if you can get more use out of accompanied buffs.",
								["criteria"] = "buff.icefury.up & ( talent.electrified_shocks.enabled & debuff.electrified_shocks.remains < 2 || buff.icefury.remains < 6 )",
								["action"] = "frost_shock",
							}, -- [37]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["criteria"] = "dot.flame_shock.remains > 2 & talent.echo_of_the_elements.enabled || talent.lava_surge.enabled || talent.primordial_surge.enabled || ! talent.elemental_blast.enabled || ! talent.master_of_the_elements.enabled || buff.stormkeeper.up",
								["description"] = "Use Lava Burst normally with fire builds. Save it as much as possible in lightning builds unless you cant use Lightning Bolt without wasting Stormkeeper charges.",
							}, -- [38]
							{
								["enabled"] = true,
								["description"] = "Utilize the Power of the Maelstrom buff if your Chain Lightning is empowered by Unrelenting Calamity.",
								["criteria"] = "buff.power_of_the_maelstrom.up & talent.unrelenting_calamity.enabled & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
							}, -- [39]
							{
								["enabled"] = true,
								["description"] = "Utilize the Power of the Maelstrom buff if your Lightning Bolt is empowered by Unrelenting Calamity.",
								["criteria"] = "buff.power_of_the_maelstrom.up & talent.unrelenting_calamity.enabled",
								["action"] = "lightning_bolt",
							}, -- [40]
							{
								["action"] = "icefury",
								["enabled"] = true,
							}, -- [41]
							{
								["enabled"] = true,
								["description"] = "Spam Chain Lightning if Storm Elemental is active. But honor all previous priorities.",
								["criteria"] = "pet.storm_elemental.active & debuff.lightning_rod.up & ( debuff.electrified_shocks.up || buff.power_of_the_maelstrom.up ) & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
							}, -- [42]
							{
								["enabled"] = true,
								["description"] = "If you have MotE up and aren't at risk of capping LvB, spend MotE on FrS/LB.",
								["criteria"] = "buff.icefury.up & buff.master_of_the_elements.up & ! buff.lava_surge.up & ! talent.electrified_shocks.enabled & ! talent.flux_melting.enabled & cooldown.lava_burst.charges_fractional < 1.0 & talent.echo_of_the_elements.enabled",
								["action"] = "frost_shock",
							}, -- [43]
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury.up & talent.flux_melting.enabled",
								["action"] = "frost_shock",
							}, -- [44]
							{
								["enabled"] = true,
								["description"] = "If you have MotE up and aren't at risk of capping LvB, spend MotE on Chain Lightning.",
								["criteria"] = "buff.master_of_the_elements.up & ! buff.lava_surge.up & ( cooldown.lava_burst.charges_fractional < 1.0 & talent.echo_of_the_elements.enabled ) & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
							}, -- [45]
							{
								["enabled"] = true,
								["description"] = "If you have MotE up and aren't at risk of capping LvB, spend MotE on FrS/LB.",
								["criteria"] = "buff.master_of_the_elements.up & ! buff.lava_surge.up & ( cooldown.lava_burst.charges_fractional < 1.0 & talent.echo_of_the_elements.enabled )",
								["action"] = "lightning_bolt",
							}, -- [46]
							{
								["enabled"] = true,
								["description"] = "Use your Icefury buffs if you didn't improve the talent.",
								["criteria"] = "buff.icefury.up & ! talent.electrified_shocks.enabled & ! talent.flux_melting.enabled",
								["action"] = "frost_shock",
							}, -- [47]
							{
								["enabled"] = true,
								["description"] = "Casting Chain Lightning at two targets is more efficient than Lightning Bolt.",
								["criteria"] = "active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
							}, -- [48]
							{
								["enabled"] = true,
								["description"] = "Filler spell. Always available. Always the bottom line.",
								["action"] = "lightning_bolt",
							}, -- [49]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable",
								["enabled"] = true,
							}, -- [50]
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["criteria"] = "movement.distance > 6",
								["action"] = "flame_shock",
								["moving"] = 1,
							}, -- [51]
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["description"] = "Frost Shock is our movement filler.",
								["action"] = "frost_shock",
								["moving"] = 1,
							}, -- [52]
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "fire_elemental",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "storm_elemental",
							}, -- [2]
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["criteria"] = "! buff.stormkeeper.up",
								["action"] = "stormkeeper",
							}, -- [3]
							{
								["enabled"] = true,
								["description"] = "Reset LMT CD as early as possible.",
								["criteria"] = "cooldown.liquid_magma_totem.remains > 45",
								["action"] = "totemic_recall",
							}, -- [4]
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["action"] = "liquid_magma_totem",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["criteria"] = "! buff.primordial_wave.up & buff.surge_of_power.up & ! buff.splintered_elements.up",
								["description"] = "Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["criteria"] = "! buff.primordial_wave.up & talent.deeply_rooted_elements.enabled & ! talent.surge_of_power.enabled & ! buff.splintered_elements.up",
								["description"] = "Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["criteria"] = "! buff.primordial_wave.up & talent.master_of_the_elements.enabled & ! talent.lightning_rod.enabled",
								["description"] = "Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable & buff.surge_of_power.up & talent.lightning_rod.enabled & talent.windspeakers_lava_resurgence.enabled & dot.flame_shock.remains < target.time_to_die - 16 & active_enemies < 5",
								["description"] = "Spread Flame Shock using Surge of Power on up to 4 for Lightning builds with Windspeaker's Lava Resurgence.",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable & buff.surge_of_power.up & ( ! talent.lightning_rod.enabled || talent.skybreakers_fiery_demise.enabled ) & dot.flame_shock.remains < target.time_to_die - 5 & active_dot.flame_shock < 6",
								["description"] = "Spread Flame Shock using Surge of Power up to 6.",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable & talent.master_of_the_elements.enabled & ! talent.lightning_rod.enabled & dot.flame_shock.remains < target.time_to_die - 5 & active_dot.flame_shock < 6",
								["description"] = "Spread Flame Shock against low target counts if Master of the Elements was selected up to 6.",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable & talent.deeply_rooted_elements.enabled & ! talent.surge_of_power.enabled & dot.flame_shock.remains < target.time_to_die - 5 & active_dot.flame_shock < 6",
								["description"] = "Spread Flame Shock to gamble on Deeply Rooted Element procs up to 6.",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable & buff.surge_of_power.up & ( ! talent.lightning_rod.enabled || talent.skybreakers_fiery_demise.enabled ) & dot.flame_shock.remains < target.time_to_die - 5 & dot.flame_shock.remains > 0",
								["description"] = "Refresh Flame Shock using Surge of Power up to 6.",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable & talent.master_of_the_elements.enabled & ! talent.lightning_rod.enabled & dot.flame_shock.remains < target.time_to_die - 5 & dot.flame_shock.remains > 0",
								["description"] = "Refresh Flame Shock against low target counts if Master of the Elements was selected up to 6.",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable & talent.deeply_rooted_elements.enabled & ! talent.surge_of_power.enabled & dot.flame_shock.remains < target.time_to_die - 5 & dot.flame_shock.remains > 0",
								["description"] = "Refresh Flame Shock to gamble on Deeply Rooted Element procs up to 6.",
							}, -- [15]
							{
								["enabled"] = true,
								["description"] = "JUST DO IT! https://i.kym-cdn.com/entries/icons/mobile/000/018/147/Shia_LaBeouf__Just_Do_It__Motivational_Speech_(Original_Video_by_LaBeouf__R%C3%B6nkk%C3%B6___Turner)_0-4_screenshot.jpg",
								["action"] = "ascendance",
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["criteria"] = "dot.flame_shock.remains & cooldown_react & buff.lava_surge.up & talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ( maelstrom >= 60 - 5 * talent.eye_of_the_storm.rank - 2 * talent.flow_of_power.enabled ) & ( ! talent.echoes_of_great_sundering.enabled & ! talent.lightning_rod.enabled || buff.echoes_of_great_sundering.up ) & ( ! buff.ascendance.up & active_enemies > 3 & talent.unrelenting_calamity.enabled || active_enemies > 3 & ! talent.unrelenting_calamity.enabled || active_enemies = 3 )",
								["description"] = "Cast Lava Burst to buff your immediately follow-up Earthquake with Master of the Elements.",
							}, -- [17]
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
								["criteria"] = "! talent.echoes_of_great_sundering.enabled & active_enemies > 3 & ( spell_targets.chain_lightning > 3 || spell_targets.lava_beam > 3 )",
								["action"] = "earthquake",
							}, -- [18]
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
								["criteria"] = "! talent.echoes_of_great_sundering.enabled & ! talent.elemental_blast.enabled & active_enemies = 3 & ( spell_targets.chain_lightning = 3 || spell_targets.lava_beam = 3 )",
								["action"] = "earthquake",
							}, -- [19]
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
								["criteria"] = "buff.echoes_of_great_sundering.up",
								["action"] = "earthquake",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "elemental_blast",
								["cycle_targets"] = 1,
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Spread Lightning Rod to as many targets as possible.",
							}, -- [21]
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
								["action"] = "elemental_blast",
							}, -- [22]
							{
								["enabled"] = true,
								["description"] = "Elemental Blast is stronger than Earthquake against 3 targets.",
								["criteria"] = "active_enemies = 3 & ! talent.echoes_of_great_sundering.enabled",
								["action"] = "elemental_blast",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "earth_shock",
								["cycle_targets"] = 1,
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Spread Lightning Rod to as many targets as possible.",
							}, -- [24]
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.",
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
								["action"] = "earth_shock",
							}, -- [25]
							{
								["enabled"] = true,
								["description"] = "Use Icefury if you can get the full benefit from Electrified Shocks. If more targets are present ignore it. High priority on 3 targets.",
								["criteria"] = "! buff.ascendance.up & talent.electrified_shocks.enabled & ( talent.lightning_rod.enabled & active_enemies < 5 & ! buff.master_of_the_elements.up || talent.deeply_rooted_elements.enabled & active_enemies = 3 )",
								["action"] = "icefury",
							}, -- [26]
							{
								["enabled"] = true,
								["description"] = "Spread out your Frost Shock casts to empower as many Chain Lightnings as possible.",
								["criteria"] = "! buff.ascendance.up & buff.icefury.up & talent.electrified_shocks.enabled & ( ! debuff.electrified_shocks.up || buff.icefury.remains < gcd.max ) & ( talent.lightning_rod.enabled & active_enemies < 5 & ! buff.master_of_the_elements.up || talent.deeply_rooted_elements.enabled & active_enemies = 3 )",
								["action"] = "frost_shock",
							}, -- [27]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["criteria"] = "dot.flame_shock.remains & talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ( buff.stormkeeper.up || t30_2pc_timer.next_tick < 3 & set_bonus.tier30_2pc ) & ( maelstrom < 60 - 5 * talent.eye_of_the_storm.rank - 2 * talent.flow_of_power.enabled - 10 ) & active_enemies < 5",
								["description"] = "Buff Stormkeeper with Master of the elements on 3-4 targets.",
							}, -- [28]
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "buff.stormkeeper.up",
								["action"] = "lava_beam",
							}, -- [29]
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "buff.stormkeeper.up",
								["action"] = "chain_lightning",
							}, -- [30]
							{
								["enabled"] = true,
								["description"] = "Power of the Maelstrom is strong and should be used.",
								["criteria"] = "buff.power_of_the_maelstrom.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							}, -- [31]
							{
								["enabled"] = true,
								["description"] = "Power of the Maelstrom is strong and should be used.",
								["criteria"] = "buff.power_of_the_maelstrom.up",
								["action"] = "chain_lightning",
							}, -- [32]
							{
								["enabled"] = true,
								["description"] = "Against 6 targets or more Surge of Power should be used with Lava Beam rather than Lava Burst.",
								["criteria"] = "active_enemies >= 6 & buff.surge_of_power.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							}, -- [33]
							{
								["enabled"] = true,
								["description"] = "Against 6 targets or more Surge of Power should be used with Chain Lightning rather than Lava Burst.",
								["criteria"] = "active_enemies >= 6 & buff.surge_of_power.up",
								["action"] = "chain_lightning",
							}, -- [34]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["criteria"] = "dot.flame_shock.remains > 0 & buff.lava_surge.up & talent.deeply_rooted_elements.enabled & buff.windspeakers_lava_resurgence.up",
								["description"] = "Proc Deeply Rooted Elements against 3 targets.",
							}, -- [35]
							{
								["enabled"] = true,
								["description"] = "Consume Master of the Elements with Lava Beam.",
								["criteria"] = "buff.master_of_the_elements.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							}, -- [36]
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["criteria"] = "dot.flame_shock.remains > 0 & active_enemies = 3 & talent.master_of_the_elements.enabled",
								["description"] = "Proc Master of the Elements against 3 targets.",
							}, -- [37]
							{
								["enabled"] = true,
								["description"] = "Gamble away for Deeply Rooted Elements procs whenever Lava Surge makes Lava Burst more efficient.",
								["criteria"] = "dot.flame_shock.remains > 0 & buff.lava_surge.up & talent.deeply_rooted_elements.enabled",
								["action"] = "lava_burst",
							}, -- [38]
							{
								["enabled"] = true,
								["description"] = "Use Icefury if you can get the full benefit from Electrified Shocks. If more targets are present ignore it.",
								["criteria"] = "talent.electrified_shocks.enabled & active_enemies < 5",
								["action"] = "icefury",
							}, -- [39]
							{
								["enabled"] = true,
								["description"] = "Spread out your Frost Shock casts to empower as many Chain Lightnings as possible.",
								["criteria"] = "buff.icefury.up & talent.electrified_shocks.enabled & ! debuff.electrified_shocks.up & active_enemies < 5",
								["action"] = "frost_shock",
							}, -- [40]
							{
								["enabled"] = true,
								["criteria"] = "buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							}, -- [41]
							{
								["action"] = "chain_lightning",
								["enabled"] = true,
							}, -- [42]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["criteria"] = "refreshable",
								["enabled"] = true,
							}, -- [43]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "frost_shock",
								["enabled"] = true,
							}, -- [44]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "wind_shear",
								["description"] = "Interrupt of casts.",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "settings.hostile_dispel",
								["action"] = "purge",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "settings.hostile_dispel",
								["action"] = "greater_purge",
							}, -- [3]
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["criteria"] = "movement.distance > 6",
								["action"] = "spiritwalkers_grace",
								["description"] = "Enable more movement.",
								["moving"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
								["action"] = "blood_fury",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up",
								["action"] = "berserking",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
								["action"] = "fireblood",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
								["action"] = "ancestral_call",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || ! buff.ascendance.up",
								["action"] = "bag_of_tricks",
							}, -- [9]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [10]
							{
								["action"] = "meteor",
								["enabled"] = true,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.call_lightning.up",
								["action"] = "tempest",
							}, -- [12]
							{
								["action"] = "vesper_totem",
								["enabled"] = true,
							}, -- [13]
							{
								["action"] = "natures_swiftness",
								["enabled"] = true,
							}, -- [14]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 & ( spell_targets.chain_lightning > 2 || spell_targets.lava_beam > 2 )",
								["strict"] = 1,
								["action"] = "run_action_list",
								["list_name"] = "aoe",
							}, -- [16]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["list_name"] = "single_target",
							}, -- [17]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["description"] = "Ensure weapon enchant is applied.",
								["action"] = "flametongue_weapon",
								["criteria"] = "talent.improved_flametongue_weapon.enabled",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.lightning_shield.down & ( buff.earth_shield.down || talent.elemental_orbit.enabled )",
								["action"] = "lightning_shield",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.lightning_shield.up & buff.earth_shield.down & talent.elemental_orbit.enabled",
								["action"] = "earth_shield",
							}, -- [3]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "stormkeeper",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "icefury",
								["enabled"] = true,
							}, -- [6]
						},
					},
					["version"] = 20230520,
					["warnings"] = "The import for 'aoe' required some automated changes.\nLine 21: Converted 'talent.echoes_of_great_sundering' to 'talent.echoes_of_great_sundering.enabled' (1x).\nLine 22: Converted 'talent.echoes_of_great_sundering' to 'talent.echoes_of_great_sundering.enabled' (1x).\nLine 24: Converted 'talent.echoes_of_great_sundering' to 'talent.echoes_of_great_sundering.enabled' (1x).\nLine 25: Converted 'talent.echoes_of_great_sundering' to 'talent.echoes_of_great_sundering.enabled' (1x).\n\nImported 4 action lists.\n",
					["author"] = "SimulationCraft",
					["profile"] = "# Ensure weapon enchant is applied.\nactions.precombat+=/flametongue_weapon,if=talent.improved_flametongue_weapon.enabled\nactions.precombat+=/lightning_shield,if=buff.lightning_shield.down&(buff.earth_shield.down||talent.elemental_orbit.enabled)\nactions.precombat+=/earth_shield,if=buff.lightning_shield.up&buff.earth_shield.down&talent.elemental_orbit.enabled\nactions.precombat+=/potion\nactions.precombat+=/stormkeeper\nactions.precombat+=/icefury\n\n# Executed every time the actor is available.\n# Interrupt of casts.\nactions+=/wind_shear\nactions+=/purge,if=settings.hostile_dispel\nactions+=/greater_purge,if=settings.hostile_dispel\n# Enable more movement.\nactions+=/spiritwalkers_grace,moving=1,if=movement.distance>6\nactions+=/blood_fury,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/berserking,if=!talent.ascendance.enabled||buff.ascendance.up\nactions+=/fireblood,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/ancestral_call,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/bag_of_tricks,if=!talent.ascendance.enabled||!buff.ascendance.up\nactions+=/use_items\nactions+=/meteor\nactions+=/tempest,if=buff.call_lightning.up\nactions+=/vesper_totem\nactions+=/natures_swiftness\nactions+=/potion\nactions+=/run_action_list,name=aoe,strict=1,if=active_enemies>2&(spell_targets.chain_lightning>2||spell_targets.lava_beam>2)\nactions+=/run_action_list,name=single_target\n\n# Keep your cooldowns rolling.\nactions.aoe=fire_elemental\n# Keep your cooldowns rolling.\nactions.aoe+=/storm_elemental\n# Keep your cooldowns rolling.\nactions.aoe+=/stormkeeper,if=!buff.stormkeeper.up\n# Reset LMT CD as early as possible.\nactions.aoe+=/totemic_recall,if=cooldown.liquid_magma_totem.remains>45\n# Keep your cooldowns rolling.\nactions.aoe+=/liquid_magma_totem\n# Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).\nactions.aoe+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up&buff.surge_of_power.up&!buff.splintered_elements.up\n# Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).\nactions.aoe+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up&talent.deeply_rooted_elements.enabled&!talent.surge_of_power.enabled&!buff.splintered_elements.up\n# Spread Flame Shock using Surge of Power. Don't waste buffs by resets (resets are gone, but I'll keep that logic here).\nactions.aoe+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up&talent.master_of_the_elements.enabled&!talent.lightning_rod.enabled\n# Spread Flame Shock using Surge of Power on up to 4 for Lightning builds with Windspeaker's Lava Resurgence.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&buff.surge_of_power.up&talent.lightning_rod.enabled&talent.windspeakers_lava_resurgence.enabled&dot.flame_shock.remains<target.time_to_die-16&active_enemies<5\n# Spread Flame Shock using Surge of Power up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&buff.surge_of_power.up&(!talent.lightning_rod.enabled||talent.skybreakers_fiery_demise.enabled)&dot.flame_shock.remains<target.time_to_die-5&active_dot.flame_shock<6\n# Spread Flame Shock against low target counts if Master of the Elements was selected up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.master_of_the_elements.enabled&!talent.lightning_rod.enabled&dot.flame_shock.remains<target.time_to_die-5&active_dot.flame_shock<6\n# Spread Flame Shock to gamble on Deeply Rooted Element procs up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.deeply_rooted_elements.enabled&!talent.surge_of_power.enabled&dot.flame_shock.remains<target.time_to_die-5&active_dot.flame_shock<6\n# Refresh Flame Shock using Surge of Power up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&buff.surge_of_power.up&(!talent.lightning_rod.enabled||talent.skybreakers_fiery_demise.enabled)&dot.flame_shock.remains<target.time_to_die-5&dot.flame_shock.remains>0\n# Refresh Flame Shock against low target counts if Master of the Elements was selected up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.master_of_the_elements.enabled&!talent.lightning_rod.enabled&dot.flame_shock.remains<target.time_to_die-5&dot.flame_shock.remains>0\n# Refresh Flame Shock to gamble on Deeply Rooted Element procs up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.deeply_rooted_elements.enabled&!talent.surge_of_power.enabled&dot.flame_shock.remains<target.time_to_die-5&dot.flame_shock.remains>0\n# JUST DO IT! https://i.kym-cdn.com/entries/icons/mobile/000/018/147/Shia_LaBeouf__Just_Do_It__Motivational_Speech_(Original_Video_by_LaBeouf__R%C3%B6nkk%C3%B6___Turner)_0-4_screenshot.jpg\nactions.aoe+=/ascendance\n# Cast Lava Burst to buff your immediately follow-up Earthquake with Master of the Elements.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&cooldown_react&buff.lava_surge.up&talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&(maelstrom>=60-5*talent.eye_of_the_storm.rank-2*talent.flow_of_power.enabled)&(!talent.echoes_of_great_sundering.enabled&!talent.lightning_rod.enabled||buff.echoes_of_great_sundering.up)&(!buff.ascendance.up&active_enemies>3&talent.unrelenting_calamity.enabled||active_enemies>3&!talent.unrelenting_calamity.enabled||active_enemies=3)\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/earthquake,if=!talent.echoes_of_great_sundering.enabled&active_enemies>3&(spell_targets.chain_lightning>3||spell_targets.lava_beam>3)\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/earthquake,if=!talent.echoes_of_great_sundering.enabled&!talent.elemental_blast.enabled&active_enemies=3&(spell_targets.chain_lightning=3||spell_targets.lava_beam=3)\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/earthquake,if=buff.echoes_of_great_sundering.up\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Spread Lightning Rod to as many targets as possible.\nactions.aoe+=/elemental_blast,cycle_targets=1,if=talent.echoes_of_great_sundering\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/elemental_blast,if=talent.echoes_of_great_sundering\n# Elemental Blast is stronger than Earthquake against 3 targets.\nactions.aoe+=/elemental_blast,if=active_enemies=3&!talent.echoes_of_great_sundering.enabled\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Spread Lightning Rod to as many targets as possible.\nactions.aoe+=/earth_shock,cycle_targets=1,if=talent.echoes_of_great_sundering\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease.\nactions.aoe+=/earth_shock,if=talent.echoes_of_great_sundering\n# Use Icefury if you can get the full benefit from Electrified Shocks. If more targets are present ignore it. High priority on 3 targets.\nactions.aoe+=/icefury,if=!buff.ascendance.up&talent.electrified_shocks.enabled&(talent.lightning_rod.enabled&active_enemies<5&!buff.master_of_the_elements.up||talent.deeply_rooted_elements.enabled&active_enemies=3)\n# Spread out your Frost Shock casts to empower as many Chain Lightnings as possible.\nactions.aoe+=/frost_shock,if=!buff.ascendance.up&buff.icefury.up&talent.electrified_shocks.enabled&(!debuff.electrified_shocks.up||buff.icefury.remains<gcd)&(talent.lightning_rod.enabled&active_enemies<5&!buff.master_of_the_elements.up||talent.deeply_rooted_elements.enabled&active_enemies=3)\n# Buff Stormkeeper with Master of the elements on 3-4 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&(buff.stormkeeper.up||t30_2pc_timer.next_tick<3&set_bonus.tier30_2pc)&(maelstrom<60-5*talent.eye_of_the_storm.rank-2*talent.flow_of_power.enabled-10)&active_enemies<5\n# Stormkeeper is strong and should be used.\nactions.aoe+=/lava_beam,if=buff.stormkeeper.up\n# Stormkeeper is strong and should be used.\nactions.aoe+=/chain_lightning,if=buff.stormkeeper.up\n# Power of the Maelstrom is strong and should be used.\nactions.aoe+=/lava_beam,if=buff.power_of_the_maelstrom.up&buff.ascendance.remains>cast_time\n# Power of the Maelstrom is strong and should be used.\nactions.aoe+=/chain_lightning,if=buff.power_of_the_maelstrom.up\n# Against 6 targets or more Surge of Power should be used with Lava Beam rather than Lava Burst.\nactions.aoe+=/lava_beam,if=active_enemies>=6&buff.surge_of_power.up&buff.ascendance.remains>cast_time\n# Against 6 targets or more Surge of Power should be used with Chain Lightning rather than Lava Burst.\nactions.aoe+=/chain_lightning,if=active_enemies>=6&buff.surge_of_power.up\n# Proc Deeply Rooted Elements against 3 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>0&buff.lava_surge.up&talent.deeply_rooted_elements.enabled&buff.windspeakers_lava_resurgence.up\n# Consume Master of the Elements with Lava Beam.\nactions.aoe+=/lava_beam,if=buff.master_of_the_elements.up&buff.ascendance.remains>cast_time\n# Proc Master of the Elements against 3 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>0&active_enemies=3&talent.master_of_the_elements.enabled\n# Gamble away for Deeply Rooted Elements procs whenever Lava Surge makes Lava Burst more efficient.\nactions.aoe+=/lava_burst,if=dot.flame_shock.remains>0&buff.lava_surge.up&talent.deeply_rooted_elements.enabled\n# Use Icefury if you can get the full benefit from Electrified Shocks. If more targets are present ignore it.\nactions.aoe+=/icefury,if=talent.electrified_shocks.enabled&active_enemies<5\n# Spread out your Frost Shock casts to empower as many Chain Lightnings as possible.\nactions.aoe+=/frost_shock,if=buff.icefury.up&talent.electrified_shocks.enabled&!debuff.electrified_shocks.up&active_enemies<5\nactions.aoe+=/lava_beam,if=buff.ascendance.remains>cast_time\nactions.aoe+=/chain_lightning\nactions.aoe+=/flame_shock,moving=1,cycle_targets=1,if=refreshable\nactions.aoe+=/frost_shock,moving=1\n\n# Keep your cooldowns rolling.\nactions.single_target+=/fire_elemental\n# Keep your cooldowns rolling.\nactions.single_target+=/storm_elemental\n# Reset LMT CD as early as possible.\nactions.single_target+=/totemic_recall,if=cooldown.liquid_magma_totem.remains>45&(talent.lava_surge.enabled&talent.splintered_elements.enabled||active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1))\n# Keep your cooldowns rolling.\nactions.single_target+=/liquid_magma_totem,if=talent.lava_surge.enabled&talent.splintered_elements.enabled||active_dot.flame_shock=0||dot.flame_shock.remains<6||active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# Use Primordial Wave as much as possible without wasting buffs.\nactions.single_target+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up&!buff.splintered_elements.up\nactions.single_target+=/flame_shock,cycle_targets=1,if=active_enemies=1&refreshable&!buff.surge_of_power.up&(!buff.master_of_the_elements.up||(!buff.stormkeeper.up&(talent.elemental_blast.enabled&maelstrom<90-8*talent.eye_of_the_storm.rank||maelstrom<60-5*talent.eye_of_the_storm.rank)))\n# Use Flame shock without Surge of Power if you can't spread it with SoP because it is going to be used on Stormkeeper or Surge of Power is not talented.\nactions.single_target+=/flame_shock,if=active_dot.flame_shock=0&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&(talent.deeply_rooted_elements.enabled||talent.ascendance.enabled||talent.primordial_wave.enabled||talent.searing_flames.enabled||talent.magma_chamber.enabled)&(!buff.master_of_the_elements.up&(buff.stormkeeper.up||cooldown.stormkeeper.remains=0)||!talent.surge_of_power.enabled)\n# Spread Flame Shock to multiple targets only if talents were selected that benefit from it.\nactions.single_target+=/flame_shock,cycle_targets=1,if=active_dot.flame_shock<cycle_enemies&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&refreshable&(talent.deeply_rooted_elements.enabled||talent.ascendance.enabled||talent.primordial_wave.enabled||talent.searing_flames.enabled||talent.magma_chamber.enabled)&(buff.surge_of_power.up&!buff.stormkeeper.up&!cooldown.stormkeeper.remains=0||!talent.surge_of_power.enabled)\n# {EB/Swelling/SoP Lightning build} Start SK window if you have enough maelstrom to: EB > SoP SK_LB > LvB > EB.\nactions.single_target+=/stormkeeper,if=!buff.ascendance.up&!buff.stormkeeper.up&maelstrom>=116&talent.elemental_blast.enabled&talent.surge_of_power.enabled&talent.swelling_maelstrom.enabled&!talent.lava_surge.enabled&!talent.echo_of_the_elements.enabled&!talent.primordial_surge.enabled\n# {EB/SoP Lightning builds} Use Stormkeeper if you already got Surge of Power buff rolling.\nactions.single_target+=/stormkeeper,if=!buff.ascendance.up&!buff.stormkeeper.up&buff.surge_of_power.up&!talent.lava_surge.enabled&!talent.echo_of_the_elements.enabled&!talent.primordial_surge.enabled\nactions.single_target+=/stormkeeper,if=!buff.ascendance.up&!buff.stormkeeper.up&(!talent.surge_of_power.enabled||!talent.elemental_blast.enabled||talent.lava_surge.enabled||talent.echo_of_the_elements.enabled||talent.primordial_surge.enabled)\nactions.single_target+=/ascendance,if=!buff.stormkeeper.up\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.stormkeeper.up&buff.surge_of_power.up\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lava_beam,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&buff.stormkeeper.up&!talent.surge_of_power.enabled\n# Stormkeeper is strong and should be used.\nactions.single_target+=/chain_lightning,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&buff.stormkeeper.up&!talent.surge_of_power.enabled\n# Buff stormkeeper with MotE when not using Surge.\nactions.single_target+=/lava_burst,if=buff.stormkeeper.up&!buff.master_of_the_elements.up&!talent.surge_of_power.enabled&talent.master_of_the_elements.enabled\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.stormkeeper.up&!talent.surge_of_power.enabled&buff.master_of_the_elements.up\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.stormkeeper.up&!talent.surge_of_power.enabled&!talent.master_of_the_elements.enabled\n# Surge of Power is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.surge_of_power.up\nactions.single_target+=/icefury,if=talent.electrified_shocks.enabled\nactions.single_target+=/frost_shock,if=buff.icefury.up&talent.electrified_shocks.enabled&(debuff.electrified_shocks.remains<2||buff.icefury.remains<=gcd)\nactions.single_target+=/frost_shock,if=buff.icefury.up&talent.electrified_shocks.enabled&maelstrom>=50&debuff.electrified_shocks.remains<2*gcd&buff.stormkeeper.up\nactions.single_target+=/lava_beam,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&buff.power_of_the_maelstrom.up&buff.ascendance.remains>cast_time\n# {EB/SoP Lightning builds} Spend extra Frost Shock if it gives you the ability to get to next spender without using Stormkeeper charge.\nactions.single_target+=/frost_shock,if=buff.icefury.up&buff.stormkeeper.up&!talent.lava_surge.enabled&!talent.echo_of_the_elements.enabled&!talent.primordial_surge.enabled&talent.elemental_blast.enabled&(maelstrom>=61&maelstrom<75&cooldown.lava_burst.remains>gcd||maelstrom>=49&maelstrom<63&cooldown.lava_burst.ready)\n# {ES/SoP Lightning builds} Spend extra Frost Shock if it gives you the ability to get to next spender without using Stormkeeper charge.\nactions.single_target+=/frost_shock,if=buff.icefury.up&buff.stormkeeper.up&!talent.lava_surge.enabled&!talent.echo_of_the_elements.enabled&!talent.elemental_blast.enabled&(maelstrom>=36&maelstrom<50&cooldown.lava_burst.remains>gcd||maelstrom>=24&maelstrom<38&cooldown.lava_burst.ready)\n# Windspeaker's Lava Resurgence is strong. Don't sit on it...Unless it's Lightning build and you save it to buff Elemental Blast.\nactions.single_target+=/lava_burst,if=buff.windspeakers_lava_resurgence.up&(talent.echo_of_the_elements.enabled||talent.lava_surge.enabled||talent.primordial_surge.enabled||maelstrom>=63&talent.master_of_the_elements.enabled||maelstrom>=38&buff.echoes_of_great_sundering.up&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)||!talent.elemental_blast.enabled)\n# Lava Surge is neat. Utilize it...Unless it's Lightning build and you save it to buff Elemental Blast.\nactions.single_target+=/lava_burst,if=cooldown_react&buff.lava_surge.up&(talent.echo_of_the_elements.enabled||talent.lava_surge.enabled||talent.primordial_surge.enabled||!talent.master_of_the_elements.enabled||!talent.elemental_blast.enabled)\n# Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.\nactions.single_target+=/lava_burst,if=talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&maelstrom>=50&!talent.swelling_maelstrom.enabled&maelstrom<=80\n# Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.\nactions.single_target+=/lava_burst,if=talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&(maelstrom>=75||maelstrom>=50&!talent.elemental_blast.enabled)&talent.swelling_maelstrom.enabled&maelstrom<=130\n# Use the talents you selected. Did you invest only 1 point in it? In this case this'll be a DPS decrease. Additionally Elemental Blast is stronger than EoGS. In this case don't use Earthquake on single target.\nactions.single_target+=/earthquake,if=buff.echoes_of_great_sundering.up&(!talent.elemental_blast.enabled&active_enemies<2||active_enemies>1)\n# Use Earthquake against two enemies unless you have to alternate because of Echoes of Great Sundering.\nactions.single_target+=/earthquake,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&!talent.echoes_of_great_sundering.enabled&!talent.elemental_blast.enabled\nactions.single_target+=/elemental_blast\nactions.single_target+=/earth_shock\n# Utilize present buffs.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&buff.flux_melting.up&active_enemies>1\n# Single target Lava Burst is stronk.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&active_enemies=1&talent.deeply_rooted_elements.enabled\n# Spread out your Icefury usage if you can get more use out of accompanied buffs.\nactions.single_target+=/frost_shock,if=buff.icefury.up&talent.flux_melting.enabled&!buff.flux_melting.up\n# Spread out your Icefury usage if you can get more use out of accompanied buffs.\nactions.single_target+=/frost_shock,if=buff.icefury.up&(talent.electrified_shocks.enabled&debuff.electrified_shocks.remains<2||buff.icefury.remains<6)\n# Use Lava Burst normally with fire builds. Save it as much as possible in lightning builds unless you cant use Lightning Bolt without wasting Stormkeeper charges.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&talent.echo_of_the_elements.enabled||talent.lava_surge.enabled||talent.primordial_surge.enabled||!talent.elemental_blast.enabled||!talent.master_of_the_elements.enabled||buff.stormkeeper.up\n# Utilize the Power of the Maelstrom buff if your Chain Lightning is empowered by Unrelenting Calamity.\nactions.single_target+=/chain_lightning,if=buff.power_of_the_maelstrom.up&talent.unrelenting_calamity.enabled&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# Utilize the Power of the Maelstrom buff if your Lightning Bolt is empowered by Unrelenting Calamity.\nactions.single_target+=/lightning_bolt,if=buff.power_of_the_maelstrom.up&talent.unrelenting_calamity.enabled\nactions.single_target+=/icefury\n# Spam Chain Lightning if Storm Elemental is active. But honor all previous priorities.\nactions.single_target+=/chain_lightning,if=pet.storm_elemental.active&debuff.lightning_rod.up&(debuff.electrified_shocks.up||buff.power_of_the_maelstrom.up)&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# If you have MotE up and aren't at risk of capping LvB, spend MotE on FrS/LB.\nactions.single_target+=/frost_shock,if=buff.icefury.up&buff.master_of_the_elements.up&!buff.lava_surge.up&!talent.electrified_shocks.enabled&!talent.flux_melting.enabled&cooldown.lava_burst.charges_fractional<1.0&talent.echo_of_the_elements.enabled\nactions.single_target+=/frost_shock,if=buff.icefury.up&talent.flux_melting.enabled\n# If you have MotE up and aren't at risk of capping LvB, spend MotE on Chain Lightning.\nactions.single_target+=/chain_lightning,if=buff.master_of_the_elements.up&!buff.lava_surge.up&(cooldown.lava_burst.charges_fractional<1.0&talent.echo_of_the_elements.enabled)&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# If you have MotE up and aren't at risk of capping LvB, spend MotE on FrS/LB.\nactions.single_target+=/lightning_bolt,if=buff.master_of_the_elements.up&!buff.lava_surge.up&(cooldown.lava_burst.charges_fractional<1.0&talent.echo_of_the_elements.enabled)\n# Use your Icefury buffs if you didn't improve the talent.\nactions.single_target+=/frost_shock,if=buff.icefury.up&!talent.electrified_shocks.enabled&!talent.flux_melting.enabled\n# Casting Chain Lightning at two targets is more efficient than Lightning Bolt.\nactions.single_target+=/chain_lightning,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# Filler spell. Always available. Always the bottom line.\nactions.single_target+=/lightning_bolt\nactions.single_target+=/flame_shock,moving=1,cycle_targets=1,if=refreshable\nactions.single_target+=/flame_shock,moving=1,if=movement.distance>6\n# Frost Shock is our movement filler.\nactions.single_target+=/frost_shock,moving=1",
				},
				["Vengeance"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230826,
					["spec"] = 581,
					["desc"] = "2023-08-26: Update to simplified priority list.\n\n2023-08-07: Beacon/DFB usage adjusted.\n\n2023-07-31: SimC adjusted Meta and Beacon usage.\n\n2023-07-20: Add missing single-target lines and updates.\n\n2023-07-19: Import updates from SimC and flatten priority (don't break out into action lists that don't improve efficiency).\n\n2023-07-16: Implement Vengeance overhaul from SimC.\n\n2023-07-11: Patch 10.1.5 update.\n\n2023-05-20: Added trinkets.",
					["lists"] = {
						["single_target"] = {
							{
								["enabled"] = true,
								["description"] = "Single Target",
								["criteria"] = "! ( talent.demonic.enabled & buff.metamorphosis.up )",
								["action"] = "fel_devastation",
							}, -- [1]
							{
								["action"] = "soul_carver",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "the_hunt",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "elysian_decree",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & variable.fd & soul_fragments <= 4 & soul_fragments >= 1",
								["action"] = "fracture",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 4",
								["action"] = "spirit_bomb",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.focused_cleave.enabled",
								["action"] = "soul_cleave",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "variable.fd & soul_fragments >= 3",
								["action"] = "spirit_bomb",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 3 & soul_fragments >= 1",
								["action"] = "fracture",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 1",
								["action"] = "soul_cleave",
							}, -- [10]
						},
						["big_aoe"] = {
							{
								["enabled"] = true,
								["description"] = "6+ targets",
								["criteria"] = "( active_enemies <= 7 & soul_fragments >= 4 ) || ( active_enemies > 7 & soul_fragments >= 3 )",
								["action"] = "spirit_bomb",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! ( talent.demonic.enabled & buff.metamorphosis.up )",
								["action"] = "fel_devastation",
							}, -- [2]
							{
								["action"] = "the_hunt",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( soul_fragments + variable.incoming_souls ) <= 2",
								["action"] = "elysian_decree",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( soul_fragments + variable.incoming_souls ) <= 3",
								["action"] = "soul_carver",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 2",
								["action"] = "fracture",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 3",
								["action"] = "spirit_bomb",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 2 & variable.incoming_souls = 0",
								["action"] = "soul_cleave",
							}, -- [8]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "disrupt",
							}, -- [1]
							{
								["action"] = "consume_magic",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.fel_devastation.remains",
								["var_name"] = "next_fire_cd_time",
								["description"] = "When will the next fire damage cooldown be available?",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "min",
								["action"] = "variable",
								["value"] = "cooldown.soul_carver.remains",
								["var_name"] = "next_fire_cd_time",
								["criteria"] = "talent.soul_carver.enabled",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.fiery_demise.enabled & dot.fiery_brand.ticking",
								["var_name"] = "fd",
								["description"] = "Fiery Demise is up",
							}, -- [5]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["action"] = "infernal_strike",
								["criteria"] = "charges = max_charges & target.distance > 10",
							}, -- [6]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["action"] = "demon_spikes",
								["criteria"] = "! buff.demon_spikes.up & tanking",
							}, -- [7]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["action"] = "metamorphosis",
								["criteria"] = "talent.first_of_the_illidari.enabled & ( cooldown.beacon_to_the_beyond.remains < 10 || fight_remains <= 20 || ! equipped.beacon_to_the_beyond || fight_remains % 120 > 5 & fight_remains % 120 < 30 )",
							}, -- [8]
							{
								["use_off_gcd"] = 1,
								["action"] = "infernal_strike",
								["enabled"] = true,
							}, -- [9]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [10]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["name"] = "elementium_pocket_anvil",
								["action"] = "elementium_pocket_anvil",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["criteria"] = "! talent.first_of_the_illidari.enabled || buff.metamorphosis.up || fight_remains <= 10 || cooldown.metamorphosis.remains > 25",
								["name"] = "beacon_to_the_beyond",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "dragonfire_bomb_dispenser",
								["use_off_gcd"] = 1,
								["criteria"] = "cooldown.beacon_to_the_beyond.remains > 5 || ! equipped.beacon_to_the_beyond",
								["name"] = "dragonfire_bomb_dispenser",
							}, -- [13]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "( ! ticking & active_dot.fiery_brand = 0 ) || charges >= 2 || ( full_recharge_time <= cast_time + gcd.remains )",
								["action"] = "fiery_brand",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= ( 5 - soul_fragments )",
								["action"] = "bulk_extraction",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 5",
								["action"] = "spirit_bomb",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & buff.recrimination.up",
								["action"] = "fracture",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "( full_recharge_time <= cast_time + gcd.remains )",
								["action"] = "fracture",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! talent.fallout.enabled || soul_fragments < 5",
								["action"] = "immolation_aura",
							}, -- [20]
							{
								["action"] = "sigil_of_flame",
								["enabled"] = true,
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "talent.demonic.enabled & ! buff.metamorphosis.up & ! cooldown.fel_devastation.up",
								["action"] = "metamorphosis",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "single_target",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & active_enemies <= 5",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "small_aoe",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 6",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "big_aoe",
							}, -- [25]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "filler",
							}, -- [26]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "sigil_of_flame",
							}, -- [1]
							{
								["action"] = "immolation_aura",
								["enabled"] = true,
							}, -- [2]
						},
						["small_aoe"] = {
							{
								["enabled"] = true,
								["description"] = "2-5 targets",
								["criteria"] = "! ( talent.demonic.enabled & buff.metamorphosis.up )",
								["action"] = "fel_devastation",
							}, -- [1]
							{
								["action"] = "the_hunt",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( soul_fragments + variable.incoming_souls ) <= 2",
								["action"] = "elysian_decree",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( soul_fragments + variable.incoming_souls ) <= 3",
								["action"] = "soul_carver",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 3 & soul_fragments >= 1",
								["action"] = "fracture",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 3",
								["action"] = "spirit_bomb",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( talent.focused_cleave.enabled || ( soul_fragments <= 2 & variable.incoming_souls = 0 ) )",
								["action"] = "soul_cleave",
							}, -- [7]
						},
						["filler"] = {
							{
								["enabled"] = true,
								["description"] = "Filler",
								["action"] = "sigil_of_flame",
							}, -- [1]
							{
								["action"] = "immolation_aura",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "fracture",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "shear",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "felblade",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments >= 3",
								["action"] = "spirit_bomb",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "soul_fragments <= 1",
								["action"] = "soul_cleave",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "gcd.remains >= 0.5 * gcd.max",
								["action"] = "throw_glaive",
							}, -- [8]
						},
					},
					["version"] = 20230826,
					["warnings"] = "The import for 'single_target' required some automated changes.\nLine 1: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 7: Converted 'talent.focused_cleave' to 'talent.focused_cleave.enabled' (1x).\n\nThe import for 'big_aoe' required some automated changes.\nLine 2: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 4: Converted 'talent.soul_carver' to 'talent.soul_carver.enabled' (1x).\nLine 5: Converted 'talent.fiery_demise' to 'talent.fiery_demise.enabled' (1x).\nLine 8: Converted 'talent.first_of_the_illidari' to 'talent.first_of_the_illidari.enabled' (1x).\nLine 8: Converted 'trinket.beacon_to_the_beyond.cooldown.remains' to 'cooldown.beacon_to_the_beyond.remains'.\nLine 8: Converted operations in 'talent.first_of_the_illidari.enabled&(cooldown.beacon_to_the_beyond.remains<10||fight_remains<=20||!equipped.beacon_to_the_beyond||fight_remains%%120>5&fight_remains%%120<30)' to 'talent.first_of_the_illidari.enabled&(cooldown.beacon_to_the_beyond.remains<10||fight_remains<=20||!equipped.beacon_to_the_beyond||fight_remains%120>5&fight_remains%120<30)'.\nLine 12: Converted 'talent.first_of_the_illidari' to 'talent.first_of_the_illidari.enabled' (1x).\nLine 13: Converted 'trinket.beacon_to_the_beyond.cooldown.remains' to 'cooldown.beacon_to_the_beyond.remains'.\nLine 20: Converted 'talent.fallout' to 'talent.fallout.enabled' (1x).\nLine 22: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\n\nThe import for 'small_aoe' required some automated changes.\nLine 1: Converted 'talent.demonic' to 'talent.demonic.enabled' (1x).\nLine 7: Converted 'talent.focused_cleave' to 'talent.focused_cleave.enabled' (1x).\n\nImported 6 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/sigil_of_flame\nactions.precombat+=/immolation_aura\n\nactions+=/disrupt\nactions+=/consume_magic\n# When will the next fire damage cooldown be available?\nactions+=/variable,name=next_fire_cd_time,value=cooldown.fel_devastation.remains\nactions+=/variable,name=next_fire_cd_time,op=min,value=cooldown.soul_carver.remains,if=talent.soul_carver\n### Variable 'incoming_souls' moved into the addon module.\n## actions+=/variable,name=incoming_souls,op=reset\n## actions+=/variable,name=incoming_souls,op=add,value=2,if=prev_gcd.1.fracture&!buff.metamorphosis.up\n## actions+=/variable,name=incoming_souls,op=add,value=3,if=prev_gcd.1.fracture&buff.metamorphosis.up\n## actions+=/variable,name=incoming_souls,op=add,value=2,if=talent.soul_sigils&(prev_gcd.2.sigil_of_flame||prev_gcd.2.sigil_of_silence||prev_gcd.2.sigil_of_chains||prev_gcd.2.elysian_decree)\n## actions+=/variable,name=incoming_souls,op=add,value=active_enemies>?3,if=talent.elysian_decree&prev_gcd.2.elysian_decree\n## actions+=/variable,name=incoming_souls,op=add,value=0.6*active_enemies>?5,if=talent.fallout&prev_gcd.1.immolation_aura\n## actions+=/variable,name=incoming_souls,op=add,value=active_enemies>?5,if=talent.bulk_extraction&prev_gcd.1.bulk_extraction\n## actions+=/variable,name=incoming_souls,op=add,value=3-(cooldown.soul_carver.duration-ceil(cooldown.soul_carver.remains)),if=talent.soul_carver&cooldown.soul_carver.remains>57\n# Fiery Demise is up\nactions+=/variable,name=fd,value=talent.fiery_demise&dot.fiery_brand.ticking\nactions+=/infernal_strike,use_off_gcd=1,if=charges=max_charges&target.distance>10\nactions+=/demon_spikes,use_off_gcd=1,if=!buff.demon_spikes.up&tanking\n## Externals - pruned.\nactions+=/metamorphosis,use_off_gcd=1,if=talent.first_of_the_illidari&(trinket.beacon_to_the_beyond.cooldown.remains<10||fight_remains<=20||!equipped.beacon_to_the_beyond||fight_remains%%120>5&fight_remains%%120<30)\nactions+=/infernal_strike,use_off_gcd=1\nactions+=/potion\n## Trinkets\nactions+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1\nactions+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=!talent.first_of_the_illidari||buff.metamorphosis.up||fight_remains<=10||cooldown.metamorphosis.remains>25\nactions+=/use_item,name=dragonfire_bomb_dispenser,use_off_gcd=1,if=trinket.beacon_to_the_beyond.cooldown.remains>5||!equipped.beacon_to_the_beyond\nactions+=/use_items\n## Maintenance & upkeep\nactions+=/fiery_brand,if=(!ticking&active_dot.fiery_brand=0)||charges>=2||(full_recharge_time<=cast_time+gcd.remains)\nactions+=/bulk_extraction,if=active_enemies>=(5-soul_fragments)\nactions+=/spirit_bomb,if=soul_fragments>=5\nactions+=/fracture,cycle_targets=1,if=active_enemies>1&buff.recrimination.up\nactions+=/fracture,if=(full_recharge_time<=cast_time+gcd.remains)\nactions+=/immolation_aura,if=!talent.fallout||soul_fragments<5\nactions+=/sigil_of_flame\nactions+=/metamorphosis,if=talent.demonic&!buff.metamorphosis.up&!cooldown.fel_devastation.up\nactions+=/call_action_list,name=single_target,strict=1,if=active_enemies=1\nactions+=/call_action_list,name=small_aoe,strict=1,if=active_enemies>1&active_enemies<=5\nactions+=/call_action_list,name=big_aoe,strict=1,if=active_enemies>=6\nactions+=/call_action_list,name=filler\n\n# Single Target\nactions.single_target+=/fel_devastation,if=!(talent.demonic&buff.metamorphosis.up)\nactions.single_target+=/soul_carver\nactions.single_target+=/the_hunt\nactions.single_target+=/elysian_decree\nactions.single_target+=/fracture,if=set_bonus.tier30_4pc&variable.fd&soul_fragments<=4&soul_fragments>=1\nactions.single_target+=/spirit_bomb,if=soul_fragments>=4\nactions.single_target+=/soul_cleave,if=talent.focused_cleave\nactions.single_target+=/spirit_bomb,if=variable.fd&soul_fragments>=3\nactions.single_target+=/fracture,if=soul_fragments<=3&soul_fragments>=1\nactions.single_target+=/soul_cleave,if=soul_fragments<=1\n\n# 2-5 targets\nactions.small_aoe+=/fel_devastation,if=!(talent.demonic&buff.metamorphosis.up)\nactions.small_aoe+=/the_hunt\nactions.small_aoe+=/elysian_decree,if=(soul_fragments+variable.incoming_souls)<=2\nactions.small_aoe+=/soul_carver,if=(soul_fragments+variable.incoming_souls)<=3\nactions.small_aoe+=/fracture,if=soul_fragments<=3&soul_fragments>=1\nactions.small_aoe+=/spirit_bomb,if=soul_fragments>=3\nactions.small_aoe+=/soul_cleave,if=(talent.focused_cleave||(soul_fragments<=2&variable.incoming_souls=0))\n\n# 6+ targets\nactions.big_aoe+=/spirit_bomb,if=(active_enemies<=7&soul_fragments>=4)||(active_enemies>7&soul_fragments>=3)\nactions.big_aoe+=/fel_devastation,if=!(talent.demonic&buff.metamorphosis.up)\nactions.big_aoe+=/the_hunt\nactions.big_aoe+=/elysian_decree,if=(soul_fragments+variable.incoming_souls)<=2\nactions.big_aoe+=/soul_carver,if=(soul_fragments+variable.incoming_souls)<=3\nactions.big_aoe+=/fracture,if=soul_fragments>=2\nactions.big_aoe+=/spirit_bomb,if=soul_fragments>=3\nactions.big_aoe+=/soul_cleave,if=soul_fragments<=2&variable.incoming_souls=0\n\n# Filler\nactions.filler+=/sigil_of_flame\nactions.filler+=/immolation_aura\nactions.filler+=/fracture\nactions.filler+=/shear\nactions.filler+=/felblade\nactions.filler+=/spirit_bomb,if=soul_fragments>=3\nactions.filler+=/soul_cleave,if=soul_fragments<=1\nactions.filler+=/throw_glaive,if=gcd.remains>=0.5*gcd.max",
				},
				["Fury"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230711,
					["spec"] = 72,
					["desc"] = "2023-07-11:  Update trinkets for 10.1.5.\n\n2023-05-20:  Trinket/CD update.\n\n2023-05-14:  Add slider for Tier 30 crit % setting.\n\n2023-05-04:  Updates related to Tier 30.\n\n2023-05-02:  Update for 10.1.\n\n2023-03-26:  Include Spell Reflection; remove Heroic Leap.",
					["lists"] = {
						["single_target"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 1 & talent.improved_whirlwind.enabled & ! buff.meat_cleaver.up || raid_event.adds.in < 2 & talent.improved_whirlwind.enabled & ! buff.meat_cleaver.up",
								["action"] = "whirlwind",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.ashen_juggernaut.up & buff.ashen_juggernaut.remains < gcd.max",
								["action"] = "execute",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & ( spell_targets.whirlwind > 1 || raid_event.adds.in > 15 )",
								["action"] = "thunderous_roar",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & ( spell_targets.whirlwind > 1 || raid_event.adds.in > 15 ) & ( talent.dancing_blades.enabled & buff.dancing_blades.remains < 5 || ! talent.dancing_blades.enabled )",
								["action"] = "odyns_fury",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "talent.anger_management.enabled & ( buff.recklessness.up || buff.enrage.remains < gcd.max || rage.pct > 85 )",
								["action"] = "rampage",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & action.bloodthirst.crit_pct_current >= bloodthirst_crit_threshold",
								["action"] = "bloodbath",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & action.bloodthirst.crit_pct_current >= bloodthirst_crit_threshold",
								["action"] = "bloodthirst",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up",
								["action"] = "execute",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up || talent.tenderize.enabled",
								["action"] = "onslaught",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.wrath_and_fury.enabled & buff.enrage.up",
								["action"] = "crushing_blow",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "talent.reckless_abandon.enabled & ( buff.recklessness.up || buff.enrage.remains < gcd.max || rage.pct > 85 )",
								["action"] = "rampage",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "talent.anger_management.enabled",
								["action"] = "rampage",
							}, -- [12]
							{
								["action"] = "execute",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & talent.reckless_abandon.enabled & ! talent.wrath_and_fury.enabled",
								["action"] = "bloodbath",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.down || ( talent.annihilator.enabled & ! buff.recklessness.up )",
								["action"] = "bloodthirst",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1 & talent.wrath_and_fury.enabled",
								["action"] = "raging_blow",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1 & talent.wrath_and_fury.enabled",
								["action"] = "crushing_blow",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.down || ! talent.wrath_and_fury.enabled",
								["action"] = "bloodbath",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & talent.reckless_abandon.enabled",
								["action"] = "crushing_blow",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! talent.wrath_and_fury.enabled",
								["action"] = "bloodthirst",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1",
								["action"] = "raging_blow",
							}, -- [21]
							{
								["action"] = "rampage",
								["enabled"] = true,
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.annihilator.enabled",
								["action"] = "slam",
							}, -- [23]
							{
								["action"] = "bloodbath",
								["enabled"] = true,
							}, -- [24]
							{
								["action"] = "raging_blow",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "crushing_blow",
								["enabled"] = true,
							}, -- [26]
							{
								["action"] = "bloodthirst",
								["enabled"] = true,
							}, -- [27]
							{
								["action"] = "whirlwind",
								["enabled"] = true,
							}, -- [28]
							{
								["action"] = "wrecking_throw",
								["enabled"] = true,
							}, -- [29]
							{
								["action"] = "storm_bolt",
								["enabled"] = true,
							}, -- [30]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "berserker_stance",
							}, -- [1]
							{
								["action"] = "battle_shout",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "algethar_puzzle_box",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! talent.titans_torment.enabled",
								["action"] = "avatar",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! talent.reckless_abandon.enabled",
								["action"] = "recklessness",
							}, -- [5]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "charge",
								["criteria"] = "time <= 0.5 || movement.distance > 5",
							}, -- [1]
							{
								["action"] = "pummel",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "spell_reflection",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.recklessness.remains < 3 || ( talent.anger_management.enabled & cooldown.avatar.remains < 3 )",
								["action"] = "algethar_puzzle_box",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "vial_of_animated_blood",
							}, -- [6]
							{
								["use_off_gcd"] = 1,
								["action"] = "elementium_pocket_anvil",
								["enabled"] = true,
							}, -- [7]
							{
								["use_off_gcd"] = 1,
								["action"] = "beacon_to_the_beyond",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "irideus_fragment",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.down",
								["action"] = "manic_grieftorch",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.recklessness.remains > 10 & ( buff.recklessness.up || target.time_to_die < 11 || target.time_to_die > 65 )",
								["action"] = "gladiators_badge",
							}, -- [11]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.recklessness.remains < 3 || buff.recklessness.up",
								["action"] = "ravager",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.recklessness.down",
								["action"] = "lights_judgment",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.recklessness.up",
								["action"] = "berserking",
							}, -- [15]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [16]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [17]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "talent.titans_torment.enabled & buff.enrage.up & raid_event.adds.in > 15 || talent.berserkers_torment.enabled & buff.enrage.up & ! buff.avatar.up & raid_event.adds.in > 15 || ! talent.titans_torment.enabled & ! talent.berserkers_torment.enabled & ( buff.recklessness.up || boss & fight_remains < 20 )",
								["action"] = "avatar",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! raid_event.adds.exists & ( talent.annihilator.enabled & cooldown.avatar.remains < 1 || cooldown.avatar.remains > 40 || ! talent.avatar.enabled || target.time_to_die < 12 )",
								["action"] = "recklessness",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "! raid_event.adds.exists & ! talent.annihilator.enabled || boss & fight_remains < 12",
								["action"] = "recklessness",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & ( buff.recklessness.up || buff.avatar.up || boss & fight_remains < 20 || active_enemies > 1 ) & raid_event.adds.in > 15",
								["action"] = "spear_of_bastion",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "multi_target",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "single_target",
							}, -- [24]
						},
						["multi_target"] = {
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15 || active_enemies > 1 || boss & fight_remains < 12",
								["action"] = "recklessness",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & talent.titanic_rage.enabled & ( ! buff.meat_cleaver.up || buff.avatar.up || buff.recklessness.up )",
								["action"] = "odyns_fury",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 1 & talent.improved_whirlwind.enabled & ! buff.meat_cleaver.up || raid_event.adds.in < 2 & talent.improved_whirlwind.enabled & ! buff.meat_cleaver.up",
								["action"] = "whirlwind",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.ashen_juggernaut.up & buff.ashen_juggernaut.remains < gcd.max",
								["action"] = "execute",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & ( spell_targets.whirlwind > 1 || raid_event.adds.in > 15 )",
								["action"] = "thunderous_roar",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & buff.enrage.up & raid_event.adds.in > 15",
								["action"] = "odyns_fury",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & action.bloodthirst.crit_pct_current >= bloodthirst_crit_threshold",
								["action"] = "bloodbath",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc & action.bloodthirst.crit_pct_current >= bloodthirst_crit_threshold",
								["action"] = "bloodthirst",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.wrath_and_fury.enabled & buff.enrage.up",
								["action"] = "crushing_blow",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up",
								["action"] = "execute",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & raid_event.adds.in > 15",
								["action"] = "odyns_fury",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.recklessness.up || buff.enrage.remains < gcd.max || ( rage > 110 & talent.overwhelming_rage.enabled ) || ( rage > 80 & ! talent.overwhelming_rage.enabled )",
								["action"] = "rampage",
							}, -- [12]
							{
								["action"] = "execute",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & talent.reckless_abandon.enabled & ! talent.wrath_and_fury.enabled",
								["action"] = "bloodbath",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.down || ( talent.annihilator.enabled & ! buff.recklessness.up )",
								["action"] = "bloodthirst",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "! talent.annihilator.enabled & buff.enrage.up || talent.tenderize.enabled",
								["action"] = "onslaught",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1 & talent.wrath_and_fury.enabled",
								["action"] = "raging_blow",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "charges > 1 & talent.wrath_and_fury.enabled",
								["action"] = "crushing_blow",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.down || ! talent.wrath_and_fury.enabled",
								["action"] = "bloodbath",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.enrage.up & talent.reckless_abandon.enabled",
								["action"] = "crushing_blow",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "! talent.wrath_and_fury.enabled",
								["action"] = "bloodthirst",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "charges >= 1",
								["action"] = "raging_blow",
							}, -- [22]
							{
								["action"] = "rampage",
								["enabled"] = true,
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "talent.annihilator.enabled",
								["action"] = "slam",
							}, -- [24]
							{
								["action"] = "bloodbath",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "raging_blow",
								["enabled"] = true,
							}, -- [26]
							{
								["action"] = "crushing_blow",
								["enabled"] = true,
							}, -- [27]
							{
								["action"] = "whirlwind",
								["enabled"] = true,
							}, -- [28]
						},
					},
					["version"] = 20230711,
					["warnings"] = "The import for 'single_target' required some automated changes.\nLine 1: Converted 'talent.improved_whirlwind' to 'talent.improved_whirlwind.enabled' (1x).\nLine 1: Converted 'talent.improved_whirlwind' to 'talent.improved_whirlwind.enabled' (1x).\nLine 4: Converted 'talent.dancing_blades' to 'talent.dancing_blades.enabled' (1x).\nLine 4: Converted 'talent.dancing_blades' to 'talent.dancing_blades.enabled' (1x).\nLine 5: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 9: Converted 'talent.tenderize' to 'talent.tenderize.enabled' (1x).\nLine 10: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 11: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 12: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 14: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 14: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 15: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\nLine 16: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 17: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 18: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 19: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 20: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 23: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\n\nThe import for 'multi_target' required some automated changes.\nLine 2: Converted 'talent.titanic_rage' to 'talent.titanic_rage.enabled' (1x).\nLine 3: Converted 'talent.improved_whirlwind' to 'talent.improved_whirlwind.enabled' (1x).\nLine 3: Converted 'talent.improved_whirlwind' to 'talent.improved_whirlwind.enabled' (1x).\nLine 9: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 12: Converted 'talent.overwhelming_rage' to 'talent.overwhelming_rage.enabled' (1x).\nLine 12: Converted 'talent.overwhelming_rage' to 'talent.overwhelming_rage.enabled' (1x).\nLine 14: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 14: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 15: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\nLine 16: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\nLine 16: Converted 'talent.tenderize' to 'talent.tenderize.enabled' (1x).\nLine 17: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 18: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 19: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 20: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\nLine 21: Converted 'talent.wrath_and_fury' to 'talent.wrath_and_fury.enabled' (1x).\nLine 24: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 5: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 19: Converted 'talent.titans_torment' to 'talent.titans_torment.enabled' (1x).\nLine 19: Converted 'talent.berserkers_torment' to 'talent.berserkers_torment.enabled' (1x).\nLine 19: Converted 'talent.titans_torment' to 'talent.titans_torment.enabled' (1x).\nLine 19: Converted 'talent.berserkers_torment' to 'talent.berserkers_torment.enabled' (1x).\nLine 20: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\nLine 20: Converted 'talent.avatar' to 'talent.avatar.enabled' (1x).\nLine 21: Converted 'talent.annihilator' to 'talent.annihilator.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 4: Converted 'talent.titans_torment' to 'talent.titans_torment.enabled' (1x).\nLine 5: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\n\nImported 4 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/berserker_stance\nactions.precombat+=/battle_shout\nactions.precombat+=/algethar_puzzle_box\nactions.precombat+=/avatar,if=!talent.titans_torment\nactions.precombat+=/recklessness,if=!talent.reckless_abandon\n\nactions+=/charge,if=time<=0.5||movement.distance>5\n## actions+=/heroic_leap,if=(raid_event.movement.distance>25&raid_event.movement.in>45)\nactions+=/pummel\nactions+=/spell_reflection\nactions+=/potion\nactions+=/algethar_puzzle_box,if=cooldown.recklessness.remains<3||(talent.anger_management&cooldown.avatar.remains<3)\nactions+=/vial_of_animated_blood,if=buff.avatar.up\nactions+=/elementium_pocket_anvil,use_off_gcd=1\nactions+=/beacon_to_the_beyond,use_off_gcd=1\nactions+=/irideus_fragment,if=buff.avatar.up\nactions+=/manic_grieftorch,if=buff.avatar.down\nactions+=/gladiators_badge,if=cooldown.recklessness.remains>10&(buff.recklessness.up||target.time_to_die<11||target.time_to_die>65)\nactions+=/use_items\nactions+=/ravager,if=cooldown.recklessness.remains<3||buff.recklessness.up\nactions+=/lights_judgment,if=buff.recklessness.down\nactions+=/berserking,if=buff.recklessness.up\nactions+=/blood_fury\nactions+=/fireblood\nactions+=/ancestral_call\n## actions+=/bag_of_tricks,if=buff.recklessness.down&buff.enrage.up\nactions+=/avatar,if=talent.titans_torment&buff.enrage.up&raid_event.adds.in>15||talent.berserkers_torment&buff.enrage.up&!buff.avatar.up&raid_event.adds.in>15||!talent.titans_torment&!talent.berserkers_torment&(buff.recklessness.up||boss&fight_remains<20)\nactions+=/recklessness,if=!raid_event.adds.exists&(talent.annihilator&cooldown.avatar.remains<1||cooldown.avatar.remains>40||!talent.avatar||target.time_to_die<12)\nactions+=/recklessness,if=!raid_event.adds.exists&!talent.annihilator||boss&fight_remains<12\nactions+=/spear_of_bastion,if=buff.enrage.up&(buff.recklessness.up||buff.avatar.up||boss&fight_remains<20||active_enemies>1)&raid_event.adds.in>15\nactions+=/call_action_list,name=multi_target,strict=1,if=active_enemies>2\nactions+=/call_action_list,name=single_target\n\nactions.multi_target+=/recklessness,if=raid_event.adds.in>15||active_enemies>1||boss&fight_remains<12\nactions.multi_target+=/odyns_fury,if=active_enemies>1&talent.titanic_rage&(!buff.meat_cleaver.up||buff.avatar.up||buff.recklessness.up)\nactions.multi_target+=/whirlwind,if=spell_targets.whirlwind>1&talent.improved_whirlwind&!buff.meat_cleaver.up||raid_event.adds.in<2&talent.improved_whirlwind&!buff.meat_cleaver.up\nactions.multi_target+=/execute,if=buff.ashen_juggernaut.up&buff.ashen_juggernaut.remains<gcd\nactions.multi_target+=/thunderous_roar,if=buff.enrage.up&(spell_targets.whirlwind>1||raid_event.adds.in>15)\nactions.multi_target+=/odyns_fury,if=active_enemies>1&buff.enrage.up&raid_event.adds.in>15\nactions.multi_target+=/bloodbath,if=set_bonus.tier30_4pc&action.bloodthirst.crit_pct_current>=bloodthirst_crit_threshold\nactions.multi_target+=/bloodthirst,if=set_bonus.tier30_4pc&action.bloodthirst.crit_pct_current>=bloodthirst_crit_threshold\nactions.multi_target+=/crushing_blow,if=talent.wrath_and_fury&buff.enrage.up\nactions.multi_target+=/execute,if=buff.enrage.up\nactions.multi_target+=/odyns_fury,if=buff.enrage.up&raid_event.adds.in>15\nactions.multi_target+=/rampage,if=buff.recklessness.up||buff.enrage.remains<gcd||(rage>110&talent.overwhelming_rage)||(rage>80&!talent.overwhelming_rage)\nactions.multi_target+=/execute\nactions.multi_target+=/bloodbath,if=buff.enrage.up&talent.reckless_abandon&!talent.wrath_and_fury\nactions.multi_target+=/bloodthirst,if=buff.enrage.down||(talent.annihilator&!buff.recklessness.up)\nactions.multi_target+=/onslaught,if=!talent.annihilator&buff.enrage.up||talent.tenderize\nactions.multi_target+=/raging_blow,if=charges>1&talent.wrath_and_fury\nactions.multi_target+=/crushing_blow,if=charges>1&talent.wrath_and_fury\nactions.multi_target+=/bloodbath,if=buff.enrage.down||!talent.wrath_and_fury\nactions.multi_target+=/crushing_blow,if=buff.enrage.up&talent.reckless_abandon\nactions.multi_target+=/bloodthirst,if=!talent.wrath_and_fury\nactions.multi_target+=/raging_blow,if=charges>=1\nactions.multi_target+=/rampage\nactions.multi_target+=/slam,if=talent.annihilator\nactions.multi_target+=/bloodbath\nactions.multi_target+=/raging_blow\nactions.multi_target+=/crushing_blow\nactions.multi_target+=/whirlwind\n\nactions.single_target+=/whirlwind,if=spell_targets.whirlwind>1&talent.improved_whirlwind&!buff.meat_cleaver.up||raid_event.adds.in<2&talent.improved_whirlwind&!buff.meat_cleaver.up\nactions.single_target+=/execute,if=buff.ashen_juggernaut.up&buff.ashen_juggernaut.remains<gcd\nactions.single_target+=/thunderous_roar,if=buff.enrage.up&(spell_targets.whirlwind>1||raid_event.adds.in>15)\nactions.single_target+=/odyns_fury,if=buff.enrage.up&(spell_targets.whirlwind>1||raid_event.adds.in>15)&(talent.dancing_blades&buff.dancing_blades.remains<5||!talent.dancing_blades)\nactions.single_target+=/rampage,if=talent.anger_management&(buff.recklessness.up||buff.enrage.remains<gcd||rage.pct>85)\nactions.single_target+=/bloodbath,if=set_bonus.tier30_4pc&action.bloodthirst.crit_pct_current>=bloodthirst_crit_threshold\nactions.single_target+=/bloodthirst,if=set_bonus.tier30_4pc&action.bloodthirst.crit_pct_current>=bloodthirst_crit_threshold\nactions.single_target+=/execute,if=buff.enrage.up\nactions.single_target+=/onslaught,if=buff.enrage.up||talent.tenderize\nactions.single_target+=/crushing_blow,if=talent.wrath_and_fury&buff.enrage.up\nactions.single_target+=/rampage,if=talent.reckless_abandon&(buff.recklessness.up||buff.enrage.remains<gcd||rage.pct>85)\nactions.single_target+=/rampage,if=talent.anger_management\nactions.single_target+=/execute\nactions.single_target+=/bloodbath,if=buff.enrage.up&talent.reckless_abandon&!talent.wrath_and_fury\nactions.single_target+=/bloodthirst,if=buff.enrage.down||(talent.annihilator&!buff.recklessness.up)\nactions.single_target+=/raging_blow,if=charges>1&talent.wrath_and_fury\nactions.single_target+=/crushing_blow,if=charges>1&talent.wrath_and_fury\nactions.single_target+=/bloodbath,if=buff.enrage.down||!talent.wrath_and_fury\nactions.single_target+=/crushing_blow,if=buff.enrage.up&talent.reckless_abandon\nactions.single_target+=/bloodthirst,if=!talent.wrath_and_fury\nactions.single_target+=/raging_blow,if=charges>1\nactions.single_target+=/rampage\nactions.single_target+=/slam,if=talent.annihilator\nactions.single_target+=/bloodbath\nactions.single_target+=/raging_blow\nactions.single_target+=/crushing_blow\nactions.single_target+=/bloodthirst\nactions.single_target+=/whirlwind\nactions.single_target+=/wrecking_throw\nactions.single_target+=/storm_bolt",
				},
				["Restoration Druid"] = {
					["builtIn"] = true,
					["date"] = 20230724,
					["spec"] = 105,
					["desc"] = "Healer priorities are DPS-focused only.\n\n2023-07-24:  Ferocious Bite on targets with Rip when target cycling is enabled.\n\n2023-03-23:  Minor tweaks to Cat Form priority from SimulationCraft.",
					["lists"] = {
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "skull_bash",
								["description"] = "Executed every time the actor is available.",
							}, -- [1]
							{
								["action"] = "solar_beam",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up & ! buff.shadowmeld.up",
								["action"] = "use_items",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up & ! buff.shadowmeld.up",
								["action"] = "potion",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["criteria"] = "talent.rake.enabled || buff.cat_form.up",
								["list_name"] = "cat",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["criteria"] = "active_enemies > 2 & talent.moonkin_form.enabled & talent.convoke_the_spirits.enabled & cooldown.convoke_the_spirits.remains <= gcd.max & ( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled )",
								["list_name"] = "owl",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "talent.moonkin_form.enabled & buff.cat_form.down",
								["action"] = "moonkin_form",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled )",
								["action"] = "convoke_the_spirits",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "dot.adaptive_swarm_damage.stack = 2 & dot.adaptive_swarm_damage.remains > 2",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "dot.adaptive_swarm_damage.stack = 1 & dot.adaptive_swarm_damage.remains > 2",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "dot.adaptive_swarm_damage.stack = 3 & dot.adaptive_swarm_damage.remains > 2",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "dot.adaptive_swarm_damage.stack = 4 & dot.adaptive_swarm_damage.remains > 2",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "! dot.adaptive_swarm_damage.ticking",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & target.time_to_die > 5 & talent.improved_sunfire.enabled",
								["action"] = "sunfire",
								["cycle_targets"] = 1,
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & time_to_die > 12",
								["action"] = "moonfire",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies < 8",
								["action"] = "starsurge",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & target.time_to_die > 7 & active_enemies < 7",
								["action"] = "sunfire",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.starfire > 1",
								["action"] = "starfire",
							}, -- [19]
							{
								["action"] = "wrath",
								["enabled"] = true,
							}, -- [20]
						},
						["owl"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.moonkin_form.up",
								["action"] = "moonkin_form",
							}, -- [1]
							{
								["action"] = "convoke_the_spirits",
								["enabled"] = true,
							}, -- [2]
						},
						["cat"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.shadowmeld.up || buff.prowl.up || buff.sudden_ambush.up",
								["action"] = "rake",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( cooldown.convoke_the_spirits.remains < 30 || ! talent.convoke_the_spirits.enabled ) & ! buff.heart_of_the_wild.up",
								["action"] = "heart_of_the_wild",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "dot.adaptive_swarm_damage.stack = 2 & dot.adaptive_swarm_damage.remains > 2",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "dot.adaptive_swarm_damage.stack = 1 & dot.adaptive_swarm_damage.remains > 2",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "dot.adaptive_swarm_damage.stack = 3 & dot.adaptive_swarm_damage.remains > 2",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "dot.adaptive_swarm_damage.stack = 4 & dot.adaptive_swarm_damage.remains > 2",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "! dot.adaptive_swarm_damage.ticking",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["criteria"] = "active_enemies > 2 & talent.moonkin_form.enabled & talent.convoke_the_spirits.enabled & cooldown.convoke_the_spirits.remains <= gcd.max & ( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled )",
								["list_name"] = "owl",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies < 2 || ! talent.moonkin_form.enabled ) & ( ! buff.cat_form.up & talent.convoke_the_spirits.enabled & cooldown.convoke_the_spirits.remains <= gcd.max & ( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled ) )",
								["action"] = "cat_form",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled )",
								["action"] = "convoke_the_spirits",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "remains <= gcd.max & combo_points < 5 & ( talent.deep_focus.enabled & active_dot.rake <= 1 & dot.rake.refreshable )",
								["action"] = "rake",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "remains <= gcd.max & combo_points = 5 & ( talent.deep_focus.enabled & active_dot.rip <= 1 & dot.rip.refreshable )",
								["action"] = "rip",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & target.time_to_die > 5 & spell_targets.thrash_cat > 4",
								["action"] = "thrash_cat",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable & target.time_to_die > 5 ) & ! prev_gcd.1.cat_form & ( active_enemies = 1 || talent.improved_sunfire.enabled )",
								["action"] = "sunfire",
								["cycle_targets"] = 1,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up & energy > 50 & ( ( dot.thrash_cat.refreshable & spell_targets.swipe_cat >= 9 & talent.thrash.enabled ) || ( talent.deep_focus.enabled & dot.rip.refreshable & active_dot.rip <= 1 & active_enemies >= 5 ) )",
								["action"] = "cat_form",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable & time_to_die > 12 & ! ticking || ( prev_gcd.1.sunfire & remains < duration * 0.8 & spell_targets.sunfire = 1 ) ) & ! prev_gcd.1.cat_form",
								["action"] = "moonfire",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.moonfire & remains < duration * 0.8",
								["action"] = "sunfire",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 || ( active_enemies < 8 & ! buff.cat_form.up )",
								["action"] = "starsurge",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "time_to_die < 10 & spell_targets.starfire > 1 & ( ! talent.improved_swipe.enabled || spell_targets.swipe_cat >= 9 )",
								["action"] = "starfire",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up & energy > 50",
								["action"] = "cat_form",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "( combo_points > 3 & target.time_to_die < 3 ) || ( combo_points = 5 & energy >= 50 & dot.rip.remains > 10 ) & spell_targets.swipe_cat < 4",
								["action"] = "ferocious_bite",
								["cycle_targets"] = 1,
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & target.time_to_die > 5 & spell_targets.thrash_cat > 2",
								["action"] = "thrash_cat",
								["cycle_targets"] = 1,
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "dot.adaptive_swarm_damage.ticking & refreshable",
								["action"] = "rake",
								["cycle_targets"] = 1,
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "( ( refreshable || energy > 90 & remains <= 10 ) & ( combo_points = 5 & time_to_die > remains + 24 || ( remains + combo_points * 4 < time_to_die & remains + 4 + combo_points * 4 > time_to_die ) ) || ! ticking & combo_points > 2 + spell_targets.swipe_cat * 2 )",
								["action"] = "rip",
								["cycle_targets"] = 1,
							}, -- [24]
							{
								["max_energy"] = 1,
								["enabled"] = true,
								["criteria"] = "combo_points = combo_points.max & ( dot.rip.ticking || ! talent.rip.enabled )",
								["action"] = "ferocious_bite",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable & time_to_die > 10 & spell_targets.swipe_cat < 10 ) & ( combo_points < 5 || remains < 1 )",
								["action"] = "rake",
								["cycle_targets"] = 1,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & target.time_to_die > 5 & active_enemies < 7 & ! talent.improved_sunfire.enabled",
								["action"] = "sunfire",
								["cycle_targets"] = 1,
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & target.time_to_die > 5",
								["action"] = "thrash_cat",
								["cycle_targets"] = 1,
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & combo_points < 5 & talent.improved_swipe.enabled",
								["action"] = "swipe_cat",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "energy > 60 & combo_points < 5",
								["action"] = "shred",
							}, -- [30]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "heart_of_the_wild",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "talent.rake.enabled",
								["action"] = "prowl",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "time = 0 & buff.moonkin_form.down & talent.rake.enabled",
								["action"] = "cat_form",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "time = 0 & buff.cat_form.down & talent.moonkin_form.enabled",
								["action"] = "moonkin_form",
							}, -- [4]
						},
					},
					["version"] = 20230724,
					["warnings"] = "The import for 'cat' required some automated changes.\nLine 25: Converted 'talent.rip' to 'talent.rip.enabled' (1x).\n\nImported 4 action lists.\n",
					["author"] = "Makahiki",
					["profile"] = "actions.precombat+=/heart_of_the_wild\nactions.precombat+=/prowl,if=talent.rake.enabled\nactions.precombat+=/cat_form,if=time=0&buff.moonkin_form.down&talent.rake.enabled\nactions.precombat+=/moonkin_form,if=time=0&buff.cat_form.down&talent.moonkin_form.enabled\n\n# Executed every time the actor is available.\nactions+=/skull_bash\nactions+=/solar_beam\nactions+=/berserking\n## actions+=/natures_vigil,if=!buff.prowl.up&!buff.shadowmeld.up\n## actions+=/regrowth,if=!buff.prowl.up&!buff.shadowmeld.up&settings.heal_in_groups,line_cd=7\nactions+=/use_items,if=!buff.prowl.up&!buff.shadowmeld.up\nactions+=/potion,if=!buff.prowl.up&!buff.shadowmeld.up\nactions+=/run_action_list,name=cat,if=talent.rake.enabled||buff.cat_form.up\nactions+=/run_action_list,name=owl,if=active_enemies>2&talent.moonkin_form.enabled&talent.convoke_the_spirits.enabled&cooldown.convoke_the_spirits.remains<=gcd.max&(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled)\nactions+=/moonkin_form,if=talent.moonkin_form.enabled&buff.cat_form.down\nactions+=/convoke_the_spirits,if=(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled)\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=2&dot.adaptive_swarm_damage.remains>2\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=1&dot.adaptive_swarm_damage.remains>2\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=3&dot.adaptive_swarm_damage.remains>2\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=4&dot.adaptive_swarm_damage.remains>2\nactions+=/adaptive_swarm,cycle_targets=1,if=!dot.adaptive_swarm_damage.ticking\nactions+=/sunfire,cycle_targets=1,if=refreshable&target.time_to_die>5&talent.improved_sunfire.enabled\nactions+=/moonfire,cycle_targets=1,if=refreshable&time_to_die>12\nactions+=/starsurge,if=active_enemies<8\nactions+=/sunfire,cycle_targets=1,if=refreshable&target.time_to_die>7&active_enemies<7\nactions+=/starfire,if=spell_targets.starfire>1\nactions+=/wrath\n\nactions.cat+=/rake,if=buff.shadowmeld.up||buff.prowl.up||buff.sudden_ambush.up\nactions.cat+=/heart_of_the_wild,if=(cooldown.convoke_the_spirits.remains<30||!talent.convoke_the_spirits.enabled)&!buff.heart_of_the_wild.up\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=2&dot.adaptive_swarm_damage.remains>2\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=1&dot.adaptive_swarm_damage.remains>2\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=3&dot.adaptive_swarm_damage.remains>2\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack=4&dot.adaptive_swarm_damage.remains>2\nactions.cat+=/adaptive_swarm,cycle_targets=1,if=!dot.adaptive_swarm_damage.ticking\nactions.cat+=/run_action_list,name=owl,if=active_enemies>2&talent.moonkin_form.enabled&talent.convoke_the_spirits.enabled&cooldown.convoke_the_spirits.remains<=gcd.max&(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled)\nactions.cat+=/cat_form,if=(active_enemies<2||!talent.moonkin_form.enabled)&(!buff.cat_form.up&talent.convoke_the_spirits.enabled&cooldown.convoke_the_spirits.remains<=gcd.max&(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled))\nactions.cat+=/convoke_the_spirits,if=(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled)\nactions.cat+=/rake,if=remains<=gcd&combo_points<5&(talent.deep_focus.enabled&active_dot.rake<=1&dot.rake.refreshable)\nactions.cat+=/rip,if=remains<=gcd&combo_points=5&(talent.deep_focus.enabled&active_dot.rip<=1&dot.rip.refreshable)\nactions.cat+=/thrash_cat,target_if=refreshable&target.time_to_die>5&spell_targets.thrash_cat>4\nactions.cat+=/sunfire,cycle_targets=1,if=(refreshable&target.time_to_die>5)&!prev_gcd.1.cat_form&(active_enemies=1||talent.improved_sunfire.enabled)\nactions.cat+=/cat_form,if=!buff.cat_form.up&energy>50&((dot.thrash_cat.refreshable&spell_targets.swipe_cat>=9&talent.thrash.enabled)||(talent.deep_focus.enabled&dot.rip.refreshable&active_dot.rip<=1&active_enemies>=5))\nactions.cat+=/moonfire,cycle_targets=1,if=(refreshable&time_to_die>12&!ticking||(prev_gcd.1.sunfire&remains<duration*0.8&spell_targets.sunfire=1))&!prev_gcd.1.cat_form\nactions.cat+=/sunfire,if=prev_gcd.1.moonfire&remains<duration*0.8\nactions.cat+=/starsurge,if=active_enemies=1||(active_enemies<8&!buff.cat_form.up)\nactions.cat+=/starfire,if=time_to_die<10&spell_targets.starfire>1&(!talent.improved_swipe.enabled||spell_targets.swipe_cat>=9)\nactions.cat+=/cat_form,if=!buff.cat_form.up&energy>50\nactions.cat+=/ferocious_bite,cycle_targets=1,if=(combo_points>3&target.time_to_die<3)||(combo_points=5&energy>=50&dot.rip.remains>10)&spell_targets.swipe_cat<4\nactions.cat+=/thrash_cat,cycle_targets=1,if=refreshable&target.time_to_die>5&spell_targets.thrash_cat>2\nactions.cat+=/rake,cycle_targets=1,if=dot.adaptive_swarm_damage.ticking&refreshable\nactions.cat+=/rip,cycle_targets=1,if=((refreshable||energy>90&remains<=10)&(combo_points=5&time_to_die>remains+24||(remains+combo_points*4<time_to_die&remains+4+combo_points*4>time_to_die))||!ticking&combo_points>2+spell_targets.swipe_cat*2)\nactions.cat+=/ferocious_bite,max_energy=1,if=combo_points=combo_points.max&(dot.rip.ticking||!talent.rip)\nactions.cat+=/rake,cycle_targets=1,if=(refreshable&time_to_die>10&spell_targets.swipe_cat<10)&(combo_points<5||remains<1)\nactions.cat+=/sunfire,cycle_targets=1,if=refreshable&target.time_to_die>5&active_enemies<7&!talent.improved_sunfire.enabled\nactions.cat+=/thrash_cat,cycle_targets=1,if=refreshable&target.time_to_die>5\nactions.cat+=/swipe_cat,if=active_enemies>1&combo_points<5&talent.improved_swipe.enabled\nactions.cat+=/shred,if=energy>60&combo_points<5\n\nactions.owl+=/moonkin_form,if=!buff.moonkin_form.up\nactions.owl+=/convoke_the_spirits",
				},
				["Frost Mage"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230807,
					["spec"] = 64,
					["desc"] = "2023-08-07:  Align Time Warp with Icy Veins.\n\n2023-07-22:  SimC update for new 'freezable' expression; tweak Shifting Power in AOE.\n\n2023-07-14:  Don't Shifting Power in ST if nothing is really on CD.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-07-02:  Use debuff.sated.up for Temporal Warp.\n\n2023-05-12:  Update Spoils trinket.\n\n2023-05-08:  Updates from SimC; limited_ice_lance now factors in Slick Ice as well.\n\n2023-05-02:  Update for 10.1.\n\n2023-03-28:  Add experimental option for the \"less Ice Lance\" build.",
					["lists"] = {
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "counterspell",
							}, -- [1]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cds",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 7 & ! set_bonus.tier30_2pc || active_enemies >= 3 & talent.ice_caller.enabled",
								["strict"] = 1,
								["action"] = "run_action_list",
								["list_name"] = "aoe",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["list_name"] = "st",
							}, -- [4]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "arcane_intellect",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 2",
								["action"] = "blizzard",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1",
								["action"] = "frostbolt",
							}, -- [3]
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.coldest_snap.enabled & ( prev_gcd.1.comet_storm || prev_gcd.1.frozen_orb & ! talent.comet_storm.enabled )",
								["action"] = "cone_of_cold",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! prev_gcd.1.glacial_spike || ! freezable",
								["action"] = "frozen_orb",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! prev_gcd.1.glacial_spike || ! freezable",
								["action"] = "blizzard",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! prev_gcd.1.glacial_spike & ( ! talent.coldest_snap.enabled || cooldown.cone_of_cold.ready & cooldown.frozen_orb.remains > 25 || cooldown.cone_of_cold.remains > 20 )",
								["action"] = "comet_storm",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "freezable & debuff.frozen.down & ( ! talent.glacial_spike.enabled & ! talent.snowstorm.enabled || prev_gcd.1.glacial_spike || cooldown.cone_of_cold.ready & buff.snowstorm.stack = buff.snowstorm.max_stack )",
								["action"] = "freeze",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "freezable & ! prev_off_gcd.freeze & ( prev_gcd.1.glacial_spike || cooldown.cone_of_cold.ready & buff.snowstorm.stack = buff.snowstorm.max_stack & gcd.max < 1 )",
								["action"] = "ice_nova",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "freezable & ! prev_off_gcd.freeze & ( prev_gcd.1.glacial_spike & ! remaining_winters_chill || cooldown.cone_of_cold.ready & buff.snowstorm.stack = buff.snowstorm.max_stack & gcd.max < 1 )",
								["action"] = "frost_nova",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.snowstorm.stack = buff.snowstorm.max_stack",
								["action"] = "cone_of_cold",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.frozen_orb.true_remains > 10 & ( ! talent.comet_storm.enabled || cooldown.comet_storm.true_remains > 10 ) & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.true_remains > 10 ) || cooldown.icy_veins.true_remains < 20 || boss & fight_remains < 20",
								["action"] = "shifting_power",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.icicles.react = 5 & cooldown.blizzard.remains > gcd.max",
								["action"] = "glacial_spike",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "! freezable & cooldown_react & ! debuff.winters_chill.remains & ( prev_gcd.1.glacial_spike || charges_fractional > 1.8 )",
								["action"] = "flurry",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "cooldown_react & ! debuff.winters_chill.remains & ( buff.brain_freeze.react || ! buff.fingers_of_frost.react )",
								["action"] = "flurry",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.fingers_of_frost.react || debuff.frozen.remains > travel_time || remaining_winters_chill",
								["action"] = "ice_lance",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 4 & ( ! talent.snowstorm.enabled & ! talent.glacial_spike.enabled || ! freezable )",
								["action"] = "ice_nova",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 7",
								["action"] = "dragons_breath",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "mana.pct > 30 & active_enemies >= 7",
								["action"] = "arcane_explosion",
							}, -- [16]
							{
								["action"] = "frostbolt",
								["enabled"] = true,
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "movement",
							}, -- [18]
						},
						["cds"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.sated.up & talent.temporal_warp.enabled & buff.bloodlust.down & action.icy_veins.time_since < 2 * gcd.max",
								["action"] = "time_warp",
							}, -- [1]
							{
								["enabled"] = true,
								["name"] = "spoils_of_neltharus",
								["action"] = "spoils_of_neltharus",
								["criteria"] = "buff.spoils_of_neltharus_mastery.up || buff.spoils_of_neltharus_haste.up & buff.bloodlust.down & buff.temporal_warp.down & time > 0 || buff.spoils_of_neltharus_vers.up & ( buff.bloodlust.up || buff.temporal_warp.up )",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "prev_off_gcd.icy_veins || boss & fight_remains < 60",
								["action"] = "potion",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "time = 0 & active_enemies <= 2",
								["action"] = "flurry",
								["description"] = "The Mage Discord doesn't check remaining_winters_chill, but that's because sims start with a fresh state and the addon doesn't.",
							}, -- [4]
							{
								["action"] = "icy_veins",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [8]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [9]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [10]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [11]
						},
						["st"] = {
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.flurry || prev_gcd.1.cone_of_cold",
								["action"] = "comet_storm",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "cooldown_react & remaining_winters_chill = 0 & debuff.winters_chill.down & ( prev_gcd.1.frostbolt || prev_gcd.1.glacial_spike || talent.glacial_spike.enabled & buff.icicles.react = 4 & ! buff.fingers_of_frost.react )",
								["action"] = "flurry",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.glacial_spike.enabled & debuff.winters_chill.down & buff.icicles.react = 4 & buff.fingers_of_frost.react",
								["action"] = "ice_lance",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "remaining_winters_chill = 1",
								["action"] = "ray_of_frost",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.icicles.react = 5 & ( action.flurry.cooldown_react || remaining_winters_chill )",
								["action"] = "glacial_spike",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.fingers_of_frost.react < 2 & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.remains )",
								["action"] = "frozen_orb",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.coldest_snap.enabled & cooldown.comet_storm.remains > 10 & cooldown.frozen_orb.remains > 10 & remaining_winters_chill = 0 & active_enemies >= 3",
								["action"] = "cone_of_cold",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 2 & talent.ice_caller.enabled & talent.freezing_rain.enabled & ( ! talent.splintering_cold.enabled & ! talent.ray_of_frost.enabled || buff.freezing_rain.up || active_enemies >= 3 )",
								["action"] = "blizzard",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.frozen_orb.true_remains > 10 & ( ! talent.comet_storm.enabled || cooldown.comet_storm.true_remains > 10 ) & ( ! talent.ray_of_frost.enabled || cooldown.ray_of_frost.true_remains > 10 ) || cooldown.icy_veins.true_remains < 20 || boss & fight_remains < 20",
								["action"] = "shifting_power",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.fingers_of_frost.react & ! prev_gcd.1.glacial_spike || remaining_winters_chill",
								["action"] = "ice_lance",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 4",
								["action"] = "ice_nova",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.icicles.react = 5 & buff.icy_veins.up",
								["action"] = "glacial_spike",
							}, -- [12]
							{
								["action"] = "frostbolt",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "movement",
							}, -- [14]
						},
						["movement"] = {
							{
								["enabled"] = true,
								["criteria"] = "movement.distance > 10",
								["action"] = "blink",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.ice_floes.down",
								["action"] = "ice_floes",
							}, -- [2]
							{
								["action"] = "ice_nova",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "mana.pct > 30 & active_enemies >= 2",
								["action"] = "arcane_explosion",
							}, -- [4]
							{
								["action"] = "fire_blast",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "ice_lance",
								["enabled"] = true,
							}, -- [6]
						},
					},
					["version"] = 20230807,
					["warnings"] = "The import for 'default' required some automated changes.\nLine 3: Converted 'talent.ice_caller' to 'talent.ice_caller.enabled' (1x).\n\nThe import for 'aoe' required some automated changes.\nLine 1: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 1: Converted 'talent.comet_storm' to 'talent.comet_storm.enabled' (1x).\nLine 4: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 5: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 5: Converted 'talent.snowstorm' to 'talent.snowstorm.enabled' (1x).\nLine 9: Converted 'talent.comet_storm' to 'talent.comet_storm.enabled' (1x).\nLine 9: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\nLine 14: Converted 'talent.snowstorm' to 'talent.snowstorm.enabled' (1x).\nLine 14: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 1: Converted 'talent.temporal_warp' to 'talent.temporal_warp.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 2: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 3: Converted 'talent.glacial_spike' to 'talent.glacial_spike.enabled' (1x).\nLine 6: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\nLine 7: Converted 'talent.coldest_snap' to 'talent.coldest_snap.enabled' (1x).\nLine 8: Converted 'talent.ice_caller' to 'talent.ice_caller.enabled' (1x).\nLine 8: Converted 'talent.freezing_rain' to 'talent.freezing_rain.enabled' (1x).\nLine 8: Converted 'talent.splintering_cold' to 'talent.splintering_cold.enabled' (1x).\nLine 8: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\nLine 9: Converted 'talent.comet_storm' to 'talent.comet_storm.enabled' (1x).\nLine 9: Converted 'talent.ray_of_frost' to 'talent.ray_of_frost.enabled' (1x).\n\nImported 6 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/arcane_intellect\nactions.precombat+=/blizzard,if=active_enemies>=2\nactions.precombat+=/frostbolt,if=active_enemies=1\n\nactions=counterspell\nactions+=/call_action_list,name=cds\nactions+=/run_action_list,name=aoe,strict=1,if=active_enemies>=7&!set_bonus.tier30_2pc||active_enemies>=3&talent.ice_caller\nactions+=/run_action_list,name=st\n\nactions.aoe+=/cone_of_cold,if=talent.coldest_snap&(prev_gcd.1.comet_storm||prev_gcd.1.frozen_orb&!talent.comet_storm)\nactions.aoe+=/frozen_orb,if=!prev_gcd.1.glacial_spike||!freezable\nactions.aoe+=/blizzard,if=!prev_gcd.1.glacial_spike||!freezable\nactions.aoe+=/comet_storm,if=!prev_gcd.1.glacial_spike&(!talent.coldest_snap||cooldown.cone_of_cold.ready&cooldown.frozen_orb.remains>25||cooldown.cone_of_cold.remains>20)\nactions.aoe+=/freeze,if=freezable&debuff.frozen.down&(!talent.glacial_spike&!talent.snowstorm||prev_gcd.1.glacial_spike||cooldown.cone_of_cold.ready&buff.snowstorm.stack=buff.snowstorm.max_stack)\nactions.aoe+=/ice_nova,if=freezable&!prev_off_gcd.freeze&(prev_gcd.1.glacial_spike||cooldown.cone_of_cold.ready&buff.snowstorm.stack=buff.snowstorm.max_stack&gcd.max<1)\nactions.aoe+=/frost_nova,if=freezable&!prev_off_gcd.freeze&(prev_gcd.1.glacial_spike&!remaining_winters_chill||cooldown.cone_of_cold.ready&buff.snowstorm.stack=buff.snowstorm.max_stack&gcd.max<1)\nactions.aoe+=/cone_of_cold,if=buff.snowstorm.stack=buff.snowstorm.max_stack\nactions.aoe+=/shifting_power,if=cooldown.frozen_orb.true_remains>10&(!talent.comet_storm||cooldown.comet_storm.true_remains>10)&(!talent.ray_of_frost||cooldown.ray_of_frost.true_remains>10)||cooldown.icy_veins.true_remains<20||boss&fight_remains<20\nactions.aoe+=/glacial_spike,if=buff.icicles.react=5&cooldown.blizzard.remains>gcd.max\nactions.aoe+=/flurry,if=!freezable&cooldown_react&!debuff.winters_chill.remains&(prev_gcd.1.glacial_spike||charges_fractional>1.8)\nactions.aoe+=/flurry,if=cooldown_react&!debuff.winters_chill.remains&(buff.brain_freeze.react||!buff.fingers_of_frost.react)\nactions.aoe+=/ice_lance,if=buff.fingers_of_frost.react||debuff.frozen.remains>travel_time||remaining_winters_chill\nactions.aoe+=/ice_nova,if=active_enemies>=4&(!talent.snowstorm&!talent.glacial_spike||!freezable)\nactions.aoe+=/dragons_breath,if=active_enemies>=7\nactions.aoe+=/arcane_explosion,if=mana.pct>30&active_enemies>=7\nactions.aoe+=/frostbolt\nactions.aoe+=/call_action_list,name=movement\n\nactions.cds+=/time_warp,if=debuff.sated.up&talent.temporal_warp&buff.bloodlust.down&action.icy_veins.time_since<2*gcd.max\nactions.cds+=/use_item,name=spoils_of_neltharus,if=buff.spoils_of_neltharus_mastery.up||buff.spoils_of_neltharus_haste.up&buff.bloodlust.down&buff.temporal_warp.down&time>0||buff.spoils_of_neltharus_vers.up&(buff.bloodlust.up||buff.temporal_warp.up)\nactions.cds+=/potion,if=prev_off_gcd.icy_veins||boss&fight_remains<60\n# The Mage Discord doesn't check remaining_winters_chill, but that's because sims start with a fresh state and the addon doesn't.\nactions.cds+=/flurry,if=time=0&active_enemies<=2\nactions.cds+=/icy_veins\nactions.cds+=/use_items\n## External buffs are not invoked by the addon, as the player can't choose to trigger them personally.\n## actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.power_infusion.down\n## actions.cds+=/invoke_external_buff,name=blessing_of_summer,if=buff.blessing_of_summer.down\nactions.cds+=/blood_fury\nactions.cds+=/berserking\nactions.cds+=/lights_judgment\nactions.cds+=/fireblood\nactions.cds+=/ancestral_call\n\nactions.movement+=/any_blink,if=movement.distance>10\nactions.movement+=/ice_floes,if=buff.ice_floes.down\nactions.movement+=/ice_nova\nactions.movement+=/arcane_explosion,if=mana.pct>30&active_enemies>=2\nactions.movement+=/fire_blast\nactions.movement+=/ice_lance\n\nactions.st+=/comet_storm,if=prev_gcd.1.flurry||prev_gcd.1.cone_of_cold\nactions.st+=/flurry,if=cooldown_react&remaining_winters_chill=0&debuff.winters_chill.down&(prev_gcd.1.frostbolt||prev_gcd.1.glacial_spike||talent.glacial_spike&buff.icicles.react=4&!buff.fingers_of_frost.react)\nactions.st+=/ice_lance,if=talent.glacial_spike&debuff.winters_chill.down&buff.icicles.react=4&buff.fingers_of_frost.react\nactions.st+=/ray_of_frost,if=remaining_winters_chill=1\nactions.st+=/glacial_spike,if=buff.icicles.react=5&(action.flurry.cooldown_react||remaining_winters_chill)\nactions.st+=/frozen_orb,if=buff.fingers_of_frost.react<2&(!talent.ray_of_frost||cooldown.ray_of_frost.remains)\nactions.st+=/cone_of_cold,if=talent.coldest_snap&cooldown.comet_storm.remains>10&cooldown.frozen_orb.remains>10&remaining_winters_chill=0&active_enemies>=3\nactions.st+=/blizzard,if=active_enemies>=2&talent.ice_caller&talent.freezing_rain&(!talent.splintering_cold&!talent.ray_of_frost||buff.freezing_rain.up||active_enemies>=3)\nactions.st+=/shifting_power,if=cooldown.frozen_orb.true_remains>10&(!talent.comet_storm||cooldown.comet_storm.true_remains>10)&(!talent.ray_of_frost||cooldown.ray_of_frost.true_remains>10)||cooldown.icy_veins.true_remains<20||boss&fight_remains<20\nactions.st+=/ice_lance,if=buff.fingers_of_frost.react&!prev_gcd.1.glacial_spike||remaining_winters_chill\nactions.st+=/ice_nova,if=active_enemies>=4\nactions.st+=/glacial_spike,if=buff.icicles.react=5&buff.icy_veins.up\nactions.st+=/frostbolt\nactions.st+=/call_action_list,name=movement",
				},
				["Fire"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230827,
					["spec"] = 63,
					["desc"] = "2023-08-27:  Sync up to 10.1.5/7.\n\n2023-08-07:  Minor SimC updates again.\n\n2023-07-12:  Minor SimC update.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-07-02:  Use debuff.sated.up for Temporal Warp.\n\n2023-05-08:  Updates for 10.1, including many variables shifted from priority to internal code.\n\n2023-03-20:  Modify priority for \"Instant-Only When Moving\" setting.\n\n2023-03-27:  Remove Scorch > Pyroblast hardcast scenario.\n\n2023-04-02:  Revise Scorch > Pyroblast to check Hot Streak.",
					["lists"] = {
						["combustion_cooldowns"] = {
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [1]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.up",
								["action"] = "berserking",
							}, -- [3]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( talent.temporal_warp.enabled || runeforge.temporal_warp.enabled ) & debuff.sated.up",
								["action"] = "time_warp",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "gladiators_badge",
								["effect_name"] = "gladiators_badge",
							}, -- [7]
							{
								["enabled"] = true,
								["name"] = "irideus_fragment",
								["action"] = "irideus_fragment",
							}, -- [8]
							{
								["enabled"] = true,
								["name"] = "spoils_of_neltharus",
								["action"] = "spoils_of_neltharus",
							}, -- [9]
							{
								["enabled"] = true,
								["name"] = "tome_of_unstable_power",
								["action"] = "tome_of_unstable_power",
							}, -- [10]
							{
								["enabled"] = true,
								["name"] = "timebreaching_talon",
								["action"] = "timebreaching_talon",
							}, -- [11]
							{
								["enabled"] = true,
								["name"] = "voidmenders_shadowgem",
								["action"] = "voidmenders_shadowgem",
							}, -- [12]
							{
								["enabled"] = true,
								["name"] = "horn_of_valor",
								["action"] = "horn_of_valor",
							}, -- [13]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "counterspell",
								["description"] = "Executed every time the actor is available.",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "debuff.sated.up & talent.temporal_warp.enabled & ( firestarter.active || interpolated_fight_remains < buff.bloodlust.duration )",
								["action"] = "time_warp",
								["description"] = "The second Time Warp is usually best used immediately on pull with Temporal Warp so that it comes off cooldown earlier, this can sometimes be slightly worse if doing so will not result in additional Time Warp(s) throughout the encounter. Additionally, it should always be used at the end of the fight regardless of Combustion being ready if it is available.",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.potion.duration > variable.time_to_combustion + buff.combustion.duration",
								["action"] = "potion",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "variable.time_to_combustion > action_cooldown - 5",
								["action"] = "gladiators_badge",
								["effect_name"] = "gladiators_badge",
							}, -- [4]
							{
								["enabled"] = true,
								["name"] = "empyreal_ordnance",
								["action"] = "empyreal_ordnance",
								["criteria"] = "variable.time_to_combustion <= variable.empyreal_ordnance_delay & variable.time_to_combustion > variable.empyreal_ordnance_delay - 5",
							}, -- [5]
							{
								["enabled"] = true,
								["name"] = "shadowed_orb_of_torment",
								["action"] = "shadowed_orb_of_torment",
								["criteria"] = "( variable.time_to_combustion <= variable.combustion_precast_time + 2 || fight_remains < variable.time_to_combustion ) & buff.combustion.down & ( ! equipped.the_first_sigil || cooldown.the_first_sigil_367241.remains > 40 )",
							}, -- [6]
							{
								["enabled"] = true,
								["name"] = "grim_eclipse",
								["action"] = "grim_eclipse",
								["criteria"] = "variable.time_to_combustion <= 8 || fight_remains < variable.time_to_combustion",
							}, -- [7]
							{
								["enabled"] = true,
								["name"] = "moonlit_prism",
								["action"] = "moonlit_prism",
								["criteria"] = "variable.time_to_combustion <= 5 || fight_remains < variable.time_to_combustion",
							}, -- [8]
							{
								["enabled"] = true,
								["name"] = "glyph_of_assimilation",
								["action"] = "glyph_of_assimilation",
								["criteria"] = "! variable.item_cutoff_active",
							}, -- [9]
							{
								["enabled"] = true,
								["name"] = "macabre_sheet_music",
								["action"] = "macabre_sheet_music",
								["criteria"] = "variable.time_to_combustion <= 5",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "dreadfire_vessel",
								["name"] = "dreadfire_vessel",
								["criteria"] = "! variable.item_cutoff_active & ( buff.infernal_cascade.stack = buff.infernal_cascade.max_stack || ! conduit.infernal_cascade.enabled || variable.combustion_on_use & ! ( runeforge.sun_kings_blessing.enabled || talent.sun_kings_blessing.enabled ) || variable.time_to_combustion > interpolated_fight_remains %  ( action_cooldown + 10 ) )",
								["description"] = "If using a steroid on-use item, always use Dreadfire Vessel outside of Combustion. Otherwise, prioritize using Dreadfire Vessel with Combustion only if Feel the Burn is enabled and a usage won't be lost over the duration of the fight. This adds a small value to the cooldown of Dreadfire Vessel when doing this calculation because it is unrealstic to assume that it will be used perfectly on cooldown. Note that with Sun King's Blessing, it is possible to sync this with SKB Combustions regardless of on-use trinkets.",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "soul_igniter",
								["name"] = "soul_igniter",
								["criteria"] = "( cooldown.hyperthread_wristwraps.remains || ! variable.item_cutoff_active ) & ( ! conduit.infernal_cascade.enabled || buff.infernal_cascade.up || buff.combustion.up ) & ( ! equipped.dreadfire_vessel || cooldown.dreadfire_vessel_349857.remains > 5 )",
								["description"] = "Soul Igniter should be used in a way that doesn't interfere with other on-use trinkets. Other trinkets do not trigger a shared ICD on it, so it can be used right after any other on-use trinket.",
							}, -- [12]
							{
								["enabled"] = true,
								["description"] = "Trigger Soul Igniter early with Infernal Cascade or when it was precast.",
								["criteria"] = "! conduit.infernal_cascade.enabled & time < 5 || buff.infernal_cascade.stack = buff.infernal_cascade.max_stack",
								["buff_name"] = "soul_ignition",
								["action"] = "cancel_buff",
							}, -- [13]
							{
								["enabled"] = true,
								["action"] = "inscrutable_quantum_device",
								["name"] = "inscrutable_quantum_device",
								["criteria"] = "equipped.gladiators_badge & ( buff.combustion.down & variable.time_to_combustion >= variable.on_use_cutoff || variable.on_use_cutoff = 0 )",
								["description"] = "Items that do not benefit Combustion should just be used outside of Combustion at some point.",
							}, -- [14]
							{
								["enabled"] = true,
								["name"] = "flame_of_battle",
								["action"] = "flame_of_battle",
								["criteria"] = "equipped.gladiators_badge & ! variable.item_cutoff_active",
							}, -- [15]
							{
								["enabled"] = true,
								["name"] = "wakeners_frond",
								["action"] = "wakeners_frond",
								["criteria"] = "equipped.gladiators_badge & ! variable.item_cutoff_active",
							}, -- [16]
							{
								["enabled"] = true,
								["name"] = "instructors_divine_bell",
								["action"] = "instructors_divine_bell",
								["criteria"] = "equipped.gladiators_badge & ! variable.item_cutoff_active",
							}, -- [17]
							{
								["enabled"] = true,
								["name"] = "sunblood_amethyst",
								["action"] = "sunblood_amethyst",
								["criteria"] = "equipped.gladiators_badge & ! variable.item_cutoff_active",
							}, -- [18]
							{
								["enabled"] = true,
								["name"] = "scars_of_fraternal_strife",
								["action"] = "scars_of_fraternal_strife",
								["criteria"] = "buff.scars_of_fraternal_strife_4.down",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "! variable.item_cutoff_active",
								["action"] = "use_items",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "runeforge.grisly_icicle.enabled & buff.combustion.down & ( variable.time_to_combustion > action_cooldown || variable.time_to_combustion < variable.combustion_precast_time + execute_time )",
								["action"] = "frost_nova",
								["description"] = "Use Frost Nova to trigger Grisly Icicle.",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "runeforge.disciplinary_command.enabled & cooldown.buff_disciplinary_command.ready & buff.disciplinary_command_arcane.down & ! buff.disciplinary_command.up & ( variable.time_to_combustion + action.frostbolt.cast_time > cooldown.buff_disciplinary_command.duration || variable.time_to_combustion < 5 )",
								["action"] = "counterspell",
								["description"] = "Get the Disciplinary Command buff up, unless combustion is soon.",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "runeforge.disciplinary_command.enabled & cooldown.buff_disciplinary_command.ready & buff.disciplinary_command_arcane.down & ! buff.disciplinary_command.up & ( variable.time_to_combustion + execute_time + action.frostbolt.cast_time > cooldown.buff_disciplinary_command.duration || variable.time_to_combustion < 5 & ! talent.rune_of_power.enabled )",
								["action"] = "arcane_explosion",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "runeforge.disciplinary_command.enabled & cooldown.buff_disciplinary_command.remains < cast_time & buff.disciplinary_command_frost.down & ! buff.disciplinary_command.up & ( variable.time_to_combustion + cast_time > cooldown.buff_disciplinary_command.duration || variable.time_to_combustion < 5 )",
								["action"] = "frostbolt",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "runeforge.disciplinary_command.enabled & cooldown.buff_disciplinary_command.ready & buff.disciplinary_command_frost.down & ! buff.disciplinary_command.up & ( variable.time_to_combustion > cooldown.buff_disciplinary_command.duration || variable.time_to_combustion < 5 )",
								["action"] = "frost_nova",
							}, -- [25]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["description"] = "Pool as many Fire Blasts as possible for Combustion.",
								["op"] = "set",
								["value"] = "buff.combustion.down & action.fire_blast.charges_fractional + ( variable.time_to_combustion + action.shifting_power.full_reduction * variable.shifting_power_before_combustion ) / cooldown.fire_blast.duration - 1 < cooldown.fire_blast.max_charges + variable.overpool_fire_blasts / cooldown.fire_blast.duration - ( buff.combustion.duration / cooldown.fire_blast.duration )  % 1 & variable.time_to_combustion < fight_remains",
								["var_name"] = "fire_blast_pooling",
								["use_off_gcd"] = 1,
								["action"] = "variable",
							}, -- [26]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["criteria"] = "variable.time_to_combustion <= 0 || buff.combustion.up || variable.time_to_combustion < variable.combustion_precast_time & cooldown.combustion.remains < variable.combustion_precast_time",
								["list_name"] = "combustion_phase",
							}, -- [27]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["action"] = "variable",
								["op"] = "set",
								["criteria"] = "! variable.fire_blast_pooling & talent.sun_kings_blessing.enabled",
								["var_name"] = "fire_blast_pooling",
								["value"] = "searing_touch.active & action.fire_blast.full_recharge_time > 3 * gcd.max",
								["description"] = "Adjust the variable that controls Fire Blast usage to save Fire Blasts while Searing Touch is active with Sun King's Blessing.",
								["use_off_gcd"] = 1,
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & ( action.fire_blast.charges = 0 || variable.fire_blast_pooling ) & ( ! improved_scorch.active || debuff.improved_scorch.remains > cast_time + action.scorch.cast_time & ! buff.fury_of_the_sun_king.up ) & ! buff.hot_streak.react & variable.shifting_power_before_combustion",
								["action"] = "shifting_power",
							}, -- [29]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "! variable.fire_blast_pooling & variable.time_to_combustion > 0 & active_enemies >= variable.hard_cast_flamestrike & ! firestarter.active & ! buff.hot_streak.react & ( buff.heating_up.react & action.flamestrike.execute_remains < 0.5 || charges_fractional >= 2 )",
								["use_off_gcd"] = 1,
								["description"] = "When Hardcasting Flamestrike, Fire Blasts should be used to generate Hot Streaks and to extend Feel the Burn.",
								["action"] = "fire_blast",
							}, -- [30]
							{
								["enabled"] = true,
								["description"] = "During Firestarter, Fire Blasts are used similarly to during Combustion. Generally, they are used to generate Hot Streaks when crits will not be wasted and with Feel the Burn, they should be spread out to maintain the Feel the Burn buff.",
								["action"] = "call_action_list",
								["criteria"] = "buff.combustion.down & firestarter.active & variable.time_to_combustion > 0",
								["list_name"] = "firestarter_fire_blasts",
							}, -- [31]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "action.shifting_power.executing & full_recharge_time < action.shifting_power.tick_reduction",
								["action"] = "fire_blast",
								["description"] = "Avoid capping Fire Blast charges while channeling Shifting Power",
							}, -- [32]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["criteria"] = "variable.time_to_combustion > 0 & buff.combustion.down",
								["list_name"] = "standard_rotation",
							}, -- [33]
							{
								["action"] = "scorch",
								["enabled"] = true,
							}, -- [34]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "arcane_intellect",
							}, -- [1]
							{
								["enabled"] = true,
								["name"] = "soul_igniter",
								["action"] = "soul_igniter",
								["criteria"] = "! variable.combustion_on_use & ! equipped.dreadfire_vessel & ( ! talent.firestarter.enabled || variable.firestarter_combustion )",
							}, -- [2]
							{
								["enabled"] = true,
								["name"] = "shadowed_orb_of_torment",
								["action"] = "shadowed_orb_of_torment",
								["criteria"] = "! equipped.the_first_sigil",
							}, -- [3]
							{
								["action"] = "mirror_image",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.hot_streak_flamestrike",
								["action"] = "flamestrike",
							}, -- [5]
							{
								["action"] = "pyroblast",
								["enabled"] = true,
							}, -- [6]
						},
						["combustion_phase"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down",
								["action"] = "lights_judgment",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down",
								["action"] = "bag_of_tricks",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & buff.combustion.down",
								["action"] = "living_bomb",
							}, -- [3]
							{
								["enabled"] = true,
								["description"] = "Other cooldowns that should be used with Combustion should only be used with an actual Combustion cast and not with a Sun King's Blessing proc.",
								["action"] = "call_action_list",
								["criteria"] = "buff.combustion.remains > variable.skb_duration || fight_remains < 20",
								["list_name"] = "combustion_cooldowns",
							}, -- [4]
							{
								["enabled"] = true,
								["name"] = "hyperthread_wristwraps",
								["action"] = "hyperthread_wristwraps",
								["criteria"] = "prev.1.fire_blast + prev.2.fire_blast + prev.3.fire_blast >= 2 & action.fire_blast.charges = 0",
							}, -- [5]
							{
								["enabled"] = true,
								["name"] = "neural_synapse_enhancer",
								["action"] = "neural_synapse_enhancer",
								["criteria"] = "variable.time_to_combustion > 60",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & set_bonus.tier30_2pc & ! action.phoenix_flames.in_flight & debuff.charring_embers.remains < 4 * gcd.max & ! buff.hot_streak.react",
								["action"] = "phoenix_flames",
								["description"] = "In Charring embers is not up before Combustion, make sure to apply it.",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "active_talents",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & buff.fury_of_the_sun_king.expiration_delay_remains = 0 & cooldown.combustion.remains < cast_time & active_enemies >= variable.skb_flamestrike",
								["action"] = "flamestrike",
								["description"] = "If Combustion is down, precast something before activating it.",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "pyroblast",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & cooldown.combustion.remains < cast_time & active_enemies < 2 & ! improved_scorch.active",
								["action"] = "fireball",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.down & cooldown.combustion.remains < cast_time",
								["action"] = "scorch",
							}, -- [12]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "hot_streak_spells_in_flight = 0 & buff.combustion.down & variable.time_to_combustion <= 0 & ( action.scorch.executing & action.scorch.execute_remains < variable.combustion_cast_remains || action.fireball.executing & action.fireball.execute_remains < variable.combustion_cast_remains || action.pyroblast.executing & action.pyroblast.execute_remains < variable.combustion_cast_remains || action.flamestrike.executing & action.flamestrike.execute_remains < variable.combustion_cast_remains || action.meteor.in_flight & action.meteor.in_flight_remains < variable.combustion_cast_remains )",
								["use_off_gcd"] = 1,
								["description"] = "Combustion should be used when the precast is almost finished or when Meteor is about to land.",
								["action"] = "combustion",
							}, -- [13]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "! variable.fire_blast_pooling & ( ! improved_scorch.active || action.scorch.executing || debuff.improved_scorch.remains > 4 * gcd.max ) & ( buff.fury_of_the_sun_king.down || action.pyroblast.executing ) & buff.combustion.up & ! buff.hyperthermia.react & ! buff.hot_streak.react & hot_streak_spells_in_flight + buff.heating_up.react * ( gcd.remains > 0 ) < 2",
								["use_off_gcd"] = 1,
								["description"] = "Without Feel the Burn, just use Fire Blasts when they won't munch crits and when Firestorm is down.",
								["action"] = "fire_blast",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "( buff.hot_streak.react & active_enemies >= variable.combustion_flamestrike ) || ( ( buff.firestorm.react || buff.hyperthermia.react ) & active_enemies >= variable.combustion_flamestrike - ( runeforge.firestorm.enabled || talent.hyperthermia.enabled ) )",
								["action"] = "flamestrike",
								["description"] = "Spend Hot Streaks during Combustion at high priority.",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.up & 2 * buff.hot_streak.react + buff.heating_up.react + hot_streak_spells_in_flight = 2",
								["action"] = "radiant_spark",
								["description"] = "Radiant Spark should be used with a Hot Streak ready to use immediately after the cast finishes. This will naturally set up a Hot Streak spent for the final stack of Radiant Spark.",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "( buff.firestorm.react || buff.hyperthermia.react )",
								["action"] = "pyroblast",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & buff.combustion.up",
								["action"] = "pyroblast",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.scorch & buff.heating_up.react & active_enemies < variable.combustion_flamestrike & buff.combustion.up",
								["action"] = "pyroblast",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.up & ! action.fire_blast.charges & ( action.phoenix_flames.charges < action.phoenix_flames.max_charges || talent.alexstraszas_fury.enabled ) & variable.combustion_shifting_power <= active_enemies",
								["action"] = "shifting_power",
								["description"] = "Using Shifting Power during Combustion to restore Fire Blast and Phoenix Flame charges can be beneficial, but usually only on AoE.",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & active_enemies >= variable.skb_flamestrike & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "flamestrike",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.remains > cast_time & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "pyroblast",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "improved_scorch.active & ( debuff.improved_scorch.remains < 4 * gcd.max ) & active_enemies < variable.combustion_flamestrike",
								["action"] = "scorch",
								["description"] = "Maintain Improved Scorch when not casting Flamestrikes in Combustion.",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc & travel_time < buff.combustion.remains & buff.heating_up.react + hot_streak_spells_in_flight < 2 & ( debuff.charring_embers.remains < 4 * gcd.max || buff.flames_fury.stack > 1 || buff.flames_fury.up )",
								["action"] = "phoenix_flames",
								["description"] = "With the T30 set, Phoenix Flames should be used to maintain Charring Embers during Combustion and Flame's Fury procs should be spent.",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.remains > cast_time & buff.flame_accelerant.react",
								["action"] = "fireball",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "! set_bonus.tier30_2pc & ! talent.alexstraszas_fury.enabled & travel_time < buff.combustion.remains & buff.heating_up.react + hot_streak_spells_in_flight < 2",
								["action"] = "phoenix_flames",
								["description"] = "Use Phoenix Flames and Scorch in Combustion to help generate Hot Streaks when Fire Blasts are not available or need to be conserved.",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.remains > cast_time & cast_time >= gcd.max",
								["action"] = "scorch",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.remains > cast_time",
								["action"] = "fireball",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "buff.combustion.remains < gcd.max & active_enemies > 1",
								["action"] = "living_bomb",
								["description"] = "If there isn't enough time left in Combustion for a Phoenix Flames or Scorch to hit inside of Combustion, use something else.",
							}, -- [29]
						},
						["active_talents"] = {
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & buff.combustion.down & ( variable.time_to_combustion > cooldown.living_bomb.duration || variable.time_to_combustion <= 0 )",
								["action"] = "living_bomb",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "variable.time_to_combustion <= 0 || buff.combustion.remains > travel_time || ! talent.sun_kings_blessing.enabled & ( cooldown.meteor.duration < variable.time_to_combustion || fight_remains < variable.time_to_combustion )",
								["action"] = "meteor",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.alexstraszas_fury.enabled & ( buff.combustion.down & ! buff.hot_streak.react ) & ( buff.feel_the_burn.up || time > 15 ) & ( ! improved_scorch.active ) & ! firestarter.remains & ! talent.tempered_flames.enabled",
								["action"] = "dragons_breath",
								["description"] = "With Alexstrasza's Fury when Combustion is not active, Dragon's Breath should be used to convert Heating Up to a Hot Streak.",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.alexstraszas_fury.enabled & ( buff.combustion.down & ! buff.hot_streak.react ) & ( buff.feel_the_burn.up || time > 15 ) & ( ! improved_scorch.active ) & talent.tempered_flames.enabled",
								["action"] = "dragons_breath",
							}, -- [4]
						},
						["standard_rotation"] = {
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.hot_streak_flamestrike & ( buff.hot_streak.react || ( buff.firestorm.react || buff.hyperthermia.react ) )",
								["action"] = "flamestrike",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.hyperthermia.react",
								["action"] = "pyroblast",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & ( buff.hot_streak.remains < action.fireball.execute_time )",
								["action"] = "pyroblast",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & ( hot_streak_spells_in_flight || firestarter.active || talent.alexstraszas_fury.enabled & action.phoenix_flames.charges )",
								["action"] = "pyroblast",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & searing_touch.active",
								["action"] = "pyroblast",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.skb_flamestrike & buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "flamestrike",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "improved_scorch.active & debuff.improved_scorch.remains < action.pyroblast.cast_time + 5 * gcd.max & buff.fury_of_the_sun_king.up & ! action.scorch.in_flight",
								["action"] = "scorch",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.fury_of_the_sun_king.up & buff.fury_of_the_sun_king.expiration_delay_remains = 0",
								["action"] = "pyroblast",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_streak.react & searing_touch.active",
								["action"] = "pyroblast",
							}, -- [9]
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "! firestarter.active & ! variable.fire_blast_pooling & buff.fury_of_the_sun_king.down & ( ( ( action.fireball.executing & ( action.fireball.execute_remains < 0.5 || ! talent.hyperthermia.enabled ) || action.pyroblast.executing & ( action.pyroblast.execute_remains < 0.5 || ! talent.hyperthermia.enabled ) ) & buff.heating_up.react ) || ( searing_touch.active & ( ! improved_scorch.active || debuff.improved_scorch.stack = debuff.improved_scorch.max_stack || full_recharge_time < 3 ) & ( buff.heating_up.react & ! action.scorch.executing || ! buff.hot_streak.react & ! buff.heating_up.react & action.scorch.executing & ! hot_streak_spells_in_flight ) ) )",
								["use_off_gcd"] = 1,
								["description"] = "During the standard rotation, only use Fire Blasts when they are not being pooled for RoP or Combustion. Use Fire Blast either during a Fireball/Pyroblast cast when Heating Up is active or during execute with Searing Touch.",
								["action"] = "fire_blast",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.scorch & buff.hot_streak.react & searing_touch.active & active_enemies < variable.hot_streak_flamestrike",
								["action"] = "pyroblast",
								["description"] = "Modified, changed to Hot Streak to avoid hardcasted Pyroblasts.",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "improved_scorch.active & debuff.improved_scorch.remains < 4 * gcd.max",
								["action"] = "scorch",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "talent.alexstraszas_fury.enabled & ( ! talent.feel_the_burn.enabled || buff.feel_the_burn.remains < 2 * gcd.max )",
								["action"] = "phoenix_flames",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc & debuff.charring_embers.remains < 2 * gcd.max & ! buff.hot_streak.react",
								["action"] = "phoenix_flames",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "improved_scorch.active & debuff.improved_scorch.stack < debuff.improved_scorch.max_stack",
								["action"] = "scorch",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "! talent.alexstraszas_fury.enabled & ! buff.hot_streak.react & ! variable.phoenix_pooling & buff.flames_fury.up",
								["action"] = "phoenix_flames",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.alexstraszas_fury.enabled & ! buff.hot_streak.react & hot_streak_spells_in_flight = 0 & ( ! variable.phoenix_pooling & buff.flames_fury.up || charges_fractional > 2.5 || charges_fractional > 1.5 & ( ! talent.feel_the_burn.enabled || buff.feel_the_burn.remains < 3 * gcd.max ) )",
								["action"] = "phoenix_flames",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "active_talents",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1",
								["action"] = "dragons_breath",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "searing_touch.active",
								["action"] = "scorch",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.arcane_explosion & mana.pct >= variable.arcane_explosion_mana",
								["action"] = "arcane_explosion",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.hard_cast_flamestrike",
								["action"] = "flamestrike",
								["description"] = "With enough targets, it is a gain to cast Flamestrike as filler instead of Fireball.",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.tempered_flames.enabled & ! buff.flame_accelerant.react",
								["action"] = "pyroblast",
							}, -- [23]
							{
								["action"] = "fireball",
								["enabled"] = true,
							}, -- [24]
						},
						["firestarter_fire_blasts"] = {
							{
								["enabled"] = true,
								["use_while_casting"] = 1,
								["criteria"] = "! variable.fire_blast_pooling & ! buff.hot_streak.react & ( action.fireball.execute_remains > gcd.remains || action.pyroblast.executing ) & buff.heating_up.react + hot_streak_spells_in_flight = 1 & ( cooldown.shifting_power.ready || charges > 1 || buff.feel_the_burn.remains < 2 * gcd.max )",
								["action"] = "fire_blast",
								["description"] = "While casting Fireball or Pyroblast, convert Heating Up to a Hot Streak!",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! variable.fire_blast_pooling & buff.heating_up.react + hot_streak_spells_in_flight = 1 & ( talent.feel_the_burn.enabled & buff.feel_the_burn.remains < gcd.remains || cooldown.shifting_power.ready & ( ! set_bonus.tier30_2pc || debuff.charring_embers.remains > 2 * gcd.max ) )",
								["use_off_gcd"] = 1,
								["description"] = "If not casting anything, use Fire Blast to trigger Hot Streak! only if Feel the Burn is talented and would expire before the GCD ends or if Shifting Power is available.",
								["action"] = "fire_blast",
							}, -- [2]
						},
					},
					["version"] = 20230827,
					["warnings"] = "The import for 'firestarter_fire_blasts' required some automated changes.\nLine 2: Converted 'talent.feel_the_burn' to 'talent.feel_the_burn.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 2: Converted 'talent.temporal_warp' to 'talent.temporal_warp.enabled' (1x).\nLine 11: Converted 'conduit.infernal_cascade' to 'conduit.infernal_cascade.enabled' (1x).\nLine 11: Converted 'runeforge.sun_kings_blessing' to 'runeforge.sun_kings_blessing.enabled' (1x).\nLine 11: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 11: Converted operations in '!variable.item_cutoff_active&(buff.infernal_cascade.stack=buff.infernal_cascade.max_stack||!conduit.infernal_cascade.enabled||variable.combustion_on_use&!(runeforge.sun_kings_blessing.enabled||talent.sun_kings_blessing.enabled)||variable.time_to_combustion>interpolated_fight_remains%%(action_cooldown+10))' to '!variable.item_cutoff_active&(buff.infernal_cascade.stack=buff.infernal_cascade.max_stack||!conduit.infernal_cascade.enabled||variable.combustion_on_use&!(runeforge.sun_kings_blessing.enabled||talent.sun_kings_blessing.enabled)||variable.time_to_combustion>interpolated_fight_remains%(action_cooldown+10))'.\nLine 12: Converted 'conduit.infernal_cascade' to 'conduit.infernal_cascade.enabled' (1x).\nLine 13: Converted 'conduit.infernal_cascade' to 'conduit.infernal_cascade.enabled' (1x).\nLine 21: Converted 'runeforge.grisly_icicle' to 'runeforge.grisly_icicle.enabled' (1x).\nLine 22: Converted 'runeforge.disciplinary_command' to 'runeforge.disciplinary_command.enabled' (1x).\nLine 23: Converted 'runeforge.disciplinary_command' to 'runeforge.disciplinary_command.enabled' (1x).\nLine 23: Converted 'talent.rune_of_power' to 'talent.rune_of_power.enabled' (1x).\nLine 24: Converted 'runeforge.disciplinary_command' to 'runeforge.disciplinary_command.enabled' (1x).\nLine 25: Converted 'runeforge.disciplinary_command' to 'runeforge.disciplinary_command.enabled' (1x).\nLine 26: Converted operations in 'buff.combustion.down&action.fire_blast.charges_fractional+(variable.time_to_combustion+action.shifting_power.full_reduction*variable.shifting_power_before_combustion)%cooldown.fire_blast.duration-1<cooldown.fire_blast.max_charges+variable.overpool_fire_blasts%cooldown.fire_blast.duration-(buff.combustion.duration%cooldown.fire_blast.duration)%%1&variable.time_to_combustion<fight_remains' to 'buff.combustion.down&action.fire_blast.charges_fractional+(variable.time_to_combustion+action.shifting_power.full_reduction*variable.shifting_power_before_combustion)/cooldown.fire_blast.duration-1<cooldown.fire_blast.max_charges+variable.overpool_fire_blasts/cooldown.fire_blast.duration-(buff.combustion.duration/cooldown.fire_blast.duration)%1&variable.time_to_combustion<fight_remains'.\nLine 28: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 2: Converted 'talent.firestarter' to 'talent.firestarter.enabled' (1x).\n\nThe import for 'combustion_cooldowns' required some automated changes.\nLine 6: Converted 'talent.temporal_warp' to 'talent.temporal_warp.enabled' (1x).\nLine 6: Converted 'runeforge.temporal_warp' to 'runeforge.temporal_warp.enabled' (1x).\n\nThe import for 'active_talents' required some automated changes.\nLine 2: Converted 'talent.sun_kings_blessing' to 'talent.sun_kings_blessing.enabled' (1x).\nLine 3: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 3: Converted 'talent.tempered_flames' to 'talent.tempered_flames.enabled' (1x).\nLine 4: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 4: Converted 'talent.tempered_flames' to 'talent.tempered_flames.enabled' (1x).\n\nThe import for 'standard_rotation' required some automated changes.\nLine 4: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 10: Converted 'talent.hyperthermia' to 'talent.hyperthermia.enabled' (1x).\nLine 10: Converted 'talent.hyperthermia' to 'talent.hyperthermia.enabled' (1x).\nLine 13: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 13: Converted 'talent.feel_the_burn' to 'talent.feel_the_burn.enabled' (1x).\nLine 16: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 17: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 17: Converted 'talent.feel_the_burn' to 'talent.feel_the_burn.enabled' (1x).\nLine 23: Converted 'talent.tempered_flames' to 'talent.tempered_flames.enabled' (1x).\n\nThe import for 'combustion_phase' required some automated changes.\nLine 15: Converted 'runeforge.firestorm' to 'runeforge.firestorm.enabled' (1x).\nLine 15: Converted 'talent.hyperthermia' to 'talent.hyperthermia.enabled' (1x).\nLine 20: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\nLine 26: Converted 'talent.alexstraszas_fury' to 'talent.alexstraszas_fury.enabled' (1x).\n\nImported 7 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/arcane_intellect\n## # APL Variable Option: If set to a non-zero value, the Combustion action and cooldowns that are constrained to only be used when Combustion is up will not be used during the simulation.\n## actions.precombat+=/variable,name=disable_combustion,op=reset\n## # APL Variable Option: This variable specifies whether Combustion should be used during Firestarter.\n## actions.precombat+=/variable,name=firestarter_combustion,default=-1,value=talent.sun_kings_blessing,if=variable.firestarter_combustion<0\n## # APL Variable Option: This variable specifies the number of targets at which Hot Streak Flamestrikes outside of Combustion should be used.\n## actions.precombat+=/variable,name=hot_streak_flamestrike,if=variable.hot_streak_flamestrike=0,value=3*talent.flame_patch+999*!talent.flame_patch\n## # APL Variable Option: This variable specifies the number of targets at which Hard Cast Flamestrikes outside of Combustion should be used as filler.\n## actions.precombat+=/variable,name=hard_cast_flamestrike,if=variable.hard_cast_flamestrike=0,value=999\n## # APL Variable Option: This variable specifies the number of targets at which Hot Streak Flamestrikes are used during Combustion.\n## actions.precombat+=/variable,name=combustion_flamestrike,if=variable.combustion_flamestrike=0,value=3*talent.flame_patch+999*!talent.flame_patch\n## # APL Variable Option: This variable specifies the number of targets at which Flamestrikes should be used to consume Fury of the Sun King.\n## actions.precombat+=/variable,name=skb_flamestrike,if=variable.skb_flamestrike=0,value=3\n## # APL Variable Option: This variable specifies the number of targets at which Arcane Explosion outside of Combustion should be used.\n## actions.precombat+=/variable,name=arcane_explosion,if=variable.arcane_explosion=0,value=999\n## # APL Variable Option: This variable specifies the percentage of mana below which Arcane Explosion will not be used.\n## actions.precombat+=/variable,name=arcane_explosion_mana,default=40,op=reset\n## # APL Variable Option: The number of targets at which Shifting Power can used during Combustion.\n## actions.precombat+=/variable,name=combustion_shifting_power,if=variable.combustion_shifting_power=0,value=999\n## # APL Variable Option: The time remaining on a cast when Combustion can be used in seconds.\n## actions.precombat+=/variable,name=combustion_cast_remains,default=0.3,op=reset\n## # APL Variable Option: This variable specifies the number of seconds of Fire Blast that should be pooled past the default amount.\n## actions.precombat+=/variable,name=overpool_fire_blasts,default=0,op=reset\n## # If Combustion is disabled, schedule the first Combustion far after the fight ends.\n## actions.precombat+=/variable,name=time_to_combustion,value=fight_remains+100,if=variable.disable_combustion\n## # The duration of a Sun King's Blessing Combustion.\n## actions.precombat+=/variable,name=skb_duration,value=dbc.effect.1016075.base_value\n## # Whether a usable item used to buff Combustion is equipped.\n## actions.precombat+=/variable,name=combustion_on_use,value=equipped.gladiators_badge||equipped.moonlit_prism||equipped.irideus_fragment||equipped.spoils_of_neltharus||equipped.tome_of_unstable_power||equipped.timebreaching_talon||equipped.horn_of_valor\n## # How long before Combustion should trinkets that trigger a shared category cooldown on other trinkets not be used?\n## actions.precombat+=/variable,name=on_use_cutoff,value=20,if=variable.combustion_on_use\nactions.precombat+=/use_item,name=soul_igniter,if=!variable.combustion_on_use&!equipped.dreadfire_vessel&(!talent.firestarter||variable.firestarter_combustion)\nactions.precombat+=/use_item,name=shadowed_orb_of_torment,if=!equipped.the_first_sigil\nactions.precombat+=/mirror_image\nactions.precombat+=/flamestrike,if=active_enemies>=variable.hot_streak_flamestrike\nactions.precombat+=/pyroblast\n\n# Executed every time the actor is available.\nactions=counterspell\n# The second Time Warp is usually best used immediately on pull with Temporal Warp so that it comes off cooldown earlier; this can sometimes be slightly worse if doing so will not result in additional Time Warp(s) throughout the encounter. Additionally, it should always be used at the end of the fight regardless of Combustion being ready if it is available.\nactions+=/time_warp,if=debuff.sated.up&talent.temporal_warp&(firestarter.active||interpolated_fight_remains<buff.bloodlust.duration)\nactions+=/potion,if=buff.potion.duration>variable.time_to_combustion+buff.combustion.duration\nactions+=/use_item,effect_name=gladiators_badge,if=variable.time_to_combustion>cooldown-5\nactions+=/use_item,name=empyreal_ordnance,if=variable.time_to_combustion<=variable.empyreal_ordnance_delay&variable.time_to_combustion>variable.empyreal_ordnance_delay-5\nactions+=/use_item,name=shadowed_orb_of_torment,if=(variable.time_to_combustion<=variable.combustion_precast_time+2||fight_remains<variable.time_to_combustion)&buff.combustion.down&(!equipped.the_first_sigil||cooldown.the_first_sigil_367241.remains>40)\nactions+=/use_item,name=grim_eclipse,if=variable.time_to_combustion<=8||fight_remains<variable.time_to_combustion\nactions+=/use_item,name=moonlit_prism,if=variable.time_to_combustion<=5||fight_remains<variable.time_to_combustion\nactions+=/use_item,name=glyph_of_assimilation,if=!variable.item_cutoff_active\nactions+=/use_item,name=macabre_sheet_music,if=variable.time_to_combustion<=5\n# If using a steroid on-use item, always use Dreadfire Vessel outside of Combustion. Otherwise, prioritize using Dreadfire Vessel with Combustion only if Feel the Burn is enabled and a usage won't be lost over the duration of the fight. This adds a small value to the cooldown of Dreadfire Vessel when doing this calculation because it is unrealstic to assume that it will be used perfectly on cooldown. Note that with Sun King's Blessing, it is possible to sync this with SKB Combustions regardless of on-use trinkets.\nactions+=/use_item,name=dreadfire_vessel,if=!variable.item_cutoff_active&(buff.infernal_cascade.stack=buff.infernal_cascade.max_stack||!conduit.infernal_cascade||variable.combustion_on_use&!(runeforge.sun_kings_blessing||talent.sun_kings_blessing)||variable.time_to_combustion>interpolated_fight_remains%%(cooldown+10))\n# Soul Igniter should be used in a way that doesn't interfere with other on-use trinkets. Other trinkets do not trigger a shared ICD on it, so it can be used right after any other on-use trinket.\nactions+=/use_item,name=soul_igniter,if=(cooldown.hyperthread_wristwraps.remains||!variable.item_cutoff_active)&(!conduit.infernal_cascade||buff.infernal_cascade.up||buff.combustion.up)&(!equipped.dreadfire_vessel||cooldown.dreadfire_vessel_349857.remains>5)\n# Trigger Soul Igniter early with Infernal Cascade or when it was precast.\nactions+=/cancel_buff,name=soul_ignition,if=!conduit.infernal_cascade&time<5||buff.infernal_cascade.stack=buff.infernal_cascade.max_stack\n# Items that do not benefit Combustion should just be used outside of Combustion at some point.\nactions+=/use_item,name=inscrutable_quantum_device,if=equipped.gladiators_badge&(buff.combustion.down&variable.time_to_combustion>=variable.on_use_cutoff||variable.on_use_cutoff=0)\nactions+=/use_item,name=flame_of_battle,if=equipped.gladiators_badge&!variable.item_cutoff_active\nactions+=/use_item,name=wakeners_frond,if=equipped.gladiators_badge&!variable.item_cutoff_active\nactions+=/use_item,name=instructors_divine_bell,if=equipped.gladiators_badge&!variable.item_cutoff_active\nactions+=/use_item,name=sunblood_amethyst,if=equipped.gladiators_badge&!variable.item_cutoff_active\nactions+=/use_item,name=scars_of_fraternal_strife,if=buff.scars_of_fraternal_strife_4.down\nactions+=/use_items,if=!variable.item_cutoff_active\n# Use Frost Nova to trigger Grisly Icicle.\nactions+=/frost_nova,if=runeforge.grisly_icicle&buff.combustion.down&(variable.time_to_combustion>cooldown||variable.time_to_combustion<variable.combustion_precast_time+execute_time)\n# Get the Disciplinary Command buff up, unless combustion is soon.\nactions+=/counterspell,if=runeforge.disciplinary_command&cooldown.buff_disciplinary_command.ready&buff.disciplinary_command_arcane.down&!buff.disciplinary_command.up&(variable.time_to_combustion+action.frostbolt.cast_time>cooldown.buff_disciplinary_command.duration||variable.time_to_combustion<5)\nactions+=/arcane_explosion,if=runeforge.disciplinary_command&cooldown.buff_disciplinary_command.ready&buff.disciplinary_command_arcane.down&!buff.disciplinary_command.up&(variable.time_to_combustion+execute_time+action.frostbolt.cast_time>cooldown.buff_disciplinary_command.duration||variable.time_to_combustion<5&!talent.rune_of_power)\nactions+=/frostbolt,if=runeforge.disciplinary_command&cooldown.buff_disciplinary_command.remains<cast_time&buff.disciplinary_command_frost.down&!buff.disciplinary_command.up&(variable.time_to_combustion+cast_time>cooldown.buff_disciplinary_command.duration||variable.time_to_combustion<5)\nactions+=/frost_nova,if=runeforge.disciplinary_command&cooldown.buff_disciplinary_command.ready&buff.disciplinary_command_frost.down&!buff.disciplinary_command.up&(variable.time_to_combustion>cooldown.buff_disciplinary_command.duration||variable.time_to_combustion<5)\n# Pool as many Fire Blasts as possible for Combustion.\nactions+=/variable,use_off_gcd=1,use_while_casting=1,name=fire_blast_pooling,value=buff.combustion.down&action.fire_blast.charges_fractional+(variable.time_to_combustion+action.shifting_power.full_reduction*variable.shifting_power_before_combustion)%cooldown.fire_blast.duration-1<cooldown.fire_blast.max_charges+variable.overpool_fire_blasts%cooldown.fire_blast.duration-(buff.combustion.duration%cooldown.fire_blast.duration)%%1&variable.time_to_combustion<fight_remains\nactions+=/call_action_list,name=combustion_phase,if=variable.time_to_combustion<=0||buff.combustion.up||variable.time_to_combustion<variable.combustion_precast_time&cooldown.combustion.remains<variable.combustion_precast_time\n# Adjust the variable that controls Fire Blast usage to save Fire Blasts while Searing Touch is active with Sun King's Blessing.\nactions+=/variable,use_off_gcd=1,use_while_casting=1,name=fire_blast_pooling,value=searing_touch.active&action.fire_blast.full_recharge_time>3*gcd.max,if=!variable.fire_blast_pooling&talent.sun_kings_blessing\nactions+=/shifting_power,if=buff.combustion.down&(action.fire_blast.charges=0||variable.fire_blast_pooling)&(!improved_scorch.active||debuff.improved_scorch.remains>cast_time+action.scorch.cast_time&!buff.fury_of_the_sun_king.up)&!buff.hot_streak.react&variable.shifting_power_before_combustion\n# When Hardcasting Flamestrike, Fire Blasts should be used to generate Hot Streaks and to extend Feel the Burn.\nactions+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=!variable.fire_blast_pooling&variable.time_to_combustion>0&active_enemies>=variable.hard_cast_flamestrike&!firestarter.active&!buff.hot_streak.react&(buff.heating_up.react&action.flamestrike.execute_remains<0.5||charges_fractional>=2)\n# During Firestarter, Fire Blasts are used similarly to during Combustion. Generally, they are used to generate Hot Streaks when crits will not be wasted and with Feel the Burn, they should be spread out to maintain the Feel the Burn buff.\nactions+=/call_action_list,name=firestarter_fire_blasts,if=buff.combustion.down&firestarter.active&variable.time_to_combustion>0\n# Avoid capping Fire Blast charges while channeling Shifting Power\nactions+=/fire_blast,use_while_casting=1,if=action.shifting_power.executing&full_recharge_time<action.shifting_power.tick_reduction\nactions+=/call_action_list,name=standard_rotation,if=variable.time_to_combustion>0&buff.combustion.down\nactions+=/scorch\n\nactions.active_talents=living_bomb,if=active_enemies>1&buff.combustion.down&(variable.time_to_combustion>cooldown.living_bomb.duration||variable.time_to_combustion<=0)\nactions.active_talents+=/meteor,if=variable.time_to_combustion<=0||buff.combustion.remains>travel_time||!talent.sun_kings_blessing&(cooldown.meteor.duration<variable.time_to_combustion||fight_remains<variable.time_to_combustion)\n# With Alexstrasza's Fury when Combustion is not active, Dragon's Breath should be used to convert Heating Up to a Hot Streak.\nactions.active_talents+=/dragons_breath,if=talent.alexstraszas_fury&(buff.combustion.down&!buff.hot_streak.react)&(buff.feel_the_burn.up||time>15)&(!improved_scorch.active)&!firestarter.remains&!talent.tempered_flames\nactions.active_talents+=/dragons_breath,if=talent.alexstraszas_fury&(buff.combustion.down&!buff.hot_streak.react)&(buff.feel_the_burn.up||time>15)&(!improved_scorch.active)&talent.tempered_flames\n\nactions.combustion_cooldowns=potion\nactions.combustion_cooldowns+=/blood_fury\nactions.combustion_cooldowns+=/berserking,if=buff.combustion.up\nactions.combustion_cooldowns+=/fireblood\nactions.combustion_cooldowns+=/ancestral_call\n## The addon does not invoke external buffs, because they player cannot actually choose to trigger them personally.\n## actions.combustion_cooldowns+=/invoke_external_buff,name=power_infusion,if=buff.power_infusion.down\n## actions.combustion_cooldowns+=/invoke_external_buff,name=blessing_of_summer,if=buff.blessing_of_summer.down\nactions.combustion_cooldowns+=/time_warp,if=(talent.temporal_warp||runeforge.temporal_warp)&debuff.sated.up\nactions.combustion_cooldowns+=/use_item,effect_name=gladiators_badge\nactions.combustion_cooldowns+=/use_item,name=irideus_fragment\nactions.combustion_cooldowns+=/use_item,name=spoils_of_neltharus\nactions.combustion_cooldowns+=/use_item,name=tome_of_unstable_power\nactions.combustion_cooldowns+=/use_item,name=timebreaching_talon\nactions.combustion_cooldowns+=/use_item,name=voidmenders_shadowgem\nactions.combustion_cooldowns+=/use_item,name=horn_of_valor\n\nactions.combustion_phase=lights_judgment,if=buff.combustion.down\nactions.combustion_phase+=/bag_of_tricks,if=buff.combustion.down\nactions.combustion_phase+=/living_bomb,if=active_enemies>1&buff.combustion.down\n# Other cooldowns that should be used with Combustion should only be used with an actual Combustion cast and not with a Sun King's Blessing proc.\nactions.combustion_phase+=/call_action_list,name=combustion_cooldowns,if=buff.combustion.remains>variable.skb_duration||fight_remains<20\nactions.combustion_phase+=/use_item,name=hyperthread_wristwraps,if=prev.1.fire_blast+prev.2.fire_blast+prev.3.fire_blast>=2&action.fire_blast.charges=0\nactions.combustion_phase+=/use_item,name=neural_synapse_enhancer,if=variable.time_to_combustion>60\n# In Charring embers is not up before Combustion, make sure to apply it.\nactions.combustion_phase+=/phoenix_flames,if=buff.combustion.down&set_bonus.tier30_2pc&!action.phoenix_flames.in_flight&debuff.charring_embers.remains<4*gcd.max&!buff.hot_streak.react\nactions.combustion_phase+=/call_action_list,name=active_talents\n# If Combustion is down, precast something before activating it.\nactions.combustion_phase+=/flamestrike,if=buff.combustion.down&buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&buff.fury_of_the_sun_king.expiration_delay_remains=0&cooldown.combustion.remains<cast_time&active_enemies>=variable.skb_flamestrike\nactions.combustion_phase+=/pyroblast,if=buff.combustion.down&buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.combustion_phase+=/fireball,if=buff.combustion.down&cooldown.combustion.remains<cast_time&active_enemies<2&!improved_scorch.active\nactions.combustion_phase+=/scorch,if=buff.combustion.down&cooldown.combustion.remains<cast_time\n# Combustion should be used when the precast is almost finished or when Meteor is about to land.\nactions.combustion_phase+=/combustion,use_off_gcd=1,use_while_casting=1,if=hot_streak_spells_in_flight=0&buff.combustion.down&variable.time_to_combustion<=0&(action.scorch.executing&action.scorch.execute_remains<variable.combustion_cast_remains||action.fireball.executing&action.fireball.execute_remains<variable.combustion_cast_remains||action.pyroblast.executing&action.pyroblast.execute_remains<variable.combustion_cast_remains||action.flamestrike.executing&action.flamestrike.execute_remains<variable.combustion_cast_remains||action.meteor.in_flight&action.meteor.in_flight_remains<variable.combustion_cast_remains)\n# Without Feel the Burn, just use Fire Blasts when they won't munch crits and when Firestorm is down.\nactions.combustion_phase+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=!variable.fire_blast_pooling&(!improved_scorch.active||action.scorch.executing||debuff.improved_scorch.remains>4*gcd.max)&(buff.fury_of_the_sun_king.down||action.pyroblast.executing)&buff.combustion.up&!buff.hyperthermia.react&!buff.hot_streak.react&hot_streak_spells_in_flight+buff.heating_up.react*(gcd.remains>0)<2\n# Spend Hot Streaks during Combustion at high priority.\nactions.combustion_phase+=/flamestrike,if=(buff.hot_streak.react&active_enemies>=variable.combustion_flamestrike)||((buff.firestorm.react||buff.hyperthermia.react)&active_enemies>=variable.combustion_flamestrike-(runeforge.firestorm||talent.hyperthermia))\n# Radiant Spark should be used with a Hot Streak ready to use immediately after the cast finishes. This will naturally set up a Hot Streak spent for the final stack of Radiant Spark.\nactions.combustion_phase+=/radiant_spark,if=buff.combustion.up&2*buff.hot_streak.react+buff.heating_up.react+hot_streak_spells_in_flight=2\nactions.combustion_phase+=/pyroblast,if=(buff.firestorm.react||buff.hyperthermia.react)\n## With Sun King's Blessing, there is a brief delay before the Sun King's Blessing ready buff is removed after consuming it. It is beneficial to wait for this delay before spending Hot Streaks to not waste a stack.\n## actions.combustion_phase+=/wait,sec=0.01,if=buff.hot_streak.react&active_enemies<variable.combustion_flamestrike&(buff.sun_kings_blessing_ready.expiration_delay_remains||time-buff.sun_kings_blessing_ready.last_expire<variable.skb_delay-0.03)\nactions.combustion_phase+=/pyroblast,if=buff.hot_streak.react&buff.combustion.up\nactions.combustion_phase+=/pyroblast,if=prev_gcd.1.scorch&buff.heating_up.react&active_enemies<variable.combustion_flamestrike&buff.combustion.up\n# Using Shifting Power during Combustion to restore Fire Blast and Phoenix Flame charges can be beneficial, but usually only on AoE.\nactions.combustion_phase+=/shifting_power,if=buff.combustion.up&!action.fire_blast.charges&(action.phoenix_flames.charges<action.phoenix_flames.max_charges||talent.alexstraszas_fury)&variable.combustion_shifting_power<=active_enemies\n+# Spend Fury of the Sun King procs.\nactions.combustion_phase+=/flamestrike,if=buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&active_enemies>=variable.skb_flamestrike&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.combustion_phase+=/pyroblast,if=buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.remains>cast_time&buff.fury_of_the_sun_king.expiration_delay_remains=0\n# Maintain Improved Scorch when not casting Flamestrikes in Combustion.\nactions.combustion_phase+=/scorch,if=improved_scorch.active&(debuff.improved_scorch.remains<4*gcd.max)&active_enemies<variable.combustion_flamestrike\n# With the T30 set, Phoenix Flames should be used to maintain Charring Embers during Combustion and Flame's Fury procs should be spent.\nactions.combustion_phase+=/phoenix_flames,if=set_bonus.tier30_2pc&travel_time<buff.combustion.remains&buff.heating_up.react+hot_streak_spells_in_flight<2&(debuff.charring_embers.remains<4*gcd.max||buff.flames_fury.stack>1||buff.flames_fury.up)\nactions.combustion_phase+=/fireball,if=buff.combustion.remains>cast_time&buff.flame_accelerant.react\n# Use Phoenix Flames and Scorch in Combustion to help generate Hot Streaks when Fire Blasts are not available or need to be conserved.\nactions.combustion_phase+=/phoenix_flames,if=!set_bonus.tier30_2pc&!talent.alexstraszas_fury&travel_time<buff.combustion.remains&buff.heating_up.react+hot_streak_spells_in_flight<2\nactions.combustion_phase+=/scorch,if=buff.combustion.remains>cast_time&cast_time>=gcd.max\nactions.combustion_phase+=/fireball,if=buff.combustion.remains>cast_time\n# If there isn't enough time left in Combustion for a Phoenix Flames or Scorch to hit inside of Combustion, use something else.\nactions.combustion_phase+=/living_bomb,if=buff.combustion.remains<gcd.max&active_enemies>1\n\n# While casting Fireball or Pyroblast, convert Heating Up to a Hot Streak!\nactions.firestarter_fire_blasts+=/fire_blast,use_while_casting=1,if=!variable.fire_blast_pooling&!buff.hot_streak.react&(action.fireball.execute_remains>gcd.remains||action.pyroblast.executing)&buff.heating_up.react+hot_streak_spells_in_flight=1&(cooldown.shifting_power.ready||charges>1||buff.feel_the_burn.remains<2*gcd.max)\n# If not casting anything, use Fire Blast to trigger Hot Streak! only if Feel the Burn is talented and would expire before the GCD ends or if Shifting Power is available.\nactions.firestarter_fire_blasts+=/fire_blast,use_off_gcd=1,if=!variable.fire_blast_pooling&buff.heating_up.react+hot_streak_spells_in_flight=1&(talent.feel_the_burn&buff.feel_the_burn.remains<gcd.remains||cooldown.shifting_power.ready&(!set_bonus.tier30_2pc||debuff.charring_embers.remains>2*gcd.max))\n\nactions.standard_rotation=flamestrike,if=active_enemies>=variable.hot_streak_flamestrike&(buff.hot_streak.react||(buff.firestorm.react||buff.hyperthermia.react))\nactions.standard_rotation+=/pyroblast,if=buff.hyperthermia.react\nactions.standard_rotation+=/pyroblast,if=buff.hot_streak.react&(buff.hot_streak.remains<action.fireball.execute_time)\nactions.standard_rotation+=/pyroblast,if=buff.hot_streak.react&(hot_streak_spells_in_flight||firestarter.active||talent.alexstraszas_fury&action.phoenix_flames.charges)\nactions.standard_rotation+=/pyroblast,if=buff.hot_streak.react&searing_touch.active\nactions.standard_rotation+=/flamestrike,if=active_enemies>=variable.skb_flamestrike&buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.standard_rotation+=/scorch,if=improved_scorch.active&debuff.improved_scorch.remains<action.pyroblast.cast_time+5*gcd.max&buff.fury_of_the_sun_king.up&!action.scorch.in_flight\nactions.standard_rotation+=/pyroblast,if=buff.fury_of_the_sun_king.up&buff.fury_of_the_sun_king.expiration_delay_remains=0\nactions.standard_rotation+=/pyroblast,if=buff.hot_streak.react&searing_touch.active\n# During the standard rotation, only use Fire Blasts when they are not being pooled for RoP or Combustion. Use Fire Blast either during a Fireball/Pyroblast cast when Heating Up is active or during execute with Searing Touch.\nactions.standard_rotation+=/fire_blast,use_off_gcd=1,use_while_casting=1,if=!firestarter.active&!variable.fire_blast_pooling&buff.fury_of_the_sun_king.down&(((action.fireball.executing&(action.fireball.execute_remains<0.5||!talent.hyperthermia)||action.pyroblast.executing&(action.pyroblast.execute_remains<0.5||!talent.hyperthermia))&buff.heating_up.react)||(searing_touch.active&(!improved_scorch.active||debuff.improved_scorch.stack=debuff.improved_scorch.max_stack||full_recharge_time<3)&(buff.heating_up.react&!action.scorch.executing||!buff.hot_streak.react&!buff.heating_up.react&action.scorch.executing&!hot_streak_spells_in_flight)))\n# Modified; changed to Hot Streak to avoid hardcasted Pyroblasts.\nactions.standard_rotation+=/pyroblast,if=prev_gcd.1.scorch&buff.hot_streak.react&searing_touch.active&active_enemies<variable.hot_streak_flamestrike\nactions.standard_rotation+=/scorch,if=improved_scorch.active&debuff.improved_scorch.remains<4*gcd.max\nactions.standard_rotation+=/phoenix_flames,if=talent.alexstraszas_fury&(!talent.feel_the_burn||buff.feel_the_burn.remains<2*gcd.max)\nactions.standard_rotation+=/phoenix_flames,if=set_bonus.tier30_2pc&debuff.charring_embers.remains<2*gcd.max&!buff.hot_streak.react\nactions.standard_rotation+=/scorch,if=improved_scorch.active&debuff.improved_scorch.stack<debuff.improved_scorch.max_stack\nactions.standard_rotation+=/phoenix_flames,if=!talent.alexstraszas_fury&!buff.hot_streak.react&!variable.phoenix_pooling&buff.flames_fury.up\nactions.standard_rotation+=/phoenix_flames,if=talent.alexstraszas_fury&!buff.hot_streak.react&hot_streak_spells_in_flight=0&(!variable.phoenix_pooling&buff.flames_fury.up||charges_fractional>2.5||charges_fractional>1.5&(!talent.feel_the_burn||buff.feel_the_burn.remains<3*gcd.max))\nactions.standard_rotation+=/call_action_list,name=active_talents\nactions.standard_rotation+=/dragons_breath,if=active_enemies>1\nactions.standard_rotation+=/scorch,if=searing_touch.active\nactions.standard_rotation+=/arcane_explosion,if=active_enemies>=variable.arcane_explosion&mana.pct>=variable.arcane_explosion_mana\n# With enough targets, it is a gain to cast Flamestrike as filler instead of Fireball.\nactions.standard_rotation+=/flamestrike,if=active_enemies>=variable.hard_cast_flamestrike\nactions.standard_rotation+=/pyroblast,if=talent.tempered_flames&!buff.flame_accelerant.react\nactions.standard_rotation+=/fireball",
				},
				["Enhancement"] = {
					["source"] = "https://github.com/simulationcraft/simc/blob/dragonflight/engine/class_modules/sc_shaman.cpp",
					["builtIn"] = true,
					["date"] = 20230808,
					["spec"] = 263,
					["desc"] = "2023-08-08: Add Funnel option and priority from SimC.\n\n2023-07-11: Patch 10.1.5 update.\n\n2023-07-02: Assume Flame Shocks on other targets are potentially out of range; manually apply Flame Shock after target swapping, if needed.\n\n2023-06-26: Updates to Ice Strike / Frost Shock.\n\n2023-05-30: Update Lava Lash usage with Ashen Catalyst.\n\n2023-05-20: Updates to trinkets.\n\n2023-05-14: Fix premature Lightning Bolt with PWave in AOE.\n\n2023-05-12: Add alpha_wolf_min_remains and Flame Shock if PWave is on CD.\n\n2023-05-06: More incremental SimC updates.\n\n2023-05-02: More incremental SimC updates.\n\n2023-04-30: More SimC updates.\n\n2023-04-29: Additional SimC updates.\n\n2023-04-26: Update from SimulationCraft for 10.1.\n\n2023-03-05:  In multi-target scenarios, filler Flame Shock should only be used if Flame Shock is refreshable.",
					["lists"] = {
						["single"] = {
							{
								["enabled"] = true,
								["criteria"] = "! dot.flame_shock.ticking & talent.lashing_flames.enabled & ( raid_event.adds.in > 42 || raid_event.adds.in < 6 )",
								["action"] = "primordial_wave",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! ticking & talent.lashing_flames.enabled",
								["action"] = "flame_shock",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & talent.elemental_spirits.enabled & feral_spirit.active >= 4",
								["action"] = "elemental_blast",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc & raid_event.adds.in >= 40",
								["action"] = "sundering",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.crackling_thunder.down & buff.ascendance.up & ti_chain_lightning & ( buff.ascendance.remains > ( cooldown.strike.remains + gcd.max ) )",
								["action"] = "lightning_bolt",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack >= 1 & ( talent.deeply_rooted_elements.enabled || ( talent.stormblast.enabled & buff.stormbringer.up ) || ( talent.elemental_assault.enabled & talent.stormflurry.enabled ) || ti_lightning_bolt )",
								["action"] = "windstrike",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || talent.deeply_rooted_elements.enabled || ( talent.stormblast.enabled & buff.stormbringer.up ) || ( ( talent.elemental_assault.enabled & talent.stormflurry.enabled ) & buff.maelstrom_weapon.stack < buff.maelstrom_weapon.max_stack )",
								["action"] = "stormstrike",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_hand.up",
								["action"] = "lava_lash",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! buff.windfury_totem.up",
								["action"] = "windfury_totem",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & charges = max_charges",
								["action"] = "elemental_blast",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.primordial_wave.up & ( buff.primordial_wave.remains < 1.5 * gcd.max || raid_event.adds.in > buff.primordial_wave.remains & ( ! buff.splintered_elements.up || boss & fight_remains <= 12 ) )",
								["action"] = "lightning_bolt",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.crackling_thunder.up & talent.elemental_spirits.enabled",
								["action"] = "chain_lightning",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.crackling_thunder.down & buff.ascendance.up & ti_chain_lightning",
								["action"] = "lightning_bolt",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & ( buff.feral_spirit.up || ! talent.elemental_spirits.enabled )",
								["action"] = "elemental_blast",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "! talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack >= 5",
								["action"] = "lava_burst",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "( ( buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack ) || ( talent.static_accumulation.enabled & buff.maelstrom_weapon.stack >= 5 ) ) & buff.primordial_wave.down",
								["action"] = "lightning_bolt",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up",
								["action"] = "ice_strike",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up & raid_event.adds.in >= 40",
								["action"] = "sundering",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 )",
								["action"] = "crash_lightning",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 42 || raid_event.adds.in < 6",
								["action"] = "primordial_wave",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "flame_shock",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & dot.flame_shock.refreshable",
								["action"] = "lava_lash",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "! buff.ice_strike.up",
								["action"] = "ice_strike",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "buff.hailstorm.up",
								["action"] = "frost_shock",
							}, -- [24]
							{
								["action"] = "lava_lash",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "ice_strike",
								["enabled"] = true,
							}, -- [26]
							{
								["action"] = "windstrike",
								["enabled"] = true,
							}, -- [27]
							{
								["action"] = "stormstrike",
								["enabled"] = true,
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in >= 40",
								["action"] = "sundering",
							}, -- [29]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "talent.swirling_maelstrom.enabled & active_dot.flame_shock & buff.maelstrom_weapon.stack < buff.maelstrom_weapon.max_stack",
								["action"] = "fire_nova",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & buff.maelstrom_weapon.stack >= 5 & buff.primordial_wave.down",
								["action"] = "lightning_bolt",
							}, -- [32]
							{
								["action"] = "frost_shock",
								["enabled"] = true,
							}, -- [33]
							{
								["action"] = "crash_lightning",
								["enabled"] = true,
							}, -- [34]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock",
								["action"] = "fire_nova",
							}, -- [35]
							{
								["action"] = "earth_elemental",
								["enabled"] = true,
							}, -- [36]
							{
								["enabled"] = true,
								["criteria"] = "settings.filler_shock",
								["action"] = "flame_shock",
							}, -- [37]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.primordial_wave.down",
								["action"] = "lightning_bolt",
							}, -- [38]
							{
								["enabled"] = true,
								["criteria"] = "buff.windfury_totem.remains < 30",
								["action"] = "windfury_totem",
							}, -- [39]
						},
						["funnel"] = {
							{
								["enabled"] = true,
								["criteria"] = "( active_dot.flame_shock >= active_enemies || active_dot.flame_shock = 6 ) & buff.primordial_wave.up & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! buff.splintered_elements.up || fight_remains <= 12 || raid_event.adds.remains <= gcd.max )",
								["action"] = "lightning_bolt",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( talent.molten_assault.enabled & dot.flame_shock.ticking & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6 ) || ( talent.ashen_catalyst.enabled & buff.ashen_catalyst.stack = buff.ashen_catalyst.max_stack )",
								["action"] = "lava_lash",
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["criteria"] = "! buff.primordial_wave.up",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["description"] = "In game, you might not have Primordial Wave ready on pull but you want Flame Shock out for LL, FN, and PWave when it comes available.  Also, existing Flame Shocks may not be close enough to spread.",
								["criteria"] = "( talent.primordial_wave.enabled || talent.fire_nova.enabled ) & ! ticking",
								["action"] = "flame_shock",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "elemental_blast",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack > 1 ) || buff.converging_storms.stack = buff.converging_storms.max_stack",
								["action"] = "windstrike",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.converging_storms.stack = buff.converging_storms.max_stack",
								["action"] = "stormstrike",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & buff.crackling_thunder.up",
								["action"] = "chain_lightning",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( buff.molten_weapon.stack + buff.volcanic_strength.up > buff.crackling_surge.stack ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "lava_burst",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "lightning_bolt",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || ! buff.crash_lightning.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 ) || ( talent.converging_storms.enabled & buff.converging_storms.stack < buff.converging_storms.max_stack )",
								["action"] = "crash_lightning",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || set_bonus.tier30_2pc",
								["action"] = "sundering",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock = 6 || ( active_dot.flame_shock >= 4 & active_dot.flame_shock >= cycle_enemies )",
								["action"] = "fire_nova",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & ! buff.ice_strike.up",
								["action"] = "ice_strike",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
								["action"] = "frost_shock",
							}, -- [15]
							{
								["action"] = "sundering",
								["enabled"] = true,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & ! ticking",
								["action"] = "flame_shock",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["criteria"] = "( talent.fire_nova.enabled || talent.primordial_wave.enabled ) & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 3",
								["action"] = "fire_nova",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.crash_lightning.up & talent.deeply_rooted_elements.enabled",
								["action"] = "stormstrike",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "talent.crashing_storms.enabled & buff.cl_crash_lightning.up & active_enemies >= 4",
								["action"] = "crash_lightning",
							}, -- [21]
							{
								["action"] = "windstrike",
								["enabled"] = true,
							}, -- [22]
							{
								["action"] = "stormstrike",
								["enabled"] = true,
							}, -- [23]
							{
								["action"] = "ice_strike",
								["enabled"] = true,
							}, -- [24]
							{
								["action"] = "lava_lash",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "crash_lightning",
								["enabled"] = true,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 2",
								["action"] = "fire_nova",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack >= 5",
								["action"] = "elemental_blast",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "( buff.molten_weapon.stack + buff.volcanic_strength.up > buff.crackling_surge.stack ) & buff.maelstrom_weapon.stack >= 5",
								["action"] = "lava_burst",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5",
								["action"] = "lightning_bolt",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "buff.windfury_totem.remains < 30",
								["action"] = "windfury_totem",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "flame_shock",
							}, -- [32]
							{
								["enabled"] = true,
								["criteria"] = "! talent.hailstorm.enabled",
								["action"] = "frost_shock",
							}, -- [33]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "wind_shear",
								["description"] = "interrupt of casts.",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "settings.hostile_dispel",
								["action"] = "purge",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "settings.hostile_dispel",
								["action"] = "greater_purge",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & fight_remains <= 30 || ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled )",
								["action"] = "potion",
							}, -- [4]
							{
								["enabled"] = true,
								["name"] = "elementium_pocket_anvil",
								["action"] = "elementium_pocket_anvil",
								["use_off_gcd"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "algethar_puzzle_box",
								["use_off_gcd"] = 1,
								["name"] = "algethar_puzzle_box",
								["criteria"] = "( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || ( talent.ascendance.enabled & ( cooldown.ascendance.remains < 2 * action.stormstrike.gcd ) ) || boss & ( fight_remains % 180 <= 30 )",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["criteria"] = "! variable.trinket1_is_weird & trinket.t1.has_use_buff & ( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % trinket.t1.cooldown.duration <= trinket.t1.buff.duration ) || ( variable.min_talented_cd_remains >= trinket.t1.cooldown.duration ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["slot"] = "trinket1",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["criteria"] = "! variable.trinket2_is_weird & trinket.t2.has_use_buff & ( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % trinket.t2.cooldown.duration <= trinket.t2.buff.duration ) || ( variable.min_talented_cd_remains >= trinket.t2.cooldown.duration ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["slot"] = "trinket2",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["name"] = "beacon_to_the_beyond",
								["criteria"] = "( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || boss & ( fight_remains % 150 <= 5 )",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "manic_grieftorch",
								["use_off_gcd"] = 1,
								["name"] = "manic_grieftorch",
								["criteria"] = "( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || boss & ( fight_remains % 120 <= 5 )",
							}, -- [10]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["criteria"] = "! variable.trinket1_is_weird & ! trinket.t1.has_use_buff",
								["slot"] = "trinket1",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["criteria"] = "! variable.trinket2_is_weird & ! trinket.t2.has_use_buff",
								["slot"] = "trinket2",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.blood_fury.cooldown <= action.blood_fury.duration ) || ( variable.min_talented_cd_remains >= action.blood_fury.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "blood_fury",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.berserking.cooldown <= action.berserking.duration ) || ( variable.min_talented_cd_remains >= action.berserking.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "berserking",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.fireblood.cooldown <= action.fireblood.duration ) || ( variable.min_talented_cd_remains >= action.fireblood.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "fireblood",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || boss & ( fight_remains % action.ancestral_call.cooldown <= action.ancestral_call.duration ) || ( variable.min_talented_cd_remains >= action.ancestral_call.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "ancestral_call",
							}, -- [16]
							{
								["action"] = "feral_spirit",
								["enabled"] = true,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "dot.flame_shock.ticking & ( ( ti_lightning_bolt & active_enemies = 1 & raid_event.adds.in >= 90 ) || ( ti_chain_lightning & active_enemies > 1 ) )",
								["action"] = "ascendance",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in >= 90 || active_enemies > 1",
								["action"] = "doom_winds",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "single",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & ! funnel",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "aoe",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & funnel",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "funnel",
							}, -- [22]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "windfury_weapon",
							}, -- [1]
							{
								["action"] = "flametongue_weapon",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.lightning_shield.down & ( buff.earth_shield.down || talent.elemental_orbit.enabled )",
								["action"] = "lightning_shield",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.lightning_shield.up & buff.earth_shield.down & talent.elemental_orbit.enabled",
								["action"] = "earth_shield",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "project_windfury_totem",
								["action"] = "totemic_projection",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "time = 0 || buff.windfury_totem.down",
								["action"] = "windfury_totem",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t1.is.algethar_puzzle_box || trinket.t1.is.manic_grieftorch || trinket.t1.is.elementium_pocket_anvil || trinket.t1.is.beacon_to_the_beyond",
								["var_name"] = "trinket1_is_weird",
							}, -- [7]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "trinket.t2.is.algethar_puzzle_box || trinket.t2.is.manic_grieftorch || trinket.t2.is.elementium_pocket_anvil || trinket.t2.is.beacon_to_the_beyond",
								["var_name"] = "trinket2_is_weird",
							}, -- [8]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "( ( cooldown.feral_spirit.remains / ( 1 + 1.5 * talent.witch_doctors_ancestry.rank ) ) + 1000 * ! talent.feral_spirit.enabled ) <? ( cooldown.doom_winds.remains + 1000 * ! talent.doom_winds.enabled ) <? ( cooldown.ascendance.remains + 1000 * ! talent.ascendance.enabled )",
								["var_name"] = "min_talented_cd_remains",
							}, -- [9]
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "talent.crashing_storms.enabled & ( ( talent.unruly_winds.enabled & active_enemies >= 10 ) || active_enemies >= 15 )",
								["action"] = "crash_lightning",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( active_dot.flame_shock >= active_enemies || active_dot.flame_shock >= 6 ) & buff.primordial_wave.up & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! buff.splintered_elements.up || fight_remains <= 12 || raid_event.adds.remains <= gcd.max )",
								["action"] = "lightning_bolt",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & ( talent.primordial_wave.enabled || talent.fire_nova.enabled ) & dot.flame_shock.ticking & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
								["action"] = "lava_lash",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["criteria"] = "! buff.primordial_wave.up",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["description"] = "In game, you might not have Primordial Wave ready on pull but you want Flame Shock out for LL, FN, and PWave when it comes available.  Also, existing Flame Shocks may not be close enough to spread.",
								["criteria"] = "( talent.primordial_wave.enabled || talent.fire_nova.enabled ) & ! ticking",
								["action"] = "flame_shock",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! talent.crashing_storms.enabled || active_enemies <= 3 )",
								["action"] = "elemental_blast",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.thorims_invocation.enabled & ti_chain_lightning & buff.maelstrom_weapon.stack > 1",
								["action"] = "windstrike",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "chain_lightning",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || ! buff.crash_lightning.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 )",
								["action"] = "crash_lightning",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || set_bonus.tier30_2pc",
								["action"] = "sundering",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 6 || ( active_dot.flame_shock >= 4 & active_dot.flame_shock >= cycle_enemies )",
								["action"] = "fire_nova",
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "lava_lash",
								["criteria"] = "talent.lashing_flames.enabled",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "( talent.molten_assault.enabled & dot.flame_shock.ticking & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6 ) || ( talent.ashen_catalyst.enabled & buff.ashen_catalyst.stack = buff.ashen_catalyst.max_stack )",
								["action"] = "lava_lash",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled",
								["action"] = "ice_strike",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
								["action"] = "frost_shock",
							}, -- [15]
							{
								["action"] = "sundering",
								["enabled"] = true,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & ! ticking",
								["action"] = "flame_shock",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["criteria"] = "refreshable & ( talent.fire_nova.enabled || talent.primordial_wave.enabled ) & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 3",
								["action"] = "fire_nova",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.crash_lightning.up & ( talent.deeply_rooted_elements.enabled || buff.converging_storms.stack = 6 )",
								["action"] = "stormstrike",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "talent.crashing_storms.enabled & buff.cl_crash_lightning.up & active_enemies >= 4",
								["action"] = "crash_lightning",
							}, -- [21]
							{
								["action"] = "windstrike",
								["enabled"] = true,
							}, -- [22]
							{
								["action"] = "stormstrike",
								["enabled"] = true,
							}, -- [23]
							{
								["action"] = "ice_strike",
								["enabled"] = true,
							}, -- [24]
							{
								["action"] = "lava_lash",
								["enabled"] = true,
							}, -- [25]
							{
								["action"] = "crash_lightning",
								["enabled"] = true,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 2",
								["action"] = "fire_nova",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( time_to_max_charges < gcd.max || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack >= 5 & ( ! talent.crashing_storms.enabled || active_enemies <= 3 )",
								["action"] = "elemental_blast",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5",
								["action"] = "chain_lightning",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "buff.windfury_totem.remains < 30",
								["action"] = "windfury_totem",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "flame_shock",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "! talent.hailstorm.enabled",
								["action"] = "frost_shock",
							}, -- [32]
						},
					},
					["version"] = 20230808,
					["warnings"] = "The import for 'default' required some automated changes.\nLine 6: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||boss&(fight_remains%%180<=30)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||boss&(fight_remains%180<=30)'.\nLine 7: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.buff.duration' to 'trinket.t1.buff.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted operations in '!variable.trinket1_is_weird&trinket.t1.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%trinket.t1.cooldown.duration<=trinket.t1.buff.duration)||(variable.min_talented_cd_remains>=trinket.t1.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '!variable.trinket1_is_weird&trinket.t1.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%trinket.t1.cooldown.duration<=trinket.t1.buff.duration)||(variable.min_talented_cd_remains>=trinket.t1.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 8: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.2.buff.duration' to 'trinket.t2.buff.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted operations in '!variable.trinket2_is_weird&trinket.t2.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%trinket.t2.cooldown.duration<=trinket.t2.buff.duration)||(variable.min_talented_cd_remains>=trinket.t2.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '!variable.trinket2_is_weird&trinket.t2.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%trinket.t2.cooldown.duration<=trinket.t2.buff.duration)||(variable.min_talented_cd_remains>=trinket.t2.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 9: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%%150<=5)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%150<=5)'.\nLine 10: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%%120<=5)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%120<=5)'.\nLine 11: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 12: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 13: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 14: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 15: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 16: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nThe following auras were used in the action list but were not found in the addon database:\n - duration\n\nThe import for 'precombat' required some automated changes.\nLine 7: Converted 'trinket.1.is.algethar_puzzle_box' to 'trinket.t1.is.algethar_puzzle_box' (1x).\nLine 7: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 7: Converted 'trinket.1.is.elementium_pocket_anvil' to 'trinket.t1.is.elementium_pocket_anvil' (1x).\nLine 7: Converted 'trinket.1.is.beacon_to_the_beyond' to 'trinket.t1.is.beacon_to_the_beyond' (1x).\nLine 8: Converted 'trinket.2.is.algethar_puzzle_box' to 'trinket.t2.is.algethar_puzzle_box' (1x).\nLine 8: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 8: Converted 'trinket.2.is.elementium_pocket_anvil' to 'trinket.t2.is.elementium_pocket_anvil' (1x).\nLine 8: Converted 'trinket.2.is.beacon_to_the_beyond' to 'trinket.t2.is.beacon_to_the_beyond' (1x).\nLine 9: Converted operations in '((cooldown.feral_spirit.remains%(1+1.5*talent.witch_doctors_ancestry.rank))+1000*!talent.feral_spirit.enabled)<?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)<?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)' to '((cooldown.feral_spirit.remains/(1+1.5*talent.witch_doctors_ancestry.rank))+1000*!talent.feral_spirit.enabled)<?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)<?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)'.\n\nImported 5 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/windfury_weapon\nactions.precombat+=/flametongue_weapon\nactions.precombat+=/lightning_shield,if=buff.lightning_shield.down&(buff.earth_shield.down||talent.elemental_orbit.enabled)\nactions.precombat+=/earth_shield,if=buff.lightning_shield.up&buff.earth_shield.down&talent.elemental_orbit.enabled\nactions.precombat+=/totemic_projection,if=project_windfury_totem\nactions.precombat+=/windfury_totem,if=time=0||buff.windfury_totem.down\nactions.precombat+=/variable,name=trinket1_is_weird,value=trinket.1.is.algethar_puzzle_box||trinket.1.is.manic_grieftorch||trinket.1.is.elementium_pocket_anvil||trinket.1.is.beacon_to_the_beyond\nactions.precombat+=/variable,name=trinket2_is_weird,value=trinket.2.is.algethar_puzzle_box||trinket.2.is.manic_grieftorch||trinket.2.is.elementium_pocket_anvil||trinket.2.is.beacon_to_the_beyond\nactions.precombat+=/variable,name=min_talented_cd_remains,value=((cooldown.feral_spirit.remains%(1+1.5*talent.witch_doctors_ancestry.rank))+1000*!talent.feral_spirit.enabled)<?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)<?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)\n\n# interrupt of casts.\nactions+=/wind_shear\nactions+=/purge,if=settings.hostile_dispel\nactions+=/greater_purge,if=settings.hostile_dispel\nactions+=/potion,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&fight_remains<=30||!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled)\nactions+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1\nactions+=/use_item,name=algethar_puzzle_box,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||boss&(fight_remains%%180<=30)\nactions+=/use_item,slot=trinket1,if=!variable.trinket1_is_weird&trinket.1.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%trinket.1.cooldown.duration<=trinket.1.buff.duration)||(variable.min_talented_cd_remains>=trinket.1.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/use_item,slot=trinket2,if=!variable.trinket2_is_weird&trinket.2.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%trinket.2.cooldown.duration<=trinket.2.buff.duration)||(variable.min_talented_cd_remains>=trinket.2.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%%150<=5)\nactions+=/use_item,name=manic_grieftorch,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||boss&(fight_remains%%120<=5)\nactions+=/use_item,slot=trinket1,if=!variable.trinket1_is_weird&!trinket.1.has_use_buff\nactions+=/use_item,slot=trinket2,if=!variable.trinket2_is_weird&!trinket.2.has_use_buff\nactions+=/blood_fury,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/berserking,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/fireblood,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/ancestral_call,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||boss&(fight_remains%%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\n## actions+=/invoke_external_buff,name=power_infusion,if=(talent.ascendance.enabled&talent.thorims_invocation.enabled&buff.ascendance.up)||(!talent.thorims_invocation.enabled&talent.feral_spirit.enabled&buff.feral_spirit.up)||(!talent.thorims_invocation.enabled&!talent.feral_spirit.enabled)||fight_remains<=20\nactions+=/feral_spirit\nactions+=/ascendance,if=dot.flame_shock.ticking&((ti_lightning_bolt&active_enemies=1&raid_event.adds.in>=90)||(ti_chain_lightning&active_enemies>1))\nactions+=/doom_winds,if=raid_event.adds.in>=90||active_enemies>1\nactions+=/call_action_list,name=single,strict=1,if=active_enemies=1\nactions+=/call_action_list,name=aoe,strict=1,if=active_enemies>1&!funnel\nactions+=/call_action_list,name=funnel,strict=1,if=active_enemies>1&funnel\n\nactions.single+=/primordial_wave,if=!dot.flame_shock.ticking&talent.lashing_flames.enabled&(raid_event.adds.in>42||raid_event.adds.in<6)\nactions.single+=/flame_shock,if=!ticking&talent.lashing_flames.enabled\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&talent.elemental_spirits.enabled&feral_spirit.active>=4\nactions.single+=/sundering,if=set_bonus.tier30_2pc&raid_event.adds.in>=40\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.crackling_thunder.down&buff.ascendance.up&ti_chain_lightning&(buff.ascendance.remains>(cooldown.strike.remains+gcd))\nactions.single+=/windstrike,if=talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>=1&(talent.deeply_rooted_elements.enabled||(talent.stormblast.enabled&buff.stormbringer.up)||(talent.elemental_assault.enabled&talent.stormflurry.enabled)||ti_lightning_bolt)\nactions.single+=/stormstrike,if=buff.doom_winds.up||talent.deeply_rooted_elements.enabled||(talent.stormblast.enabled&buff.stormbringer.up)||((talent.elemental_assault.enabled&talent.stormflurry.enabled)&buff.maelstrom_weapon.stack<buff.maelstrom_weapon.max_stack)\nactions.single+=/lava_lash,if=buff.hot_hand.up\nactions.single+=/windfury_totem,if=!buff.windfury_totem.up\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&charges=max_charges\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.primordial_wave.up&(buff.primordial_wave.remains<1.5*gcd.max||raid_event.adds.in>buff.primordial_wave.remains&(!buff.splintered_elements.up||boss&fight_remains<=12))\nactions.single+=/chain_lightning,if=buff.maelstrom_weapon.stack>=5&buff.crackling_thunder.up&talent.elemental_spirits.enabled\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.crackling_thunder.down&buff.ascendance.up&ti_chain_lightning\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&(buff.feral_spirit.up||!talent.elemental_spirits.enabled)\nactions.single+=/lava_burst,if=!talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>=5\nactions.single+=/lightning_bolt,if=((buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack)||(talent.static_accumulation.enabled&buff.maelstrom_weapon.stack>=5))&buff.primordial_wave.down\nactions.single+=/ice_strike,if=buff.doom_winds.up\nactions.single+=/sundering,if=buff.doom_winds.up&raid_event.adds.in>=40\nactions.single+=/crash_lightning,if=buff.doom_winds.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)\nactions.single+=/primordial_wave,if=raid_event.adds.in>42||raid_event.adds.in<6\nactions.single+=/flame_shock,if=!ticking\nactions.single+=/lava_lash,if=talent.molten_assault.enabled&dot.flame_shock.refreshable\nactions.single+=/ice_strike,if=!buff.ice_strike.up\nactions.single+=/frost_shock,if=buff.hailstorm.up\nactions.single+=/lava_lash\nactions.single+=/ice_strike\nactions.single+=/windstrike\nactions.single+=/stormstrike\nactions.single+=/sundering,if=raid_event.adds.in>=40\nactions.single+=/bag_of_tricks\nactions.single+=/fire_nova,if=talent.swirling_maelstrom.enabled&active_dot.flame_shock&buff.maelstrom_weapon.stack<buff.maelstrom_weapon.max_stack\nactions.single+=/lightning_bolt,if=talent.hailstorm.enabled&buff.maelstrom_weapon.stack>=5&buff.primordial_wave.down\nactions.single+=/frost_shock\nactions.single+=/crash_lightning\nactions.single+=/fire_nova,if=active_dot.flame_shock\nactions.single+=/earth_elemental\nactions.single+=/flame_shock,if=settings.filler_shock\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.primordial_wave.down\nactions.single+=/windfury_totem,if=buff.windfury_totem.remains<30\n\nactions.aoe+=/crash_lightning,if=talent.crashing_storms.enabled&((talent.unruly_winds.enabled&active_enemies>=10)||active_enemies>=15)\nactions.aoe+=/lightning_bolt,if=(active_dot.flame_shock>=active_enemies||active_dot.flame_shock>=6)&buff.primordial_wave.up&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!buff.splintered_elements.up||fight_remains<=12||raid_event.adds.remains<=gcd)\nactions.aoe+=/lava_lash,if=talent.molten_assault.enabled&(talent.primordial_wave.enabled||talent.fire_nova.enabled)&dot.flame_shock.ticking&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.aoe+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up\n# In game, you might not have Primordial Wave ready on pull but you want Flame Shock out for LL, FN, and PWave when it comes available.  Also, existing Flame Shocks may not be close enough to spread.\nactions.aoe+=/flame_shock,if=(talent.primordial_wave.enabled||talent.fire_nova.enabled)&!ticking\nactions.aoe+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!talent.crashing_storms.enabled||active_enemies<=3)\nactions.aoe+=/windstrike,if=talent.thorims_invocation.enabled&ti_chain_lightning&buff.maelstrom_weapon.stack>1\nactions.aoe+=/chain_lightning,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.aoe+=/crash_lightning,if=buff.doom_winds.up||!buff.crash_lightning.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)\nactions.aoe+=/sundering,if=buff.doom_winds.up||set_bonus.tier30_2pc\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=6||(active_dot.flame_shock>=4&active_dot.flame_shock>=cycle_enemies)\nactions.aoe+=/lava_lash,cycle_targets=1,if=talent.lashing_flames.enabled\nactions.aoe+=/lava_lash,if=(talent.molten_assault.enabled&dot.flame_shock.ticking&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6)||(talent.ashen_catalyst.enabled&buff.ashen_catalyst.stack=buff.ashen_catalyst.max_stack)\nactions.aoe+=/ice_strike,if=talent.hailstorm.enabled\nactions.aoe+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.aoe+=/sundering\nactions.aoe+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&(talent.fire_nova.enabled||talent.primordial_wave.enabled)&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=3\nactions.aoe+=/stormstrike,if=buff.crash_lightning.up&(talent.deeply_rooted_elements.enabled||buff.converging_storms.stack=6)\nactions.aoe+=/crash_lightning,if=talent.crashing_storms.enabled&buff.cl_crash_lightning.up&active_enemies>=4\nactions.aoe+=/windstrike\nactions.aoe+=/stormstrike\nactions.aoe+=/ice_strike\nactions.aoe+=/lava_lash\nactions.aoe+=/crash_lightning\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=2\nactions.aoe+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(time_to_max_charges<gcd.max||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack>=5&(!talent.crashing_storms.enabled||active_enemies<=3)\nactions.aoe+=/chain_lightning,if=buff.maelstrom_weapon.stack>=5\nactions.aoe+=/windfury_totem,if=buff.windfury_totem.remains<30\nactions.aoe+=/flame_shock,if=!ticking\nactions.aoe+=/frost_shock,if=!talent.hailstorm.enabled\n\nactions.funnel+=/lightning_bolt,if=(active_dot.flame_shock>=active_enemies||active_dot.flame_shock=6)&buff.primordial_wave.up&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!buff.splintered_elements.up||fight_remains<=12||raid_event.adds.remains<=gcd)\nactions.funnel+=/lava_lash,if=(talent.molten_assault.enabled&dot.flame_shock.ticking&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6)||(talent.ashen_catalyst.enabled&buff.ashen_catalyst.stack=buff.ashen_catalyst.max_stack)\nactions.funnel+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up\n# In game, you might not have Primordial Wave ready on pull but you want Flame Shock out for LL, FN, and PWave when it comes available.  Also, existing Flame Shocks may not be close enough to spread.\nactions.funnel+=/flame_shock,if=(talent.primordial_wave.enabled||talent.fire_nova.enabled)&!ticking\nactions.funnel+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/windstrike,if=(talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>1)||buff.converging_storms.stack=buff.converging_storms.max_stack\nactions.funnel+=/stormstrike,if=buff.converging_storms.stack=buff.converging_storms.max_stack\nactions.funnel+=/chain_lightning,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&buff.crackling_thunder.up\nactions.funnel+=/lava_burst,if=(buff.molten_weapon.stack+buff.volcanic_strength.up>buff.crackling_surge.stack)&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/lightning_bolt,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/crash_lightning,if=buff.doom_winds.up||!buff.crash_lightning.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)||(talent.converging_storms.enabled&buff.converging_storms.stack<buff.converging_storms.max_stack)\nactions.funnel+=/sundering,if=buff.doom_winds.up||set_bonus.tier30_2pc\nactions.funnel+=/fire_nova,if=active_dot.flame_shock=6||(active_dot.flame_shock>=4&active_dot.flame_shock>=cycle_enemies)\nactions.funnel+=/ice_strike,if=talent.hailstorm.enabled&!buff.ice_strike.up\nactions.funnel+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.funnel+=/sundering\nactions.funnel+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.funnel+=/flame_shock,cycle_targets=1,if=(talent.fire_nova.enabled||talent.primordial_wave.enabled)&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.funnel+=/fire_nova,if=active_dot.flame_shock>=3\nactions.funnel+=/stormstrike,if=buff.crash_lightning.up&talent.deeply_rooted_elements.enabled\nactions.funnel+=/crash_lightning,if=talent.crashing_storms.enabled&buff.cl_crash_lightning.up&active_enemies>=4\nactions.funnel+=/windstrike\nactions.funnel+=/stormstrike\nactions.funnel+=/ice_strike\nactions.funnel+=/lava_lash\nactions.funnel+=/crash_lightning\nactions.funnel+=/fire_nova,if=active_dot.flame_shock>=2\nactions.funnel+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack>=5\nactions.funnel+=/lava_burst,if=(buff.molten_weapon.stack+buff.volcanic_strength.up>buff.crackling_surge.stack)&buff.maelstrom_weapon.stack>=5\nactions.funnel+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5\nactions.funnel+=/windfury_totem,if=buff.windfury_totem.remains<30\nactions.funnel+=/flame_shock,if=!ticking\nactions.funnel+=/frost_shock,if=!talent.hailstorm.enabled",
				},
				["Balance"] = {
					["source"] = "https://balance-simc.github.io/Balance-SimC/md.html?file=balance.txt",
					["builtIn"] = true,
					["date"] = 20230910,
					["spec"] = 102,
					["desc"] = "2023-09-10: Minor update to trinket and flow.\n\n2023-08-08: Minor SimC update.\n\n2023-07-11: Patch 10.1.5 update.\n\n2023-06-24:  Adjust AOE variable, Solar Eclipse ST variable, AOE Starfire/Wrath usage in Eclipses.\n\n2023-05-28:  Minor update for Spoils trinket.\n\n2023-05-22:  Tweak Fury of Elune.\n\n2023-05-20:  Starlord canceling is a thing again.\n\n2023-05-13:  Use new action.X.energize_amount syntax from SimC.\n\n2023-05-08:  Updates from SimC impacting Starsurge usage.\n\n2023-05-06:  Minor updates.\n\n2023-05-02:  Updates for 10.1 from SimC.\n\n2023-04-17:  Adjust on_use_trinket variable.\n\n2023-02-25:  Added single-target use of Starfall with Touch the Cosmos.",
					["lists"] = {
						["aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "! boss & refreshable & ( target.time_to_die - remains ) > 6 & astral_power.deficit > variable.passive_asp + 3",
								["action"] = "moonfire",
								["cycle_targets"] = 1,
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! druid.no_cds & ( cooldown.ca_inc.remains < 5 & ! buff.ca_inc.up & ( target.time_to_die > 10 || boss & fight_remains < 25 + 10 * talent.incarnation_chosen_of_elune.enabled ) )",
								["var_name"] = "cd_condition_aoe",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ( target.time_to_die - remains ) > 6 - ( spell_targets / 2 ) & astral_power.deficit > variable.passive_asp + 3",
								["action"] = "sunfire",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "boss & refreshable & ( target.time_to_die - remains ) > 6 & astral_power.deficit > variable.passive_asp + 3",
								["action"] = "moonfire",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ( target.time_to_die - remains - spell_targets.starfire ) > 8 + spell_targets.starfire & astral_power.deficit > variable.passive_asp + 8 & spell_targets.starfire < ( 11 - talent.umbral_intensity.rank - talent.astral_smolder.rank ) & variable.cd_condition_aoe",
								["action"] = "stellar_flare",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["buff_name"] = "starlord",
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( variable.cd_condition_aoe & ( talent.orbital_strike.enabled & astral_power.deficit < variable.passive_asp + 8 * spell_targets || buff.touch_the_cosmos.up ) || astral_power.deficit < ( variable.passive_asp + 8 + 12 * ( buff.eclipse_lunar.remains < 4 || buff.eclipse_solar.remains < 4 ) ) )",
								["action"] = "cancel_buff",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_aoe & ( talent.orbital_strike.enabled & astral_power.deficit < variable.passive_asp + 8 * spell_targets || buff.touch_the_cosmos.up ) || astral_power.deficit < ( variable.passive_asp + 8 + 12 * ( buff.eclipse_lunar.remains < 4 || buff.eclipse_solar.remains < 4 ) )",
								["action"] = "starfall",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_aoe",
								["action"] = "celestial_alignment",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_aoe",
								["action"] = "incarnation",
							}, -- [9]
							{
								["action"] = "warrior_of_elune",
								["enabled"] = true,
							}, -- [10]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.starfire < 3",
								["var_name"] = "enter_solar",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "variable.enter_solar & ( eclipse.any_next || buff.eclipse_solar.remains < action.starfire.cast_time )",
								["action"] = "starfire",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "! variable.enter_solar & ( eclipse.any_next || buff.eclipse_lunar.remains < action.wrath.cast_time )",
								["action"] = "wrath",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20 & ( ! talent.fungal_growth.enabled || ! talent.waning_twilight.enabled || dot.fungal_growth.remains < 2 & target.time_to_die > 7 & ! prev_gcd.1.wild_mushroom )",
								["action"] = "wild_mushroom",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "target.time_to_die > 2 & ( buff.ca_inc.remains > 3 || cooldown.ca_inc.remains > 30 & buff.primordial_arcanic_pulsar.value <= 280 || buff.primordial_arcanic_pulsar.value >= 560 & astral_power > 50 ) || boss & fight_remains < 10",
								["action"] = "fury_of_elune",
							}, -- [15]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "target.time_to_die > 4 & ( buff.starweavers_warp.up || talent.starlord.enabled & buff.starlord.stack < 3 )",
								["var_name"] = "starfall_condition2",
							}, -- [16]
							{
								["buff_name"] = "starlord",
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( target.time_to_die > 4 & ( buff.starweavers_warp.up || talent.starlord.enabled & buff.starlord.stack < 3 ) )",
								["action"] = "cancel_buff",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "target.time_to_die > 4 & ( buff.starweavers_warp.up || talent.starlord.enabled & buff.starlord.stack < 3 )",
								["action"] = "starfall",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 40 & ( buff.eclipse_lunar.remains > execute_time || buff.eclipse_solar.remains > execute_time ) & ( buff.ca_inc.up || charges_fractional > 2.5 & buff.primordial_arcanic_pulsar.value <= 520 & cooldown.ca_inc.remains > 10 || fight_remains < 10 )",
								["action"] = "full_moon",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.starweavers_weft.up & spell_targets.starfire < 3",
								["action"] = "starsurge",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ( target.time_to_die - remains - spell_targets.starfire ) > 8 + spell_targets.starfire & astral_power.deficit > variable.passive_asp + 8 & spell_targets.starfire < ( 11 - talent.umbral_intensity.rank - talent.astral_smolder.rank )",
								["action"] = "stellar_flare",
								["cycle_targets"] = 1,
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 50",
								["action"] = "astral_communion",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "astral_power < 50 & spell_targets.starfall < 3 + talent.elunes_guidance.enabled & ( buff.eclipse_lunar.remains > 4 || buff.eclipse_solar.remains > 4 )",
								["action"] = "convoke_the_spirits",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 10",
								["action"] = "new_moon",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20 & ( buff.eclipse_lunar.remains > execute_time || buff.eclipse_solar.remains > execute_time )",
								["action"] = "half_moon",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20",
								["action"] = "force_of_nature",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "buff.starweavers_weft.up & spell_targets.starfire < 17",
								["action"] = "starsurge",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets > 3 & buff.eclipse_lunar.up || eclipse.in_lunar",
								["action"] = "starfire",
							}, -- [28]
							{
								["action"] = "wrath",
								["enabled"] = true,
							}, -- [29]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "solar_beam",
								["description"] = "Executed every time the actor is available.",
							}, -- [1]
							{
								["action"] = "soothe",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "wrath",
								["criteria"] = "time < gcd.max & ( eclipse.any_next || eclipse.lunar_next )",
								["line_cd"] = "5",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "stellar_flare",
								["criteria"] = "refreshable & time < 2 * gcd.max & buff.eclipse_lunar.up",
								["line_cd"] = "5",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "starfire",
								["criteria"] = "! talent.stellar_flare.enabled & time < 2 * gcd.max & buff.eclipse_lunar.up",
								["line_cd"] = "5",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.starfall > ( 1 + ( ! talent.aetherial_kindling.enabled & ! talent.starweaver.enabled ) ) & talent.starfall.enabled",
								["var_name"] = "is_aoe",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "6 / spell_haste + talent.natures_balance.enabled + talent.orbit_breaker.enabled * dot.moonfire.ticking * ( buff.orbit_breaker.stack > ( 27 - 2 * buff.solstice.up ) ) * 40",
								["var_name"] = "passive_asp",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.ca_inc.remains >= 20 || variable.no_cd_talent || boss & fight_remains < 15",
								["action"] = "berserking",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! druid.no_cds & ( buff.ca_inc.remains >= 20 || variable.no_cd_talent || boss & fight_remains < 30 )",
								["action"] = "potion",
							}, -- [9]
							{
								["enabled"] = true,
								["slots"] = "trinket1",
								["action"] = "trinket1",
								["criteria"] = "variable.on_use_trinket != 1 & ! trinket.t2.ready_cooldown || ( variable.on_use_trinket = 1 || variable.on_use_trinket = 3 ) & buff.ca_inc.up || variable.no_cd_talent || boss & fight_remains < 20 || variable.on_use_trinket = 0",
							}, -- [10]
							{
								["enabled"] = true,
								["slots"] = "trinket2",
								["action"] = "trinket2",
								["criteria"] = "variable.on_use_trinket != 2 & ! trinket.t1.ready_cooldown || variable.on_use_trinket = 2 & buff.ca_inc.up || variable.no_cd_talent || boss & fight_remains < 20 || variable.on_use_trinket = 0",
							}, -- [11]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [12]
							{
								["action"] = "natures_vigil",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "variable.is_aoe",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "aoe",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "! variable.is_aoe",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "st",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "variable.is_aoe",
								["action"] = "starfall",
							}, -- [16]
							{
								["action"] = "starsurge",
								["enabled"] = true,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "dot.moonfire.remains > remains * 22 / 18",
								["action"] = "sunfire",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["action"] = "moonfire",
								["enabled"] = true,
							}, -- [19]
						},
						["st"] = {
							{
								["enabled"] = true,
								["criteria"] = "refreshable & remains < 2 & ( target.time_to_die - remains ) > 6",
								["action"] = "sunfire",
								["cycle_targets"] = 1,
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! druid.no_cds & ( cooldown.ca_inc.remains < 5 & ! buff.ca_inc.up & ( target.time_to_die > 15 || boss & fight_remains < 25 + 10 * talent.incarnation_chosen_of_elune.enabled ) )",
								["var_name"] = "cd_condition_st",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & remains < 2 & ( target.time_to_die - remains ) > 6",
								["action"] = "moonfire",
								["cycle_targets"] = 1,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & astral_power.deficit > variable.passive_asp + 8 & remains < 2 & ( target.time_to_die - remains ) > 8",
								["action"] = "stellar_flare",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["buff_name"] = "starlord",
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( buff.primordial_arcanic_pulsar.value >= 550 & ! buff.ca_inc.up & buff.starweavers_warp.up || buff.primordial_arcanic_pulsar.value >= 560 & buff.starweavers_weft.up )",
								["action"] = "cancel_buff",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.primordial_arcanic_pulsar.value >= 550 & ! buff.ca_inc.up & buff.starweavers_warp.up",
								["action"] = "starfall",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.primordial_arcanic_pulsar.value >= 560 & buff.starweavers_weft.up",
								["action"] = "starsurge",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_st",
								["action"] = "celestial_alignment",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "variable.cd_condition_st",
								["action"] = "incarnation",
							}, -- [9]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.primordial_arcanic_pulsar.value < 520 & cooldown.ca_inc.remains > 5 & spell_targets.starfire < 3",
								["var_name"] = "solar_eclipse_st",
							}, -- [10]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "eclipse.any_next || variable.solar_eclipse_st & buff.eclipse_solar.up & ( buff.eclipse_solar.remains < action.starfire.cast_time ) || ! variable.solar_eclipse_st & buff.eclipse_lunar.up & ( buff.eclipse_lunar.remains < action.wrath.cast_time )",
								["var_name"] = "enter_eclipse",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "variable.solar_eclipse_st & ( variable.enter_eclipse || buff.eclipse_solar.remains < 7 & buff.primordial_arcanic_pulsar.value < 280 )",
								["action"] = "warrior_of_elune",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "variable.enter_eclipse & variable.solar_eclipse_st",
								["action"] = "starfire",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "variable.enter_eclipse",
								["action"] = "wrath",
							}, -- [14]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.ca_inc.remains > 4 || ( cooldown.ca_inc.remains > 30 || variable.no_cd_talent ) & ( buff.eclipse_lunar.remains > 4 || buff.eclipse_solar.remains > 4 )",
								["var_name"] = "convoke_condition",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "action.convoke_the_spirits.known & cooldown.convoke_the_spirits.ready & variable.convoke_condition",
								["action"] = "starsurge",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "variable.convoke_condition",
								["action"] = "convoke_the_spirits",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 55",
								["action"] = "astral_communion",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20",
								["action"] = "force_of_nature",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "target.time_to_die > 2 & ( buff.ca_inc.remains > 3 || cooldown.ca_inc.remains > 30 & buff.primordial_arcanic_pulsar.value <= 280 || buff.primordial_arcanic_pulsar.value >= 560 & astral_power > 50 ) || boss & fight_remains < 10",
								["action"] = "fury_of_elune",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "buff.starweavers_warp.up",
								["action"] = "starfall",
							}, -- [21]
							{
								["buff_name"] = "starlord",
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( talent.starlord.enabled & buff.starlord.stack < 3 || talent.rattle_the_stars.enabled & buff.rattled_stars.up & buff.rattled_stars.remains < gcd.max )",
								["action"] = "cancel_buff",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.starlord.enabled & buff.starlord.stack < 3 || talent.rattle_the_stars.enabled & buff.rattled_stars.up & buff.rattled_stars.remains < gcd.max",
								["action"] = "starsurge",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & astral_power.deficit > variable.passive_asp + 3",
								["action"] = "sunfire",
								["cycle_targets"] = 1,
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & astral_power.deficit > variable.passive_asp + 3",
								["action"] = "moonfire",
								["cycle_targets"] = 1,
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & astral_power.deficit > variable.passive_asp + 8",
								["action"] = "stellar_flare",
								["cycle_targets"] = 1,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 10 & ( buff.ca_inc.up || charges_fractional > 2.5 & buff.primordial_arcanic_pulsar.value <= 520 & cooldown.ca_inc.remains > 10 || fight_remains < 10 )",
								["action"] = "new_moon",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 20 & ( buff.eclipse_lunar.remains > execute_time || buff.eclipse_solar.remains > execute_time ) & ( buff.ca_inc.up || charges_fractional > 2.5 & buff.primordial_arcanic_pulsar.value <= 520 & cooldown.ca_inc.remains > 10 || fight_remains < 10 )",
								["action"] = "half_moon",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "astral_power.deficit > variable.passive_asp + 40 & ( buff.eclipse_lunar.remains > execute_time || buff.eclipse_solar.remains > execute_time ) & ( buff.ca_inc.up || charges_fractional > 2.5 & buff.primordial_arcanic_pulsar.value <= 520 & cooldown.ca_inc.remains > 10 || fight_remains < 10 )",
								["action"] = "full_moon",
							}, -- [29]
							{
								["buff_name"] = "starlord",
								["enabled"] = true,
								["criteria"] = "buff.starlord.remains < 2 & ( buff.starweavers_weft.up || astral_power.deficit < variable.passive_asp + action.wrath.energize_amount + ( action.starfire.energize_amount + variable.passive_asp ) * ( buff.eclipse_solar.remains < ( gcd.max * 3 ) ) || talent.astral_communion.enabled & cooldown.astral_communion.remains < 3 || fight_remains < 5 )",
								["action"] = "cancel_buff",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "buff.starweavers_weft.up || astral_power.deficit < variable.passive_asp + action.wrath.energize_amount + ( action.starfire.energize_amount + variable.passive_asp ) * ( buff.eclipse_solar.remains < ( gcd.max * 3 ) ) || talent.astral_communion.enabled & cooldown.astral_communion.remains < 3 || fight_remains < 5",
								["action"] = "starsurge",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "talent.fungal_growth.enabled & ( boss || target.time_to_die > ( full_recharge_time - 7 ) || fight_remains < 10 )",
								["action"] = "wild_mushroom",
							}, -- [32]
							{
								["action"] = "wrath",
								["enabled"] = true,
							}, -- [33]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "moonkin_form",
							}, -- [1]
							{
								["action"] = "mark_of_the_wild",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! talent.celestial_alignment.enabled & ! talent.incarnation_chosen_of_elune.enabled || druid.no_cds",
								["var_name"] = "no_cd_talent",
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "0",
								["var_name"] = "on_use_trinket",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "1",
								["var_name"] = "on_use_trinket",
								["criteria"] = "trinket.t1.has_use_buff & trinket.t1.cooldown.duration > 0 || trinket.t1.is.spoils_of_neltharus || trinket.t1.is.mirror_of_fractured_tomorrows",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "2",
								["var_name"] = "on_use_trinket",
								["criteria"] = "trinket.t2.has_use_buff & trinket.t2.cooldown.duration > 0 || trinket.t2.is.spoils_of_neltharus || trinket.t2.is.mirror_of_fractured_tomorrows",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( eclipse.any_next || eclipse.lunar_next )",
								["action"] = "wrath",
							}, -- [7]
						},
					},
					["version"] = 20230910,
					["warnings"] = "The import for 'aoe' required some automated changes.\nLine 2: Converted 'talent.incarnation_chosen_of_elune' to 'talent.incarnation_chosen_of_elune.enabled' (1x).\nLine 3: Converted operations in 'refreshable&(target.time_to_die-remains)>6-(spell_targets%2)&astral_power.deficit>variable.passive_asp+3' to 'refreshable&(target.time_to_die-remains)>6-(spell_targets/2)&astral_power.deficit>variable.passive_asp+3'.\nLine 6: Converted 'talent.orbital_strike' to 'talent.orbital_strike.enabled' (1x).\nLine 7: Converted 'talent.orbital_strike' to 'talent.orbital_strike.enabled' (1x).\nLine 14: Converted 'talent.fungal_growth' to 'talent.fungal_growth.enabled' (1x).\nLine 14: Converted 'talent.waning_twilight' to 'talent.waning_twilight.enabled' (1x).\nLine 16: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 17: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 18: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 23: Converted 'talent.elunes_guidance' to 'talent.elunes_guidance.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 2: Converted 'talent.incarnation_chosen_of_elune' to 'talent.incarnation_chosen_of_elune.enabled' (1x).\nLine 22: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 22: Converted 'talent.rattle_the_stars' to 'talent.rattle_the_stars.enabled' (1x).\nLine 23: Converted 'talent.starlord' to 'talent.starlord.enabled' (1x).\nLine 23: Converted 'talent.rattle_the_stars' to 'talent.rattle_the_stars.enabled' (1x).\nLine 30: Converted 'talent.astral_communion' to 'talent.astral_communion.enabled' (1x).\nLine 31: Converted 'talent.astral_communion' to 'talent.astral_communion.enabled' (1x).\nLine 32: Converted 'talent.fungal_growth' to 'talent.fungal_growth.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 5: Converted 'talent.stellar_flare' to 'talent.stellar_flare.enabled' (1x).\nLine 6: Converted 'talent.aetherial_kindling' to 'talent.aetherial_kindling.enabled' (1x).\nLine 6: Converted 'talent.starweaver' to 'talent.starweaver.enabled' (1x).\nLine 6: Converted 'talent.starfall' to 'talent.starfall.enabled' (1x).\nLine 7: Converted 'talent.natures_balance' to 'talent.natures_balance.enabled' (1x).\nLine 7: Converted 'talent.orbit_breaker' to 'talent.orbit_breaker.enabled' (1x).\nLine 7: Converted operations in '6%spell_haste+talent.natures_balance.enabled+talent.orbit_breaker.enabled*dot.moonfire.ticking*(buff.orbit_breaker.stack>(27-2*buff.solstice.up))*40' to '6/spell_haste+talent.natures_balance.enabled+talent.orbit_breaker.enabled*dot.moonfire.ticking*(buff.orbit_breaker.stack>(27-2*buff.solstice.up))*40'.\nLine 10: Converted 'trinket.2.ready_cooldown' to 'trinket.t2.ready_cooldown' (1x).\nLine 11: Converted 'trinket.1.ready_cooldown' to 'trinket.t1.ready_cooldown' (1x).\nLine 18: Converted operations in 'dot.moonfire.remains>remains*22%18' to 'dot.moonfire.remains>remains*22/18'.\n\nThe import for 'precombat' required some automated changes.\nLine 3: Converted 'talent.celestial_alignment' to 'talent.celestial_alignment.enabled' (1x).\nLine 3: Converted 'talent.incarnation_chosen_of_elune' to 'talent.incarnation_chosen_of_elune.enabled' (1x).\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 5: Converted 'trinket.1.is.spoils_of_neltharus' to 'trinket.t1.is.spoils_of_neltharus' (1x).\nLine 5: Converted 'trinket.1.is.mirror_of_fractured_tomorrows' to 'trinket.t1.is.mirror_of_fractured_tomorrows' (1x).\nLine 6: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 6: Converted 'trinket.2.is.spoils_of_neltharus' to 'trinket.t2.is.spoils_of_neltharus' (1x).\nLine 6: Converted 'trinket.2.is.mirror_of_fractured_tomorrows' to 'trinket.t2.is.mirror_of_fractured_tomorrows' (1x).\n\nImported 4 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/moonkin_form\nactions.precombat+=/mark_of_the_wild\nactions.precombat+=/variable,name=no_cd_talent,value=!talent.celestial_alignment&!talent.incarnation_chosen_of_elune||druid.no_cds\nactions.precombat+=/variable,name=on_use_trinket,value=0\nactions.precombat+=/variable,name=on_use_trinket,op=add,value=1,if=trinket.1.has_use_buff&trinket.1.cooldown.duration>0||trinket.1.is.spoils_of_neltharus||trinket.1.is.mirror_of_fractured_tomorrows\nactions.precombat+=/variable,name=on_use_trinket,op=add,value=2,if=trinket.2.has_use_buff&trinket.2.cooldown.duration>0||trinket.2.is.spoils_of_neltharus||trinket.2.is.mirror_of_fractured_tomorrows\nactions.precombat+=/wrath,if=(eclipse.any_next||eclipse.lunar_next)\n\n# Executed every time the actor is available.\nactions+=/solar_beam\nactions+=/soothe\nactions+=/wrath,if=time<gcd.max&(eclipse.any_next||eclipse.lunar_next),line_cd=5\nactions+=/stellar_flare,if=refreshable&time<2*gcd.max&buff.eclipse_lunar.up,line_cd=5\nactions+=/starfire,if=!talent.stellar_flare&time<2*gcd.max&buff.eclipse_lunar.up,line_cd=5\nactions+=/variable,name=is_aoe,value=spell_targets.starfall>(1+(!talent.aetherial_kindling&!talent.starweaver))&talent.starfall\nactions+=/variable,name=passive_asp,value=6%spell_haste+talent.natures_balance+talent.orbit_breaker*dot.moonfire.ticking*(buff.orbit_breaker.stack>(27-2*buff.solstice.up))*40\nactions+=/berserking,if=buff.ca_inc.remains>=20||variable.no_cd_talent||boss&fight_remains<15\nactions+=/potion,if=!druid.no_cds&(buff.ca_inc.remains>=20||variable.no_cd_talent||boss&fight_remains<30)\nactions+=/use_items,slots=trinket1,if=variable.on_use_trinket!=1&!trinket.2.ready_cooldown||(variable.on_use_trinket=1||variable.on_use_trinket=3)&buff.ca_inc.up||variable.no_cd_talent||boss&fight_remains<20||variable.on_use_trinket=0\nactions+=/use_items,slots=trinket2,if=variable.on_use_trinket!=2&!trinket.1.ready_cooldown||variable.on_use_trinket=2&buff.ca_inc.up||variable.no_cd_talent||boss&fight_remains<20||variable.on_use_trinket=0\nactions+=/use_items\nactions+=/natures_vigil\n## actions+=/invoke_external_buff,name=power_infusion\nactions+=/call_action_list,name=aoe,strict=1,if=variable.is_aoe\nactions+=/call_action_list,name=st,strict=1,if=!variable.is_aoe\n## fallthru action list merged to avoid unnecessary branching\nactions+=/starfall,if=variable.is_aoe\nactions+=/starsurge\nactions+=/sunfire,cycle_targets=1,if=dot.moonfire.remains>remains*22%18\nactions+=/moonfire\n\nactions.aoe+=/moonfire,cycle_targets=1,if=!boss&refreshable&(target.time_to_die-remains)>6&astral_power.deficit>variable.passive_asp+3\nactions.aoe+=/variable,name=cd_condition_aoe,value=!druid.no_cds&(cooldown.ca_inc.remains<5&!buff.ca_inc.up&(target.time_to_die>10||boss&fight_remains<25+10*talent.incarnation_chosen_of_elune))\nactions.aoe+=/sunfire,cycle_targets=1,if=refreshable&(target.time_to_die-remains)>6-(spell_targets%2)&astral_power.deficit>variable.passive_asp+3\nactions.aoe+=/moonfire,cycle_targets=1,if=boss&refreshable&(target.time_to_die-remains)>6&astral_power.deficit>variable.passive_asp+3\nactions.aoe+=/stellar_flare,cycle_targets=1,if=refreshable&(target.time_to_die-remains-spell_targets.starfire)>8+spell_targets.starfire&astral_power.deficit>variable.passive_asp+8&spell_targets.starfire<(11-talent.umbral_intensity.rank-talent.astral_smolder.rank)&variable.cd_condition_aoe\nactions.aoe+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(variable.cd_condition_aoe&(talent.orbital_strike&astral_power.deficit<variable.passive_asp+8*spell_targets||buff.touch_the_cosmos.up)||astral_power.deficit<(variable.passive_asp+8+12*(buff.eclipse_lunar.remains<4||buff.eclipse_solar.remains<4)))\nactions.aoe+=/starfall,if=variable.cd_condition_aoe&(talent.orbital_strike&astral_power.deficit<variable.passive_asp+8*spell_targets||buff.touch_the_cosmos.up)||astral_power.deficit<(variable.passive_asp+8+12*(buff.eclipse_lunar.remains<4||buff.eclipse_solar.remains<4))\nactions.aoe+=/celestial_alignment,if=variable.cd_condition_aoe\nactions.aoe+=/incarnation,if=variable.cd_condition_aoe\nactions.aoe+=/warrior_of_elune\nactions.aoe+=/variable,name=enter_solar,value=spell_targets.starfire<3\nactions.aoe+=/starfire,if=variable.enter_solar&(eclipse.any_next||buff.eclipse_solar.remains<action.starfire.cast_time)\nactions.aoe+=/wrath,if=!variable.enter_solar&(eclipse.any_next||buff.eclipse_lunar.remains<action.wrath.cast_time)\nactions.aoe+=/wild_mushroom,if=astral_power.deficit>variable.passive_asp+20&(!talent.fungal_growth||!talent.waning_twilight||dot.fungal_growth.remains<2&target.time_to_die>7&!prev_gcd.1.wild_mushroom)\nactions.aoe+=/fury_of_elune,if=target.time_to_die>2&(buff.ca_inc.remains>3||cooldown.ca_inc.remains>30&buff.primordial_arcanic_pulsar.value<=280||buff.primordial_arcanic_pulsar.value>=560&astral_power>50)||boss&fight_remains<10\nactions.aoe+=/variable,name=starfall_condition2,value=target.time_to_die>4&(buff.starweavers_warp.up||talent.starlord&buff.starlord.stack<3)\nactions.aoe+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(target.time_to_die>4&(buff.starweavers_warp.up||talent.starlord&buff.starlord.stack<3))\nactions.aoe+=/starfall,if=target.time_to_die>4&(buff.starweavers_warp.up||talent.starlord&buff.starlord.stack<3)\nactions.aoe+=/full_moon,if=astral_power.deficit>variable.passive_asp+40&(buff.eclipse_lunar.remains>execute_time||buff.eclipse_solar.remains>execute_time)&(buff.ca_inc.up||charges_fractional>2.5&buff.primordial_arcanic_pulsar.value<=520&cooldown.ca_inc.remains>10||fight_remains<10)\nactions.aoe+=/starsurge,if=buff.starweavers_weft.up&spell_targets.starfire<3\nactions.aoe+=/stellar_flare,cycle_targets=1,if=refreshable&(target.time_to_die-remains-spell_targets.starfire)>8+spell_targets.starfire&astral_power.deficit>variable.passive_asp+8&spell_targets.starfire<(11-talent.umbral_intensity.rank-talent.astral_smolder.rank)\nactions.aoe+=/astral_communion,if=astral_power.deficit>variable.passive_asp+50\nactions.aoe+=/convoke_the_spirits,if=astral_power<50&spell_targets.starfall<3+talent.elunes_guidance&(buff.eclipse_lunar.remains>4||buff.eclipse_solar.remains>4)\nactions.aoe+=/new_moon,if=astral_power.deficit>variable.passive_asp+10\nactions.aoe+=/half_moon,if=astral_power.deficit>variable.passive_asp+20&(buff.eclipse_lunar.remains>execute_time||buff.eclipse_solar.remains>execute_time)\nactions.aoe+=/force_of_nature,if=astral_power.deficit>variable.passive_asp+20\nactions.aoe+=/starsurge,if=buff.starweavers_weft.up&spell_targets.starfire<17\nactions.aoe+=/starfire,if=spell_targets>3&buff.eclipse_lunar.up||eclipse.in_lunar\nactions.aoe+=/wrath\n\nactions.st+=/sunfire,cycle_targets=1,if=refreshable&remains<2&(target.time_to_die-remains)>6\nactions.st+=/variable,name=cd_condition_st,value=!druid.no_cds&(cooldown.ca_inc.remains<5&!buff.ca_inc.up&(target.time_to_die>15||boss&fight_remains<25+10*talent.incarnation_chosen_of_elune))\nactions.st+=/moonfire,cycle_targets=1,if=refreshable&remains<2&(target.time_to_die-remains)>6\nactions.st+=/stellar_flare,cycle_targets=1,if=refreshable&astral_power.deficit>variable.passive_asp+8&remains<2&(target.time_to_die-remains)>8\nactions.st+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(buff.primordial_arcanic_pulsar.value>=550&!buff.ca_inc.up&buff.starweavers_warp.up||buff.primordial_arcanic_pulsar.value>=560&buff.starweavers_weft.up)\nactions.st+=/starfall,if=buff.primordial_arcanic_pulsar.value>=550&!buff.ca_inc.up&buff.starweavers_warp.up\nactions.st+=/starsurge,if=buff.primordial_arcanic_pulsar.value>=560&buff.starweavers_weft.up\nactions.st+=/celestial_alignment,if=variable.cd_condition_st\nactions.st+=/incarnation,if=variable.cd_condition_st\nactions.st+=/variable,name=solar_eclipse_st,value=buff.primordial_arcanic_pulsar.value<520&cooldown.ca_inc.remains>5&spell_targets.starfire<3\nactions.st+=/variable,name=enter_eclipse,value=eclipse.any_next||variable.solar_eclipse_st&buff.eclipse_solar.up&(buff.eclipse_solar.remains<action.starfire.cast_time)||!variable.solar_eclipse_st&buff.eclipse_lunar.up&(buff.eclipse_lunar.remains<action.wrath.cast_time)\nactions.st+=/warrior_of_elune,if=variable.solar_eclipse_st&(variable.enter_eclipse||buff.eclipse_solar.remains<7&buff.primordial_arcanic_pulsar.value<280)\nactions.st+=/starfire,if=variable.enter_eclipse&variable.solar_eclipse_st\nactions.st+=/wrath,if=variable.enter_eclipse\nactions.st+=/variable,name=convoke_condition,value=buff.ca_inc.remains>4||(cooldown.ca_inc.remains>30||variable.no_cd_talent)&(buff.eclipse_lunar.remains>4||buff.eclipse_solar.remains>4)\nactions.st+=/starsurge,if=action.convoke_the_spirits.known&cooldown.convoke_the_spirits.ready&variable.convoke_condition\nactions.st+=/convoke_the_spirits,if=variable.convoke_condition\nactions.st+=/astral_communion,if=astral_power.deficit>variable.passive_asp+55\nactions.st+=/force_of_nature,if=astral_power.deficit>variable.passive_asp+20\nactions.st+=/fury_of_elune,if=target.time_to_die>2&(buff.ca_inc.remains>3||cooldown.ca_inc.remains>30&buff.primordial_arcanic_pulsar.value<=280||buff.primordial_arcanic_pulsar.value>=560&astral_power>50)||boss&fight_remains<10\nactions.st+=/starfall,if=buff.starweavers_warp.up\nactions.st+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(talent.starlord&buff.starlord.stack<3||talent.rattle_the_stars&buff.rattled_stars.up&buff.rattled_stars.remains<gcd.max)\nactions.st+=/starsurge,if=talent.starlord&buff.starlord.stack<3||talent.rattle_the_stars&buff.rattled_stars.up&buff.rattled_stars.remains<gcd.max\nactions.st+=/sunfire,cycle_targets=1,if=refreshable&astral_power.deficit>variable.passive_asp+3\nactions.st+=/moonfire,cycle_targets=1,if=refreshable&astral_power.deficit>variable.passive_asp+3\nactions.st+=/stellar_flare,cycle_targets=1,if=refreshable&astral_power.deficit>variable.passive_asp+8\nactions.st+=/new_moon,if=astral_power.deficit>variable.passive_asp+10&(buff.ca_inc.up||charges_fractional>2.5&buff.primordial_arcanic_pulsar.value<=520&cooldown.ca_inc.remains>10||fight_remains<10)\nactions.st+=/half_moon,if=astral_power.deficit>variable.passive_asp+20&(buff.eclipse_lunar.remains>execute_time||buff.eclipse_solar.remains>execute_time)&(buff.ca_inc.up||charges_fractional>2.5&buff.primordial_arcanic_pulsar.value<=520&cooldown.ca_inc.remains>10||fight_remains<10)\nactions.st+=/full_moon,if=astral_power.deficit>variable.passive_asp+40&(buff.eclipse_lunar.remains>execute_time||buff.eclipse_solar.remains>execute_time)&(buff.ca_inc.up||charges_fractional>2.5&buff.primordial_arcanic_pulsar.value<=520&cooldown.ca_inc.remains>10||fight_remains<10)\nactions.st+=/cancel_buff,name=starlord,if=buff.starlord.remains<2&(buff.starweavers_weft.up||astral_power.deficit<variable.passive_asp+action.wrath.energize_amount+(action.starfire.energize_amount+variable.passive_asp)*(buff.eclipse_solar.remains<(gcd.max*3))||talent.astral_communion&cooldown.astral_communion.remains<3||fight_remains<5)\nactions.st+=/starsurge,if=buff.starweavers_weft.up||astral_power.deficit<variable.passive_asp+action.wrath.energize_amount+(action.starfire.energize_amount+variable.passive_asp)*(buff.eclipse_solar.remains<(gcd.max*3))||talent.astral_communion&cooldown.astral_communion.remains<3||fight_remains<5\nactions.st+=/wild_mushroom,if=talent.fungal_growth&(boss||target.time_to_die>(full_recharge_time-7)||fight_remains<10)\nactions.st+=/wrath",
				},
				["Guardian"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230714,
					["spec"] = 104,
					["desc"] = "2023-07-14:  Fix a Thrash condition.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-06-24:  Adjust Mangle/Raze in priority.\n\n2023-05-08:  Add Tier 30 weapon.\n\n2023-03-06:  Revisited if_build and catweave_bear; restored missing mitigation priority for bigger defensive CDs.  Fix vicious_cycle talent check.\n\n2023-02-25:  Updated for 'if_build' changes with tweaks to support the \"Use Maul and Raze in Ironfur Build\" option.\n\n2023-02-21:   Routine update including changes to \"Catweave\" options.",
					["lists"] = {
						["default"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up",
								["action"] = "skull_bash",
								["description"] = "Executed every time the actor is available.",
							}, -- [1]
							{
								["action"] = "soothe",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["slot"] = "trinket1",
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["slot"] = "trinket2",
							}, -- [4]
							{
								["enabled"] = true,
								["name"] = "djaruun_pillar_of_the_elder_flame",
								["action"] = "djaruun_pillar_of_the_elder_flame",
								["criteria"] = "dot.moonfire.ticking",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( ( talent.heart_of_the_wild.enabled & buff.heart_of_the_wild.up ) || ( ( buff.berserk_bear.up || buff.incarnation_guardian_of_ursoc.up ) & ( ! druid.catweave_bear & ! druid.owlweave_bear ) ) )",
								["action"] = "potion",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["criteria"] = "buff.cat_form.up & ! druid.catweave_bear || ! tanking & druid.catweave_bear & ( ! talent.tooth_and_claw.enabled || buff.tooth_and_claw.remains > 1.5 ) & ( buff.incarnation_guardian_of_ursoc.down & buff.berserk_bear.down & cooldown.thrash_bear.remains > 0 & cooldown.mangle.remains > 0 & dot.moonfire.remains >= 2 || buff.cat_form.up & energy > 25 || buff.heart_of_the_wild.up & energy > 90 )",
								["list_name"] = "catweave",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "! buff.bear_form.up",
								["action"] = "bear_form",
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "mitigation",
							}, -- [9]
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["list_name"] = "bear",
							}, -- [10]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.thorns_of_iron.enabled & talent.reinforced_fur.enabled",
								["var_name"] = "if_build",
							}, -- [1]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! ( talent.thorns_of_iron.enabled & talent.reinforced_fur.enabled ) || settings.maul_anyway",
								["var_name"] = "maul_build",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up",
								["action"] = "mark_of_the_wild",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.heart_of_the_wild.enabled & ( druid.catweave_bear & buff.cat_form.up || druid.owlweave_bear & buff.moonkin_form.up )",
								["action"] = "heart_of_the_wild",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.cat_form.up",
								["action"] = "prowl",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! buff.any_form.up",
								["action"] = "bear_form",
							}, -- [6]
						},
						["mitigation"] = {
							{
								["enabled"] = true,
								["criteria"] = "tanking & ! variable.if_build & incoming_damage_5s > ironfur_damage_threshold & buff.ironfur.remains < 3 * haste",
								["action"] = "ironfur",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "health.pct < 65",
								["action"] = "regrowth",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "health.pct < 65",
								["action"] = "renewal",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "tanking & health.pct < 65",
								["action"] = "frenzied_regeneration",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "tanking & health.pct < 75 & incoming_damage_5s > 0.1 * health.max",
								["action"] = "barkskin",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.survival_instincts.down & buff.barkskin.down & health.pct < 60 & incoming_damage_5s > 0.25 * health.max",
								["action"] = "survival_instincts",
							}, -- [6]
						},
						["catweave"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.heart_of_the_wild.up",
								["action"] = "heart_of_the_wild",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up",
								["action"] = "cat_form",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.prowl.up",
								["action"] = "rake",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.heart_of_the_wild.enabled & ! buff.heart_of_the_wild.up",
								["action"] = "heart_of_the_wild",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! dot.rake.ticking & combo_points < 5",
								["action"] = "rake",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! dot.rip.ticking & combo_points >= 3",
								["action"] = "rip",
							}, -- [6]
							{
								["action"] = "convoke_the_spirits",
								["enabled"] = true,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "combo_points >= 4 & energy > 50",
								["action"] = "ferocious_bite",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "combo_points < 5 & spell_targets.swipe_cat > 1",
								["action"] = "swipe_cat",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "combo_points < 5",
								["action"] = "shred",
							}, -- [10]
						},
						["bear"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.bear_form.up",
								["action"] = "bear_form",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( ( ( ! ticking & time_to_die > 12 ) || ( refreshable & time_to_die > 12 ) ) & active_enemies < 7 & talent.fury_of_nature.enabled ) || ( ( ( ! ticking & time_to_die > 12 ) || ( refreshable & time_to_die > 12 ) ) & active_enemies < 4 & ! talent.fury_of_nature.enabled )",
								["action"] = "moonfire",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "refreshable || ( dot.thrash_bear.stack < 5 & talent.flashing_claws.rank = 2 || dot.thrash_bear.stack < 4 & talent.flashing_claws.rank = 1 || dot.thrash_bear.stack < 3 & ! talent.flashing_claws.enabled )",
								["action"] = "thrash_bear",
							}, -- [3]
							{
								["action"] = "bristling_fur",
								["enabled"] = true,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.bear_form.up",
								["action"] = "barkskin",
							}, -- [5]
							{
								["action"] = "convoke_the_spirits",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "berserk",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "incarnation",
								["enabled"] = true,
							}, -- [8]
							{
								["action"] = "lunar_beam",
								["enabled"] = true,
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.incarnation_guardian_of_ursoc.down & cooldown.incarnation_guardian_of_ursoc.remains > 60 || buff.incarnation_guardian_of_ursoc.up || talent.convoke_the_spirits.enabled",
								["action"] = "rage_of_the_sleeper",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "( buff.berserk_bear.up || buff.incarnation_guardian_of_ursoc.up )",
								["action"] = "berserking",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "( buff.rage_of_the_sleeper.up & buff.tooth_and_claw.stack > 0 & active_enemies <= 6 & ! talent.raze.enabled & ! variable.if_build ) || ( buff.rage_of_the_sleeper.up & buff.tooth_and_claw.stack > 0 & active_enemies = 1 & talent.raze.enabled & ! variable.if_build )",
								["action"] = "maul",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.rage_of_the_sleeper.up & buff.tooth_and_claw.stack > 0 & ! variable.if_build & active_enemies > 1",
								["action"] = "raze",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( ( ( buff.incarnation.up || buff.berserk_bear.up ) & active_enemies <= 5 & ! talent.raze.enabled & ( buff.tooth_and_claw.stack >= 1 ) ) & ! variable.if_build ) || ( ( ( buff.incarnation.up || buff.berserk_bear.up ) & active_enemies = 1 & talent.raze.enabled & ( buff.tooth_and_claw.stack >= 1 ) ) & ! variable.if_build )",
								["action"] = "maul",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "( buff.incarnation.up || buff.berserk_bear.up ) & ! variable.if_build & active_enemies > 1",
								["action"] = "raze",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "! buff.ironfur.up & rage > 50 & tanking & ! variable.if_build & ! buff.rage_of_the_sleeper.up || rage > 90 & ! variable.if_build & ! buff.rage_of_the_sleeper.up",
								["action"] = "ironfur",
								["cycle_targets"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "variable.if_build & ( rage > 90 || ( buff.incarnation.up || buff.berserk_bear.up ) & rage > 20 )",
								["action"] = "ironfur",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "( buff.tooth_and_claw.up ) & active_enemies > 1",
								["action"] = "raze",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "( ! variable.if_build ) & active_enemies > 1",
								["action"] = "raze",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "buff.gore.up & active_enemies < 11 || buff.vicious_cycle_mangle.stack = 3",
								["action"] = "mangle",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "( buff.tooth_and_claw.up & active_enemies <= 5 & ! talent.raze.enabled ) || ( buff.tooth_and_claw.up & active_enemies = 1 & talent.raze.enabled )",
								["action"] = "maul",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies <= 5 & ! talent.raze.enabled & ! variable.if_build ) || ( active_enemies = 1 & talent.raze.enabled & ! variable.if_build )",
								["action"] = "maul",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 5",
								["action"] = "thrash_bear",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "rage.deficit > 10 & settings.mangle_more",
								["action"] = "mangle",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "buff.incarnation_guardian_of_ursoc.down & buff.berserk_bear.down & active_enemies >= 11",
								["action"] = "swipe_bear",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "( buff.incarnation.up & active_enemies <= 4 ) || ( buff.incarnation.up & talent.soul_of_the_forest.enabled & active_enemies <= 5 ) || ( ( rage < 90 ) & active_enemies < 11 ) || ( ( rage < 85 ) & active_enemies < 11 & talent.soul_of_the_forest.enabled )",
								["action"] = "mangle",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1",
								["action"] = "thrash_bear",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "dot.thrash_bear.stack > 2",
								["action"] = "pulverize",
							}, -- [28]
							{
								["action"] = "thrash_bear",
								["enabled"] = true,
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "buff.galactic_guardian.up",
								["action"] = "moonfire",
							}, -- [30]
							{
								["action"] = "swipe_bear",
								["enabled"] = true,
							}, -- [31]
						},
					},
					["version"] = 20230714,
					["warnings"] = "The import for 'default' required some automated changes.\nLine 7: Converted 'talent.tooth_and_claw' to 'talent.tooth_and_claw.enabled' (1x).\n\nImported 5 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/variable,name=if_build,value=talent.thorns_of_iron.enabled&talent.reinforced_fur.enabled\nactions.precombat+=/variable,name=maul_build,value=!(talent.thorns_of_iron.enabled&talent.reinforced_fur.enabled)||settings.maul_anyway\nactions.precombat+=/mark_of_the_wild,if=!buff.prowl.up\nactions.precombat+=/heart_of_the_wild,if=talent.heart_of_the_wild.enabled&(druid.catweave_bear&buff.cat_form.up||druid.owlweave_bear&buff.moonkin_form.up)\nactions.precombat+=/prowl,if=buff.cat_form.up\nactions.precombat+=/bear_form,if=!buff.any_form.up\n\n# Executed every time the actor is available.\nactions=skull_bash,if=!buff.prowl.up\nactions+=/soothe\nactions+=/use_item,slot=trinket1\nactions+=/use_item,slot=trinket2\nactions+=/use_item,name=djaruun_pillar_of_the_elder_flame,if=dot.moonfire.ticking\nactions+=/potion,if=((talent.heart_of_the_wild.enabled&buff.heart_of_the_wild.up)||((buff.berserk_bear.up||buff.incarnation_guardian_of_ursoc.up)&(!druid.catweave_bear&!druid.owlweave_bear)))\nactions+=/run_action_list,name=catweave,if=buff.cat_form.up&!druid.catweave_bear||!tanking&druid.catweave_bear&(!talent.tooth_and_claw||buff.tooth_and_claw.remains>1.5)&(buff.incarnation_guardian_of_ursoc.down&buff.berserk_bear.down&cooldown.thrash_bear.remains>0&cooldown.mangle.remains>0&dot.moonfire.remains>=2||buff.cat_form.up&energy>25||buff.heart_of_the_wild.up&energy>90)\nactions+=/bear_form,if=!buff.bear_form.up\nactions+=/call_action_list,name=mitigation\nactions+=/run_action_list,name=bear\n\nactions.bear+=/bear_form,if=!buff.bear_form.up\nactions.bear+=/moonfire,cycle_targets=1,if=(((!ticking&time_to_die>12)||(refreshable&time_to_die>12))&active_enemies<7&talent.fury_of_nature.enabled)||(((!ticking&time_to_die>12)||(refreshable&time_to_die>12))&active_enemies<4&!talent.fury_of_nature.enabled)\nactions.bear+=/thrash_bear,if=refreshable||(dot.thrash_bear.stack<5&talent.flashing_claws.rank=2||dot.thrash_bear.stack<4&talent.flashing_claws.rank=1||dot.thrash_bear.stack<3&!talent.flashing_claws.enabled)\nactions.bear+=/bristling_fur\nactions.bear+=/barkskin,if=buff.bear_form.up\nactions.bear+=/convoke_the_spirits\nactions.bear+=/berserk_bear\nactions.bear+=/incarnation\nactions.bear+=/lunar_beam\nactions.bear+=/rage_of_the_sleeper,if=buff.incarnation_guardian_of_ursoc.down&cooldown.incarnation_guardian_of_ursoc.remains>60||buff.incarnation_guardian_of_ursoc.up||talent.convoke_the_spirits.enabled\nactions.bear+=/berserking,if=(buff.berserk_bear.up||buff.incarnation_guardian_of_ursoc.up)\nactions.bear+=/maul,if=(buff.rage_of_the_sleeper.up&buff.tooth_and_claw.stack>0&active_enemies<=6&!talent.raze.enabled&!variable.if_build)||(buff.rage_of_the_sleeper.up&buff.tooth_and_claw.stack>0&active_enemies=1&talent.raze.enabled&!variable.if_build)\nactions.bear+=/raze,if=buff.rage_of_the_sleeper.up&buff.tooth_and_claw.stack>0&!variable.if_build&active_enemies>1\nactions.bear+=/maul,if=(((buff.incarnation.up||buff.berserk_bear.up)&active_enemies<=5&!talent.raze.enabled&(buff.tooth_and_claw.stack>=1))&!variable.if_build)||(((buff.incarnation.up||buff.berserk_bear.up)&active_enemies=1&talent.raze.enabled&(buff.tooth_and_claw.stack>=1))&!variable.if_build)\nactions.bear+=/raze,if=(buff.incarnation.up||buff.berserk_bear.up)&!variable.if_build&active_enemies>1\nactions.bear+=/ironfur,cycle_targets=1,if=!buff.ironfur.up&rage>50&tanking&!variable.if_build&!buff.rage_of_the_sleeper.up||rage>90&!variable.if_build&!buff.rage_of_the_sleeper.up\nactions.bear+=/ironfur,if=variable.if_build&(rage>90||(buff.incarnation.up||buff.berserk_bear.up)&rage>20)\nactions.bear+=/raze,if=(buff.tooth_and_claw.up)&active_enemies>1\nactions.bear+=/raze,if=(!variable.if_build)&active_enemies>1\nactions.bear+=/mangle,if=buff.gore.up&active_enemies<11||buff.vicious_cycle_mangle.stack=3\nactions.bear+=/maul,if=(buff.tooth_and_claw.up&active_enemies<=5&!talent.raze.enabled)||(buff.tooth_and_claw.up&active_enemies=1&talent.raze.enabled)\nactions.bear+=/maul,if=(active_enemies<=5&!talent.raze.enabled&!variable.if_build)||(active_enemies=1&talent.raze.enabled&!variable.if_build)\nactions.bear+=/thrash_bear,if=active_enemies>=5\nactions.bear+=/mangle,if=rage.deficit>10&settings.mangle_more\nactions.bear+=/swipe,if=buff.incarnation_guardian_of_ursoc.down&buff.berserk_bear.down&active_enemies>=11\nactions.bear+=/mangle,if=(buff.incarnation.up&active_enemies<=4)||(buff.incarnation.up&talent.soul_of_the_forest.enabled&active_enemies<=5)||((rage<90)&active_enemies<11)||((rage<85)&active_enemies<11&talent.soul_of_the_forest.enabled)\nactions.bear+=/thrash_bear,if=active_enemies>1\nactions.bear+=/pulverize,if=dot.thrash_bear.stack>2\nactions.bear+=/thrash_bear\nactions.bear+=/moonfire,if=buff.galactic_guardian.up\nactions.bear+=/swipe_bear\n\nactions.catweave=heart_of_the_wild,if=!buff.heart_of_the_wild.up\nactions.catweave+=/cat_form,if=!buff.cat_form.up\nactions.catweave+=/rake,if=buff.prowl.up\nactions.catweave+=/heart_of_the_wild,if=talent.heart_of_the_wild.enabled&!buff.heart_of_the_wild.up\nactions.catweave+=/rake,if=!dot.rake.ticking&combo_points<5\nactions.catweave+=/rip,if=!dot.rip.ticking&combo_points>=3\nactions.catweave+=/convoke_the_spirits\nactions.catweave+=/ferocious_bite,if=combo_points>=4&energy>50\nactions.catweave+=/swipe_cat,if=combo_points<5&spell_targets.swipe_cat>1\nactions.catweave+=/shred,if=combo_points<5\n\nactions.mitigation=ironfur,if=tanking&!variable.if_build&incoming_damage_5s>ironfur_damage_threshold&buff.ironfur.remains<3*haste\nactions.mitigation+=/regrowth,if=health.pct<65\nactions.mitigation+=/renewal,if=health.pct<65\nactions.mitigation+=/frenzied_regeneration,if=tanking&health.pct<65\nactions.mitigation+=/barkskin,if=tanking&health.pct<75&incoming_damage_5s>0.1*health.max\nactions.mitigation+=/survival_instincts,if=buff.survival_instincts.down&buff.barkskin.down&health.pct<60&incoming_damage_5s>0.25*health.max",
				},
				["Arcane"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230826,
					["spec"] = 62,
					["desc"] = "2023-08-26:  Minor priority update.\n\n2023-07-18:  Minor update to Arcane Orb, Arcane Barrage, TotM.\n\n2023-07-11:  Patch 10.1.5 update.\n\n2023-07-02:  Check debuff.sated.up for Temporal Warp.\n\n2023-06-24:  Beacon/trinket logic updated; don't Evocation pre-pull if Arcane Surge isn't ready (or toggled off).\n\n2023-05-26:  Tweak to Arcane Blasts at high haste.\n\n2023-05-21:  Re-enable Evocation out of boss fights.\n\n2023-05-20:  Even more adjustments to timed priority entries.\n\n2023-05-15:  Relax some line cooldowns to help ensure transition into Arcane Surge.\n\n2023-05-13:  Minor update.\n\n2023-05-12:  Added T30 priority from SimC.\n\n2023-05-02:  Update for 10.1.",
					["lists"] = {
						["aoe_rotation"] = {
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.evocation.enabled || cooldown.evocation.remains > 12 ) & ( ! talent.arcane_surge.enabled || cooldown.arcane_surge.remains > 12 ) & ( ! talent.touch_of_the_magi.enabled || cooldown.touch_of_the_magi.remains > 12 ) & buff.arcane_surge.down & ( ( ! talent.charged_orb.enabled & cooldown.arcane_orb.remains > 12 ) || ( action.arcane_orb.charges = 0 || cooldown.arcane_orb.remains > 12 ) )",
								["action"] = "shifting_power",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable || ! ticking ) & buff.arcane_charge.stack = buff.arcane_charge.max_stack & buff.arcane_surge.down & ( active_enemies > 6 || ! talent.orb_barrage.enabled )",
								["action"] = "nether_tempest",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies <= 4 || buff.clearcasting.up ) & buff.arcane_charge.stack = 3",
								["action"] = "arcane_barrage",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = 0 & cooldown.touch_of_the_magi.remains > 18",
								["action"] = "arcane_orb",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack || mana.pct < 10",
								["action"] = "arcane_barrage",
							}, -- [5]
							{
								["action"] = "arcane_explosion",
								["enabled"] = true,
							}, -- [6]
						},
						["aoe_spark_phase"] = {
							{
								["buff_name"] = "presence_of_mind",
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_blast & cooldown.arcane_surge.remains > 75",
								["action"] = "cancel_buff",
							}, -- [1]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_barrage",
								["action"] = "touch_of_the_magi",
							}, -- [2]
							{
								["action"] = "radiant_spark",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["action"] = "arcane_orb",
								["criteria"] = "buff.arcane_charge.stack < 3",
								["line_cd"] = "1",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "nether_tempest",
								["criteria"] = "talent.arcane_echo.enabled",
								["line_cd"] = "15",
							}, -- [5]
							{
								["action"] = "arcane_surge",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.arcane_surge.remains < 75 & debuff.radiant_spark_vulnerability.stack = 4 & ! talent.orb_barrage.enabled",
								["action"] = "arcane_barrage",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "( debuff.radiant_spark_vulnerability.stack = 2 & cooldown.arcane_surge.remains > 75 ) || ( debuff.radiant_spark_vulnerability.stack = 1 & cooldown.arcane_surge.remains < 75 ) & ! talent.orb_barrage.enabled",
								["action"] = "arcane_barrage",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( debuff.radiant_spark_vulnerability.stack = 1 || debuff.radiant_spark_vulnerability.stack = 2 || ( debuff.radiant_spark_vulnerability.stack = 3 & active_enemies > 5 ) || debuff.radiant_spark_vulnerability.stack = 4 ) & buff.arcane_charge.stack = buff.arcane_charge.max_stack & talent.orb_barrage.enabled",
								["action"] = "arcane_barrage",
								["description"] = "Optimize orb barrage procs during spark at the cost of vulnerabilities, except at 5 or fewer targets where you arcane blast on the 3rd spark stack if its up and you have charges",
							}, -- [9]
							{
								["action"] = "presence_of_mind",
								["enabled"] = true,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "( ( debuff.radiant_spark_vulnerability.stack = 2 || debuff.radiant_spark_vulnerability.stack = 3 ) & ! talent.orb_barrage.enabled ) || ( debuff.radiant_spark_vulnerability.remains & talent.orb_barrage.enabled )",
								["action"] = "arcane_blast",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "( debuff.radiant_spark_vulnerability.stack = 4 & buff.arcane_surge.up ) || ( debuff.radiant_spark_vulnerability.stack = 3 & buff.arcane_surge.down ) & ! talent.orb_barrage.enabled",
								["action"] = "arcane_barrage",
							}, -- [12]
						},
						["aoe_touch_phase"] = {
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies <= 4 & buff.arcane_charge.stack = 3 ) || buff.arcane_charge.stack = buff.arcane_charge.max_stack",
								["action"] = "arcane_barrage",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack < 2",
								["action"] = "arcane_orb",
							}, -- [2]
							{
								["action"] = "arcane_explosion",
								["enabled"] = true,
							}, -- [3]
						},
						["touch_phase"] = {
							{
								["enabled"] = true,
								["criteria"] = "debuff.touch_of_the_magi.remains <= gcd.max",
								["action"] = "presence_of_mind",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.presence_of_mind.up & buff.arcane_charge.stack = buff.arcane_charge.max_stack",
								["action"] = "arcane_blast",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( buff.arcane_harmony.up || ( talent.arcane_bombardment.enabled & target.health.pct < 35 ) ) & debuff.touch_of_the_magi.remains <= gcd.max",
								["action"] = "arcane_barrage",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.clearcasting.stack > 1 & talent.conjure_mana_gem.enabled & cooldown.use_mana_gem.ready",
								["action"] = "arcane_missiles",
								["chain"] = "1",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.nether_precision.up",
								["action"] = "arcane_blast",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.clearcasting.react & ( debuff.touch_of_the_magi.remains > execute_time || ! talent.presence_of_mind.enabled )",
								["action"] = "arcane_missiles",
								["chain"] = "1",
							}, -- [6]
							{
								["action"] = "arcane_blast",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "arcane_barrage",
								["enabled"] = true,
							}, -- [8]
						},
						["rotation"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack < 3 & ( buff.bloodlust.down || mana.pct > 70 || ( variable.totm_on_last_spark_stack & cooldown.touch_of_the_magi.remains > 30 ) )",
								["action"] = "arcane_orb",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "variable.totm_on_last_spark_stack & ( ! talent.evocation.enabled || cooldown.evocation.remains > 12 ) & ( ! talent.arcane_surge.enabled || cooldown.arcane_surge.remains > 12 ) & ( ! talent.touch_of_the_magi.enabled || cooldown.touch_of_the_magi.remains > 12 ) & buff.arcane_surge.down & fight_remains > 15",
								["action"] = "shifting_power",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "! variable.totm_on_last_spark_stack & buff.arcane_surge.down & cooldown.arcane_surge.remains > 45 & fight_remains > 15",
								["action"] = "shifting_power",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable || ! ticking ) & equipped.neltharions_call_to_chaos & fight_remains >= 12",
								["action"] = "nether_tempest",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack < 3 & target.health.pct < 35 & talent.arcane_bombardment.enabled",
								["action"] = "presence_of_mind",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "talent.time_anomaly.enabled & buff.arcane_surge.up & buff.arcane_surge.remains <= 6",
								["action"] = "arcane_blast",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.presence_of_mind.up & target.health.pct < 35 & talent.arcane_bombardment.enabled & buff.arcane_charge.stack < 3",
								["action"] = "arcane_blast",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.clearcasting.react & buff.clearcasting.stack = buff.clearcasting.max_stack",
								["action"] = "arcane_missiles",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable || ! ticking ) & buff.arcane_charge.stack = buff.arcane_charge.max_stack & ( buff.temporal_warp.up || mana.pct < 10 || ! talent.shifting_power.enabled ) & buff.arcane_surge.down & fight_remains >= 12",
								["action"] = "nether_tempest",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack & mana.pct < 50 & ! talent.evocation.enabled & fight_remains > 20",
								["action"] = "arcane_barrage",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack & mana.pct < 70 & variable.conserve_mana & buff.bloodlust.up & cooldown.touch_of_the_magi.remains > 5 & fight_remains > 20",
								["action"] = "arcane_barrage",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.clearcasting.react & buff.concentration.up & buff.arcane_charge.stack = buff.arcane_charge.max_stack",
								["action"] = "arcane_missiles",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack & buff.nether_precision.up",
								["action"] = "arcane_blast",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_charge.stack = buff.arcane_charge.max_stack & mana.pct < 60 & variable.conserve_mana & cooldown.touch_of_the_magi.remains > 10 & cooldown.evocation.remains > 40 & fight_remains > 20",
								["action"] = "arcane_barrage",
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "arcane_missiles",
								["interrupt_if"] = "gcd.remains=0&buff.nether_precision.up&(mana.pct>30&cooldown.touch_of_the_magi.remains>30||mana.pct>70)",
								["description"] = "Canceling missile channels as soon as blast is ready to cast",
								["criteria"] = "buff.clearcasting.react & buff.nether_precision.down",
							}, -- [15]
							{
								["action"] = "arcane_blast",
								["enabled"] = true,
							}, -- [16]
							{
								["action"] = "arcane_barrage",
								["enabled"] = true,
							}, -- [17]
						},
						["cooldown_phase"] = {
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_barrage",
								["action"] = "touch_of_the_magi",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_surge.down & ! talent.radiant_spark.enabled",
								["action"] = "shifting_power",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.radiant_spark.ready & buff.arcane_charge.stack < buff.arcane_charge.max_stack",
								["action"] = "arcane_orb",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.radiant_spark.ready & ( buff.arcane_charge.stack < 2 || ( buff.arcane_charge.stack < buff.arcane_charge.max_stack & cooldown.arcane_orb.remains >= gcd.max ) )",
								["action"] = "arcane_blast",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.radiant_spark.ready & buff.clearcasting.react & ( talent.nether_precision.enabled & ( buff.nether_precision.down || buff.nether_precision.remains < gcd.max ) )",
								["action"] = "arcane_missiles",
							}, -- [5]
							{
								["action"] = "radiant_spark",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "nether_tempest",
								["criteria"] = "talent.arcane_echo.enabled",
								["line_cd"] = "30",
							}, -- [7]
							{
								["action"] = "arcane_surge",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_surge || prev_gcd.1.nether_tempest || prev_gcd.1.radiant_spark",
								["action"] = "arcane_barrage",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_barrage || prev_gcd.2.arcane_barrage || prev_gcd.3.arcane_barrage || ( prev_gcd.4.arcane_barrage & cooldown.arcane_surge.remains < 60 )",
								["action"] = "arcane_blast",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "debuff.touch_of_the_magi.remains <= gcd.max",
								["action"] = "presence_of_mind",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.presence_of_mind.up",
								["action"] = "arcane_blast",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "arcane_missiles",
								["interrupt_if"] = "gcd.remains=0&mana.pct>30&buff.nether_precision.up",
								["description"] = "Canceling missile channels as soon as blast is ready to cast",
								["criteria"] = "buff.nether_precision.down & buff.clearcasting.react",
							}, -- [13]
							{
								["action"] = "arcane_blast",
								["enabled"] = true,
							}, -- [14]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "counterspell",
								["description"] = "Executed every time the actor is available.",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.arcane_surge.ready",
								["action"] = "potion",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "talent.siphon_storm.enabled & time < 10 & cooldown.arcane_surge.remains < 5",
								["action"] = "evocation",
								["description"] = "This is a backup measure in case you fail to pre-evocate with Siphon Storm.",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.temporal_warp.enabled & debuff.sated.up & ( cooldown.arcane_surge.ready || boss & fight_remains <= 40 || buff.arcane_surge.up & fight_remains <= 80 )",
								["action"] = "time_warp",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_surge.down & debuff.touch_of_the_magi.down & active_enemies >= 2",
								["action"] = "lights_judgment",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.arcane_surge.down & debuff.touch_of_the_magi.down",
								["action"] = "bag_of_tricks",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( prev_gcd.1.arcane_surge & ! ( buff.temporal_warp.up & buff.bloodlust.up ) ) || ( buff.arcane_surge.up & debuff.touch_of_the_magi.up )",
								["action"] = "berserking",
								["description"] = "Zerking gets used after surge outside of double lust, but after touch with double lust",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_surge",
								["action"] = "blood_fury",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_surge",
								["action"] = "fireblood",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_surge",
								["action"] = "ancestral_call",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "( ( prev_gcd.1.arcane_surge & ! set_bonus.tier30_4pc ) || ( prev_gcd.2.arcane_surge & debuff.touch_of_the_magi.up & set_bonus.tier30_4pc ) ) || ( ( active_enemies >= variable.aoe_target_count ) & cooldown.arcane_surge.ready & prev_gcd.1.nether_tempest )",
								["action"] = "use_items",
								["description"] = "Use other trinkets in ST after surge without t30, after touch with t30, and before Surge in AOE, except Talon which is used with spark without t30, or after surge for t30",
							}, -- [11]
							{
								["enabled"] = true,
								["name"] = "timebreaching_talon",
								["action"] = "timebreaching_talon",
								["criteria"] = "( ( variable.totm_on_last_spark_stack & cooldown.arcane_surge.remains <= ( gcd.max * 3 ) ) || ( ! variable.totm_on_last_spark_stack & prev_gcd.1.arcane_surge ) ) & ( ! variable.talon_double_on_use || ! buff.bloodlust.up )",
							}, -- [12]
							{
								["enabled"] = true,
								["name"] = "conjured_chillglobe",
								["action"] = "conjured_chillglobe",
								["criteria"] = "mana.pct > 65 & ( ! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20 )",
							}, -- [13]
							{
								["enabled"] = true,
								["name"] = "beacon_to_the_beyond",
								["action"] = "beacon_to_the_beyond",
								["criteria"] = "! variable.steroid_trinket_equipped || ( cooldown.arcane_surge.remains > 20 & buff.arcane_surge.remains < 10 )",
							}, -- [14]
							{
								["enabled"] = true,
								["name"] = "darkmoon_deck_rime",
								["action"] = "darkmoon_deck_rime",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
							}, -- [15]
							{
								["enabled"] = true,
								["name"] = "darkmoon_deck_dance",
								["action"] = "darkmoon_deck_dance",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
							}, -- [16]
							{
								["enabled"] = true,
								["name"] = "darkmoon_deck_inferno",
								["action"] = "darkmoon_deck_inferno",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
							}, -- [17]
							{
								["enabled"] = true,
								["name"] = "desperate_invokers_codex",
								["action"] = "desperate_invokers_codex",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
							}, -- [18]
							{
								["enabled"] = true,
								["name"] = "iceblood_deathsnare",
								["action"] = "iceblood_deathsnare",
								["criteria"] = "! variable.steroid_trinket_equipped || cooldown.arcane_surge.remains > 20",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains < 2",
								["action"] = "arcane_barrage",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "evocation",
								["interrupt_if"] = "mana.pct>=95&!talent.siphon_storm||(mana.pct>fight_remains*4)&!(fight_remains>10&cooldown.arcane_surge.remains<1)",
								["description"] = "Cancel Evo if we have enough mana and don't have Siphon Storm talented or if the fight duration is running out",
								["criteria"] = "buff.arcane_surge.down & debuff.touch_of_the_magi.down & ( ( mana.pct < 10 & cooldown.touch_of_the_magi.remains < 20 ) || cooldown.touch_of_the_magi.remains < 15 ) & ( mana.pct < fight_remains * 4 )",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "debuff.touch_of_the_magi.down & buff.arcane_surge.down & cooldown.arcane_surge.remains < 30 & cooldown.arcane_surge.true_remains < fight_remains & ! mana_gem_charges",
								["action"] = "conjure_mana_gem",
								["description"] = "Make a new gem if the encounter is long enough and use it after surge to recoup mana quickly",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.cascading_power.enabled & buff.clearcasting.stack < 2 & buff.arcane_surge.up",
								["action"] = "mana_gem",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "! talent.cascading_power.enabled & prev_gcd.1.arcane_surge",
								["action"] = "mana_gem",
								["line_cd"] = "5",
							}, -- [24]
							{
								["enabled"] = true,
								["description"] = "Enter cooldown phase when cds are available or coming off cooldown otherwise default to rotation priority",
								["action"] = "call_action_list",
								["criteria"] = "( ! variable.totm_on_last_spark_stack & ( cooldown.arcane_surge.remains <= ( gcd.max * ( 1 + ( talent.nether_tempest.enabled & talent.arcane_echo.enabled ) ) ) || buff.arcane_surge.up || buff.arcane_overload.up ) & cooldown.evocation.remains > 45 & ( ( cooldown.touch_of_the_magi.remains < gcd.max * 4 ) || cooldown.touch_of_the_magi.remains > 20 ) & active_enemies < variable.aoe_target_count ) || ( ! variable.totm_on_last_spark_stack & cooldown.arcane_surge.remains > 30 & ( cooldown.radiant_spark.ready || dot.radiant_spark.remains || debuff.radiant_spark_vulnerability.up ) & ( cooldown.touch_of_the_magi.remains <= ( gcd.max * 3 ) || debuff.touch_of_the_magi.up ) & active_enemies < variable.aoe_target_count )",
								["list_name"] = "cooldown_phase",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "talent.radiant_spark.enabled & variable.aoe_spark_phase",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "aoe_spark_phase",
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "variable.totm_on_last_spark_stack & talent.radiant_spark.enabled & variable.spark_phase",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "spark_phase",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "debuff.touch_of_the_magi.up & active_enemies >= variable.aoe_target_count",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "aoe_touch_phase",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "variable.totm_on_last_spark_stack & debuff.touch_of_the_magi.up & active_enemies < variable.aoe_target_count",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "touch_phase",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= variable.aoe_target_count",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "aoe_rotation",
							}, -- [30]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "rotation",
							}, -- [31]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "arcane_intellect",
							}, -- [1]
							{
								["action"] = "arcane_familiar",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "conjure_mana_gem",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "opener_min_mana",
								["value"] = "225000",
								["value_else"] = "200000",
								["criteria"] = "talent.arcane_harmony.enabled",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! set_bonus.tier30_4pc",
								["var_name"] = "totm_on_last_spark_stack",
								["description"] = "Variable used to swap rotation from using totm on the last stack of Spark or the 1st or 2nd",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "equipped.gladiators_badge || equipped.irideus_fragment || equipped.erupting_spear_fragment || equipped.spoils_of_neltharus || equipped.tome_of_unstable_power || equipped.timebreaching_talon || equipped.horn_of_valor",
								["var_name"] = "steroid_trinket_equipped",
								["description"] = "Variable indicates use of a trinket that boosts stats during burst",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "equipped.timebreaching_talon & equipped.irideus_fragment",
								["var_name"] = "talon_double_on_use",
								["description"] = "Variable indicates double on use trinkets with Talon/Irideus",
							}, -- [7]
							{
								["action"] = "mirror_image",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "! talent.siphon_storm.enabled || cooldown.arcane_surge.remains > 15",
								["action"] = "arcane_blast",
								["description"] = "Edited to avoid wasting Evocation between small pulls if Arcane Surge isn't even ready.  This also accounts for toggles.",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.siphon_storm.enabled",
								["action"] = "evocation",
							}, -- [10]
						},
						["spark_phase"] = {
							{
								["enabled"] = true,
								["action"] = "nether_tempest",
								["criteria"] = "! ticking & variable.opener & buff.bloodlust.up",
								["line_cd"] = "45",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "variable.opener & cooldown.arcane_surge.ready & buff.bloodlust.up & mana >= variable.opener_min_mana",
								["action"] = "arcane_blast",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "variable.opener & buff.bloodlust.up & buff.clearcasting.react & buff.clearcasting.stack >= 2 & cooldown.radiant_spark.remains < 5 & buff.nether_precision.down",
								["action"] = "arcane_missiles",
								["chain"] = "1",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.arcane_harmony.enabled & buff.arcane_harmony.stack < 15 & ( ( variable.opener & buff.bloodlust.up ) || buff.clearcasting.react & cooldown.radiant_spark.remains < 5 ) & cooldown.arcane_surge.remains < 30",
								["action"] = "arcane_missiles",
								["chain"] = "1",
							}, -- [4]
							{
								["action"] = "radiant_spark",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "nether_tempest",
								["criteria"] = "( prev_gcd.4.radiant_spark & cooldown.arcane_surge.remains <= execute_time ) || prev_gcd.5.radiant_spark",
								["line_cd"] = "15",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.nether_tempest.enabled & prev_gcd.4.radiant_spark ) || prev_gcd.1.nether_tempest",
								["action"] = "arcane_surge",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "cast_time >= gcd.max & execute_time < debuff.radiant_spark_vulnerability.remains & ( ! talent.arcane_bombardment.enabled || target.health.pct >= 35 ) & ( talent.nether_tempest.enabled & prev_gcd.6.radiant_spark || ! talent.nether_tempest.enabled & prev_gcd.5.radiant_spark )",
								["action"] = "arcane_blast",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "debuff.radiant_spark_vulnerability.stack = 4",
								["action"] = "arcane_barrage",
							}, -- [9]
							{
								["use_off_gcd"] = 1,
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.arcane_barrage & ( action.arcane_barrage.in_flight_remains <= 0.2 || gcd.remains <= 0.2 )",
								["action"] = "touch_of_the_magi",
							}, -- [10]
							{
								["action"] = "arcane_blast",
								["enabled"] = true,
							}, -- [11]
							{
								["action"] = "arcane_barrage",
								["enabled"] = true,
							}, -- [12]
						},
					},
					["version"] = 20230826,
					["warnings"] = "The import for 'aoe_rotation' required some automated changes.\nLine 1: Converted 'talent.evocation' to 'talent.evocation.enabled' (1x).\nLine 1: Converted 'talent.arcane_surge' to 'talent.arcane_surge.enabled' (1x).\nLine 1: Converted 'talent.touch_of_the_magi' to 'talent.touch_of_the_magi.enabled' (1x).\nLine 1: Converted 'talent.charged_orb' to 'talent.charged_orb.enabled' (1x).\nLine 2: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\n\nThe import for 'aoe_spark_phase' required some automated changes.\nLine 5: Converted 'talent.arcane_echo' to 'talent.arcane_echo.enabled' (1x).\nLine 7: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 8: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 9: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 11: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 11: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\nLine 12: Converted 'talent.orb_barrage' to 'talent.orb_barrage.enabled' (1x).\n\nThe import for 'touch_phase' required some automated changes.\nLine 3: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 4: Converted 'talent.conjure_mana_gem' to 'talent.conjure_mana_gem.enabled' (1x).\nLine 6: Converted 'talent.presence_of_mind' to 'talent.presence_of_mind.enabled' (1x).\n\nThe import for 'rotation' required some automated changes.\nLine 2: Converted 'talent.evocation' to 'talent.evocation.enabled' (1x).\nLine 2: Converted 'talent.arcane_surge' to 'talent.arcane_surge.enabled' (1x).\nLine 2: Converted 'talent.touch_of_the_magi' to 'talent.touch_of_the_magi.enabled' (1x).\nLine 5: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 6: Converted 'talent.time_anomaly' to 'talent.time_anomaly.enabled' (1x).\nLine 7: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 9: Converted 'talent.shifting_power' to 'talent.shifting_power.enabled' (1x).\nLine 10: Converted 'talent.evocation' to 'talent.evocation.enabled' (1x).\n\nThe import for 'cooldown_phase' required some automated changes.\nLine 2: Converted 'talent.radiant_spark' to 'talent.radiant_spark.enabled' (1x).\nLine 5: Converted 'talent.nether_precision' to 'talent.nether_precision.enabled' (1x).\nLine 7: Converted 'talent.arcane_echo' to 'talent.arcane_echo.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 3: Converted 'talent.siphon_storm' to 'talent.siphon_storm.enabled' (1x).\nLine 4: Converted 'talent.temporal_warp' to 'talent.temporal_warp.enabled' (1x).\nLine 23: Converted 'talent.cascading_power' to 'talent.cascading_power.enabled' (1x).\nLine 24: Converted 'talent.cascading_power' to 'talent.cascading_power.enabled' (1x).\nLine 25: Converted 'talent.nether_tempest' to 'talent.nether_tempest.enabled' (1x).\nLine 25: Converted 'talent.arcane_echo' to 'talent.arcane_echo.enabled' (1x).\nLine 26: Converted 'talent.radiant_spark' to 'talent.radiant_spark.enabled' (1x).\nLine 27: Converted 'talent.radiant_spark' to 'talent.radiant_spark.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 4: Converted 'talent.arcane_harmony' to 'talent.arcane_harmony.enabled' (1x).\nLine 9: Converted 'talent.siphon_storm' to 'talent.siphon_storm.enabled' (1x).\nLine 10: Converted 'talent.siphon_storm' to 'talent.siphon_storm.enabled' (1x).\n\nThe import for 'spark_phase' required some automated changes.\nLine 4: Converted 'talent.arcane_harmony' to 'talent.arcane_harmony.enabled' (1x).\nLine 7: Converted 'talent.nether_tempest' to 'talent.nether_tempest.enabled' (1x).\nLine 8: Converted 'talent.arcane_bombardment' to 'talent.arcane_bombardment.enabled' (1x).\nLine 8: Converted 'talent.nether_tempest' to 'talent.nether_tempest.enabled' (1x).\nLine 8: Converted 'talent.nether_tempest' to 'talent.nether_tempest.enabled' (1x).\n\nImported 9 action lists.\n",
					["author"] = "SimulationCraft",
					["profile"] = "actions.precombat+=/arcane_intellect\nactions.precombat+=/arcane_familiar\nactions.precombat+=/conjure_mana_gem\n## actions.precombat+=/variable,name=aoe_target_count,op=reset,default=3\n## actions.precombat+=/variable,name=conserve_mana,op=set,value=0\nactions.precombat+=/variable,name=opener_min_mana,op=setif,condition=talent.arcane_harmony,value=225000,value_else=200000\n# Variable used to swap rotation from using totm on the last stack of Spark or the 1st or 2nd\nactions.precombat+=/variable,name=totm_on_last_spark_stack,op=set,value=!set_bonus.tier30_4pc\n# Variable indicates use of a trinket that boosts stats during burst\nactions.precombat+=/variable,name=steroid_trinket_equipped,op=set,value=equipped.gladiators_badge||equipped.irideus_fragment||equipped.erupting_spear_fragment||equipped.spoils_of_neltharus||equipped.tome_of_unstable_power||equipped.timebreaching_talon||equipped.horn_of_valor\n# Variable indicates double on use trinkets with Talon/Irideus\nactions.precombat+=/variable,name=talon_double_on_use,op=set,value=equipped.timebreaching_talon&equipped.irideus_fragment\nactions.precombat+=/mirror_image\n# Edited to avoid wasting Evocation between small pulls if Arcane Surge isn't even ready.  This also accounts for toggles.\nactions.precombat+=/arcane_blast,if=!talent.siphon_storm||cooldown.arcane_surge.remains>15\nactions.precombat+=/evocation,if=talent.siphon_storm\n\n# Executed every time the actor is available.\nactions=counterspell\nactions+=/potion,if=cooldown.arcane_surge.ready\n# This is a backup measure in case you fail to pre-evocate with Siphon Storm.\nactions+=/evocation,if=talent.siphon_storm&time<10&cooldown.arcane_surge.remains<5\nactions+=/time_warp,if=talent.temporal_warp&debuff.sated.up&(cooldown.arcane_surge.ready||boss&fight_remains<=40||buff.arcane_surge.up&fight_remains<=80)\nactions+=/lights_judgment,if=buff.arcane_surge.down&debuff.touch_of_the_magi.down&active_enemies>=2\nactions+=/bag_of_tricks,if=buff.arcane_surge.down&debuff.touch_of_the_magi.down\n# Zerking gets used after surge outside of double lust, but after touch with double lust\nactions+=/berserking,if=(prev_gcd.1.arcane_surge&!(buff.temporal_warp.up&buff.bloodlust.up))||(buff.arcane_surge.up&debuff.touch_of_the_magi.up)\nactions+=/blood_fury,if=prev_gcd.1.arcane_surge\nactions+=/fireblood,if=prev_gcd.1.arcane_surge\nactions+=/ancestral_call,if=prev_gcd.1.arcane_surge\n### PI/Summer after Radiant Spark when cooldowns are coming up, Autumn after Touch of the Magi cd starts\n## actions+=/invoke_external_buff,name=power_infusion,if=((!talent.radiant_spark&prev_gcd.1.arcane_surge)||(talent.radiant_spark&prev_gcd.1.radiant_spark&cooldown.arcane_surge.remains<=(gcd.max*3)))\n## actions+=/invoke_external_buff,name=blessing_of_summer,if=(!talent.radiant_spark&prev_gcd.1.arcane_surge)||(talent.radiant_spark&prev_gcd.1.radiant_spark&cooldown.arcane_surge.remains<=(gcd.max*3))\n## actions+=/invoke_external_buff,name=blessing_of_autumn,if=cooldown.touch_of_the_magi.remains>5\n# Use other trinkets in ST after surge without t30, after touch with t30, and before Surge in AOE, except Talon which is used with spark without t30, or after surge for t30\nactions+=/use_items,if=((prev_gcd.1.arcane_surge&!set_bonus.tier30_4pc)||(prev_gcd.2.arcane_surge&debuff.touch_of_the_magi.up&set_bonus.tier30_4pc))||((active_enemies>=variable.aoe_target_count)&cooldown.arcane_surge.ready&prev_gcd.1.nether_tempest)\nactions+=/use_item,name=timebreaching_talon,if=((variable.totm_on_last_spark_stack&cooldown.arcane_surge.remains<=(gcd.max*3))||(!variable.totm_on_last_spark_stack&prev_gcd.1.arcane_surge))&(!variable.talon_double_on_use||!buff.bloodlust.up)\n## actions+=/use_item,name=tinker_breath_of_neltharion,if=cooldown.arcane_surge.remains&buff.arcane_surge.down&debuff.touch_of_the_magi.down\nactions+=/use_item,name=conjured_chillglobe,if=mana.pct>65&(!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20)\nactions+=/use_item,name=beacon_to_the_beyond,if=!variable.steroid_trinket_equipped||(cooldown.arcane_surge.remains>20&buff.arcane_surge.remains<10)\nactions+=/use_item,name=darkmoon_deck_rime,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\nactions+=/use_item,name=darkmoon_deck_dance,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\nactions+=/use_item,name=darkmoon_deck_inferno,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\nactions+=/use_item,name=desperate_invokers_codex,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\nactions+=/use_item,name=iceblood_deathsnare,if=!variable.steroid_trinket_equipped||cooldown.arcane_surge.remains>20\n## actions+=/variable,name=aoe_spark_phase,op=set,value=1,if=active_enemies>=variable.aoe_target_count&(action.arcane_orb.charges>0||buff.arcane_charge.stack>=3)&cooldown.radiant_spark.ready&cooldown.touch_of_the_magi.remains<=(gcd.max*2)\n## actions+=/variable,name=aoe_spark_phase,op=set,value=0,if=variable.aoe_spark_phase&debuff.radiant_spark_vulnerability.down&dot.radiant_spark.remains<7&cooldown.radiant_spark.remains\n## actions+=/variable,name=spark_phase,op=set,value=1,if=+actions+=/variable,name=spark_phase,op=set,value=1,if=buff.arcane_charge.stack>3&active_enemies<variable.aoe_target_count&cooldown.radiant_spark.ready&cooldown.touch_of_the_magi.remains<=(gcd.max*7)\n## actions+=/variable,name=spark_phase,op=set,value=0,if=variable.spark_phase&debuff.radiant_spark_vulnerability.down&dot.radiant_spark.remains<7&cooldown.radiant_spark.remains\n## actions+=/variable,name=opener,op=set,if=debuff.touch_of_the_magi.up&variable.opener,value=0\nactions+=/arcane_barrage,if=fight_remains<2\n# Cancel Evo if we have enough mana and don't have Siphon Storm talented or if the fight duration is running out\nactions+=/evocation,if=buff.arcane_surge.down&debuff.touch_of_the_magi.down&((mana.pct<10&cooldown.touch_of_the_magi.remains<20)||cooldown.touch_of_the_magi.remains<15)&(mana.pct<fight_remains*4),interrupt_if=mana.pct>=95&!talent.siphon_storm||(mana.pct>fight_remains*4)&!(fight_remains>10&cooldown.arcane_surge.remains<1)\n# Make a new gem if the encounter is long enough and use it after surge to recoup mana quickly\nactions+=/conjure_mana_gem,if=debuff.touch_of_the_magi.down&buff.arcane_surge.down&cooldown.arcane_surge.remains<30&cooldown.arcane_surge.true_remains<fight_remains&!mana_gem_charges\nactions+=/use_mana_gem,if=talent.cascading_power&buff.clearcasting.stack<2&buff.arcane_surge.up\nactions+=/use_mana_gem,line_cd=5,if=!talent.cascading_power&prev_gcd.1.arcane_surge\n## TODO: Revisit strict flag on these entries.\n# Merged two cooldown_phase entries to reduce CPU consumption.\n# Enter cooldown phase when cds are available or coming off cooldown otherwise default to rotation priority\nactions+=/call_action_list,name=cooldown_phase,if=(!variable.totm_on_last_spark_stack&(cooldown.arcane_surge.remains<=(gcd.max*(1+(talent.nether_tempest&talent.arcane_echo)))||buff.arcane_surge.up||buff.arcane_overload.up)&cooldown.evocation.remains>45&((cooldown.touch_of_the_magi.remains<gcd.max*4)||cooldown.touch_of_the_magi.remains>20)&active_enemies<variable.aoe_target_count)||(!variable.totm_on_last_spark_stack&cooldown.arcane_surge.remains>30&(cooldown.radiant_spark.ready||dot.radiant_spark.remains||debuff.radiant_spark_vulnerability.up)&(cooldown.touch_of_the_magi.remains<=(gcd.max*3)||debuff.touch_of_the_magi.up)&active_enemies<variable.aoe_target_count)\nactions+=/call_action_list,name=aoe_spark_phase,strict=1,if=talent.radiant_spark&variable.aoe_spark_phase\nactions+=/call_action_list,name=spark_phase,strict=1,if=variable.totm_on_last_spark_stack&talent.radiant_spark&variable.spark_phase\nactions+=/call_action_list,name=aoe_touch_phase,strict=1,if=debuff.touch_of_the_magi.up&active_enemies>=variable.aoe_target_count\nactions+=/call_action_list,name=touch_phase,strict=1,if=variable.totm_on_last_spark_stack&debuff.touch_of_the_magi.up&active_enemies<variable.aoe_target_count\nactions+=/call_action_list,name=aoe_rotation,strict=1,if=active_enemies>=variable.aoe_target_count\nactions+=/call_action_list,name=rotation\n\nactions.aoe_rotation+=/shifting_power,if=(!talent.evocation||cooldown.evocation.remains>12)&(!talent.arcane_surge||cooldown.arcane_surge.remains>12)&(!talent.touch_of_the_magi||cooldown.touch_of_the_magi.remains>12)&buff.arcane_surge.down&((!talent.charged_orb&cooldown.arcane_orb.remains>12)||(action.arcane_orb.charges=0||cooldown.arcane_orb.remains>12))\nactions.aoe_rotation+=/nether_tempest,if=(refreshable||!ticking)&buff.arcane_charge.stack=buff.arcane_charge.max_stack&buff.arcane_surge.down&(active_enemies>6||!talent.orb_barrage)\nactions.aoe_rotation+=/arcane_barrage,if=(active_enemies<=4||buff.clearcasting.up)&buff.arcane_charge.stack=3\nactions.aoe_rotation+=/arcane_orb,if=buff.arcane_charge.stack=0&cooldown.touch_of_the_magi.remains>18\nactions.aoe_rotation+=/arcane_barrage,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack||mana.pct<10\nactions.aoe_rotation+=/arcane_explosion\n\nactions.aoe_spark_phase=cancel_buff,name=presence_of_mind,if=prev_gcd.1.arcane_blast&cooldown.arcane_surge.remains>75\nactions.aoe_spark_phase+=/touch_of_the_magi,use_off_gcd=1,if=prev_gcd.1.arcane_barrage\nactions.aoe_spark_phase+=/radiant_spark\nactions.aoe_spark_phase+=/arcane_orb,if=buff.arcane_charge.stack<3,line_cd=1\nactions.aoe_spark_phase+=/nether_tempest,if=talent.arcane_echo,line_cd=15\nactions.aoe_spark_phase+=/arcane_surge\n### Waits are used to simulate players allowing radiant spark to increment in stacks\n## actions.aoe_spark_phase+=/wait,sec=0.05,if=cooldown.arcane_surge.remains>75&prev_gcd.1.arcane_blast&!talent.presence_of_mind,line_cd=15\n## actions.aoe_spark_phase+=/wait,sec=0.05,if=prev_gcd.1.arcane_surge,line_cd=15\n## actions.aoe_spark_phase+=/wait,sec=0.05,if=cooldown.arcane_surge.remains<75&debuff.radiant_spark_vulnerability.stack=3&!talent.presence_of_mind,line_cd=15\nactions.aoe_spark_phase+=/arcane_barrage,if=cooldown.arcane_surge.remains<75&debuff.radiant_spark_vulnerability.stack=4&!talent.orb_barrage\nactions.aoe_spark_phase+=/arcane_barrage,if=(debuff.radiant_spark_vulnerability.stack=2&cooldown.arcane_surge.remains>75)||(debuff.radiant_spark_vulnerability.stack=1&cooldown.arcane_surge.remains<75)&!talent.orb_barrage\n# Optimize orb barrage procs during spark at the cost of vulnerabilities, except at 5 or fewer targets where you arcane blast on the 3rd spark stack if its up and you have charges\nactions.aoe_spark_phase+=/arcane_barrage,if=(debuff.radiant_spark_vulnerability.stack=1||debuff.radiant_spark_vulnerability.stack=2||(debuff.radiant_spark_vulnerability.stack=3&active_enemies>5)||debuff.radiant_spark_vulnerability.stack=4)&buff.arcane_charge.stack=buff.arcane_charge.max_stack&talent.orb_barrage\nactions.aoe_spark_phase+=/presence_of_mind\nactions.aoe_spark_phase+=/arcane_blast,if=((debuff.radiant_spark_vulnerability.stack=2||debuff.radiant_spark_vulnerability.stack=3)&!talent.orb_barrage)||(debuff.radiant_spark_vulnerability.remains&talent.orb_barrage)\nactions.aoe_spark_phase+=/arcane_barrage,if=(debuff.radiant_spark_vulnerability.stack=4&buff.arcane_surge.up)||(debuff.radiant_spark_vulnerability.stack=3&buff.arcane_surge.down)&!talent.orb_barrage\n\n## actions.aoe_touch_phase+=/variable,name=conserve_mana,op=set,if=debuff.touch_of_the_magi.remains>9,value=1-variable.conserve_mana\nactions.aoe_touch_phase+=/arcane_barrage,if=(active_enemies<=4&buff.arcane_charge.stack=3)||buff.arcane_charge.stack=buff.arcane_charge.max_stack\nactions.aoe_touch_phase+=/arcane_orb,if=buff.arcane_charge.stack<2\nactions.aoe_touch_phase+=/arcane_explosion\n\nactions.cooldown_phase+=/touch_of_the_magi,use_off_gcd=1,if=prev_gcd.1.arcane_barrage\n## actions.cooldown_phase+=/variable,name=conserve_mana,op=set,if=cooldown.radiant_spark.ready,value=0+(cooldown.arcane_surge.remains<10)\nactions.cooldown_phase+=/shifting_power,if=buff.arcane_surge.down&!talent.radiant_spark\nactions.cooldown_phase+=/arcane_orb,if=cooldown.radiant_spark.ready&buff.arcane_charge.stack<buff.arcane_charge.max_stack\nactions.cooldown_phase+=/arcane_blast,if=cooldown.radiant_spark.ready&(buff.arcane_charge.stack<2||(buff.arcane_charge.stack<buff.arcane_charge.max_stack&cooldown.arcane_orb.remains>=gcd.max))\nactions.cooldown_phase+=/arcane_missiles,if=cooldown.radiant_spark.ready&buff.clearcasting.react&(talent.nether_precision&(buff.nether_precision.down||buff.nether_precision.remains<gcd.max))\nactions.cooldown_phase+=/radiant_spark\nactions.cooldown_phase+=/nether_tempest,if=talent.arcane_echo,line_cd=30\nactions.cooldown_phase+=/arcane_surge\n## actions.cooldown_phase+=/wait,sec=0.05,if=prev_gcd.1.arcane_surge,line_cd=15\nactions.cooldown_phase+=/arcane_barrage,if=prev_gcd.1.arcane_surge||prev_gcd.1.nether_tempest||prev_gcd.1.radiant_spark\nactions.cooldown_phase+=/arcane_blast,if=prev_gcd.1.arcane_barrage||prev_gcd.2.arcane_barrage||prev_gcd.3.arcane_barrage||(prev_gcd.4.arcane_barrage&cooldown.arcane_surge.remains<60)\nactions.cooldown_phase+=/presence_of_mind,if=debuff.touch_of_the_magi.remains<=gcd.max\nactions.cooldown_phase+=/arcane_blast,if=buff.presence_of_mind.up\n# Canceling missile channels as soon as blast is ready to cast\nactions.cooldown_phase+=/arcane_missiles,if=buff.nether_precision.down&buff.clearcasting.react,interrupt_if=gcd.remains=0&mana.pct>30&buff.nether_precision.up\nactions.cooldown_phase+=/arcane_blast\n\nactions.rotation+=/arcane_orb,if=buff.arcane_charge.stack<3&(buff.bloodlust.down||mana.pct>70||(variable.totm_on_last_spark_stack&cooldown.touch_of_the_magi.remains>30))\nactions.rotation+=/shifting_power,if=variable.totm_on_last_spark_stack&(!talent.evocation||cooldown.evocation.remains>12)&(!talent.arcane_surge||cooldown.arcane_surge.remains>12)&(!talent.touch_of_the_magi||cooldown.touch_of_the_magi.remains>12)&buff.arcane_surge.down&fight_remains>15\nactions.rotation+=/shifting_power,if=!variable.totm_on_last_spark_stack&buff.arcane_surge.down&cooldown.arcane_surge.remains>45&fight_remains>15\nactions.rotation+=/nether_tempest,if=(refreshable||!ticking)&equipped.neltharions_call_to_chaos&fight_remains>=12\nactions.rotation+=/presence_of_mind,if=buff.arcane_charge.stack<3&target.health.pct<35&talent.arcane_bombardment\nactions.rotation+=/arcane_blast,if=talent.time_anomaly&buff.arcane_surge.up&buff.arcane_surge.remains<=6\nactions.rotation+=/arcane_blast,if=buff.presence_of_mind.up&target.health.pct<35&talent.arcane_bombardment&buff.arcane_charge.stack<3\nactions.rotation+=/arcane_missiles,if=buff.clearcasting.react&buff.clearcasting.stack=buff.clearcasting.max_stack\nactions.rotation+=/nether_tempest,if=(refreshable||!ticking)&buff.arcane_charge.stack=buff.arcane_charge.max_stack&(buff.temporal_warp.up||mana.pct<10||!talent.shifting_power)&buff.arcane_surge.down&fight_remains>=12\nactions.rotation+=/arcane_barrage,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack&mana.pct<50&!talent.evocation&fight_remains>20\nactions.rotation+=/arcane_barrage,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack&mana.pct<70&variable.conserve_mana&buff.bloodlust.up&cooldown.touch_of_the_magi.remains>5&fight_remains>20\nactions.rotation+=/arcane_missiles,if=buff.clearcasting.react&buff.concentration.up&buff.arcane_charge.stack=buff.arcane_charge.max_stack\nactions.rotation+=/arcane_blast,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack&buff.nether_precision.up\nactions.rotation+=/arcane_barrage,if=buff.arcane_charge.stack=buff.arcane_charge.max_stack&mana.pct<60&variable.conserve_mana&cooldown.touch_of_the_magi.remains>10&cooldown.evocation.remains>40&fight_remains>20\n# Canceling missile channels as soon as blast is ready to cast\nactions.rotation+=/arcane_missiles,if=buff.clearcasting.react&buff.nether_precision.down,interrupt_if=gcd.remains=0&buff.nether_precision.up&(mana.pct>30&cooldown.touch_of_the_magi.remains>30||mana.pct>70)\nactions.rotation+=/arcane_blast\nactions.rotation+=/arcane_barrage\n\nactions.spark_phase+=/nether_tempest,if=!ticking&variable.opener&buff.bloodlust.up,line_cd=45\nactions.spark_phase+=/arcane_blast,if=variable.opener&cooldown.arcane_surge.ready&buff.bloodlust.up&mana>=variable.opener_min_mana\nactions.spark_phase+=/arcane_missiles,if=variable.opener&buff.bloodlust.up&buff.clearcasting.react&buff.clearcasting.stack>=2&cooldown.radiant_spark.remains<5&buff.nether_precision.down,chain=1\nactions.spark_phase+=/arcane_missiles,if=talent.arcane_harmony&buff.arcane_harmony.stack<15&((variable.opener&buff.bloodlust.up)||buff.clearcasting.react&cooldown.radiant_spark.remains<5)&cooldown.arcane_surge.remains<30,chain=1\nactions.spark_phase+=/radiant_spark\nactions.spark_phase+=/nether_tempest,if=(prev_gcd.4.radiant_spark&cooldown.arcane_surge.remains<=execute_time)||prev_gcd.5.radiant_spark,line_cd=15\nactions.spark_phase+=/arcane_surge,if=(!talent.nether_tempest&prev_gcd.4.radiant_spark)||prev_gcd.1.nether_tempest\nactions.spark_phase+=/arcane_blast,if=cast_time>=gcd&execute_time<debuff.radiant_spark_vulnerability.remains&(!talent.arcane_bombardment||target.health.pct>=35)&(talent.nether_tempest&prev_gcd.6.radiant_spark||!talent.nether_tempest&prev_gcd.5.radiant_spark)\n### Waits are used to simulate players allowing radiant spark to increment in stacks\n## actions.spark_phase+=/wait,sec=0.05,if=(talent.nether_tempest&prev_gcd.6.radiant_spark)||(!talent.nether_tempest&prev_gcd.5.radiant_spark),line_cd=15\nactions.spark_phase+=/arcane_barrage,if=debuff.radiant_spark_vulnerability.stack=4\nactions.spark_phase+=/touch_of_the_magi,use_off_gcd=1,if=prev_gcd.1.arcane_barrage&(action.arcane_barrage.in_flight_remains<=0.2||gcd.remains<=0.2)\nactions.spark_phase+=/arcane_blast\nactions.spark_phase+=/arcane_barrage\n\n## actions.touch_phase+=/variable,name=conserve_mana,op=set,if=debuff.touch_of_the_magi.remains>9,value=1-variable.conserve_mana\nactions.touch_phase+=/presence_of_mind,if=debuff.touch_of_the_magi.remains<=gcd.max\nactions.touch_phase+=/arcane_blast,if=buff.presence_of_mind.up&buff.arcane_charge.stack=buff.arcane_charge.max_stack\nactions.touch_phase+=/arcane_barrage,if=(buff.arcane_harmony.up||(talent.arcane_bombardment&target.health.pct<35))&debuff.touch_of_the_magi.remains<=gcd.max\nactions.touch_phase+=/arcane_missiles,if=buff.clearcasting.stack>1&talent.conjure_mana_gem&cooldown.use_mana_gem.ready,chain=1\nactions.touch_phase+=/arcane_blast,if=buff.nether_precision.up\nactions.touch_phase+=/arcane_missiles,if=buff.clearcasting.react&(debuff.touch_of_the_magi.remains>execute_time||!talent.presence_of_mind),chain=1\nactions.touch_phase+=/arcane_blast\nactions.touch_phase+=/arcane_barrage",
				},
				["Arms"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230711,
					["spec"] = 71,
					["desc"] = "2023-07-11:  Update trinkets for 10.1.5.\n\n2023-05-20:  Update trinket/CDs.\n\n2023-05-08:  Use Arcane Torrent at pretty low priority in single-target.\n\n2023-05-02:  Update for 10.1.\n\n2023-03-26:  Include Spell Reflection.",
					["lists"] = {
						["single_target"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 1",
								["action"] = "sweeping_strikes",
							}, -- [1]
							{
								["action"] = "mortal_strike",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "remains <= gcd.max || talent.tide_of_blood.enabled & cooldown.skullsplitter.remains <= gcd.max & ( cooldown.colossus_smash.remains <= gcd.max || debuff.colossus_smash.up ) & dot.rend.remains < dot.rend.duration * 0.85",
								["action"] = "rend",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "talent.warlords_torment.enabled & rage.pct < 33 & ( cooldown.colossus_smash.ready || debuff.colossus_smash.up || buff.test_of_might.up ) || ! talent.warlords_torment.enabled & ( cooldown.colossus_smash.ready || debuff.colossus_smash.up )",
								["action"] = "avatar",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.colossus_smash.remains <= gcd.max || cooldown.warbreaker.remains <= gcd.max",
								["action"] = "spear_of_bastion",
							}, -- [5]
							{
								["action"] = "warbreaker",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "colossus_smash",
								["enabled"] = true,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.test_of_might.up || talent.test_of_might.enabled & debuff.colossus_smash.up & rage.pct < 33 || ! talent.test_of_might.enabled & debuff.colossus_smash.up",
								["action"] = "thunderous_roar",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.hurricane.enabled & ( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up ) || talent.unhinged.enabled & ( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up )",
								["action"] = "bladestorm",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "talent.tide_of_blood.enabled & dot.rend.remains & ( debuff.colossus_smash.up || cooldown.colossus_smash.remains > gcd.max * 4 & buff.test_of_might.up || ! talent.test_of_might.enabled & cooldown.colossus_smash.remains > gcd.max * 4 ) || rage < 30",
								["action"] = "skullsplitter",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.sudden_death.react",
								["action"] = "execute",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "talent.sonic_boom.enabled",
								["action"] = "shockwave",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "talent.anger_management.enabled || talent.test_of_might.enabled & debuff.colossus_smash.up",
								["action"] = "ignore_pain",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "talent.storm_of_swords.enabled & talent.battlelord.enabled & rage.pct > 80 & debuff.colossus_smash.up",
								["action"] = "whirlwind",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "charges = 2 & ! talent.battlelord.enabled & ( debuff.colossus_smash.down || rage.pct < 25 ) || talent.battlelord.enabled",
								["action"] = "overpower",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "talent.storm_of_swords.enabled || talent.fervor_of_battle.enabled & active_enemies > 1",
								["action"] = "whirlwind",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.battlelord.enabled & talent.blood_and_thunder.enabled",
								["action"] = "thunder_clap",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.down & rage.pct < 50 & ! talent.battlelord.enabled || rage.pct < 25",
								["action"] = "overpower",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.merciless_bonegrinder.up",
								["action"] = "whirlwind",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier29_2pc & ! talent.crushing_force.enabled",
								["action"] = "cleave",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "rage > 30 & ( ! talent.fervor_of_battle.enabled || talent.fervor_of_battle.enabled & active_enemies = 1 )",
								["action"] = "slam",
							}, -- [21]
							{
								["action"] = "bladestorm",
								["enabled"] = true,
							}, -- [22]
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							}, -- [23]
							{
								["action"] = "cleave",
								["enabled"] = true,
							}, -- [24]
							{
								["action"] = "wrecking_throw",
								["enabled"] = true,
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "remains < duration * 0.3",
								["action"] = "rend",
							}, -- [26]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "charge",
								["criteria"] = "time <= 0.5 || movement.distance > 8",
							}, -- [1]
							{
								["action"] = "pummel",
								["enabled"] = true,
							}, -- [2]
							{
								["action"] = "spell_reflection",
								["enabled"] = true,
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "gcd.remains = 0 & debuff.colossus_smash.remains > 8 || boss & fight_remains < 25",
								["action"] = "potion",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.avatar.remains < 3",
								["action"] = "algethar_puzzle_box",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "vial_of_animated_blood",
							}, -- [6]
							{
								["use_off_gcd"] = 1,
								["action"] = "elementium_pocket_anvil",
								["enabled"] = true,
							}, -- [7]
							{
								["use_off_gcd"] = 1,
								["action"] = "beacon_to_the_beyond",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "irideus_fragment",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "! buff.avatar.up & ! debuff.colossus_smash.up",
								["action"] = "manic_grieftorch",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "gcd.remains = 0 & debuff.colossus_smash.remains > 8 || boss & fight_remains < 25",
								["action"] = "gladiators_badge",
							}, -- [11]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.mortal_strike.remains > 1.5 & rage < 50",
								["action"] = "arcane_torrent",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.down & cooldown.mortal_strike.remains",
								["action"] = "lights_judgment",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.down & cooldown.mortal_strike.remains",
								["action"] = "bag_of_tricks",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.remains > 6",
								["action"] = "berserking",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.up",
								["action"] = "ancestral_call",
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.up",
								["action"] = "blood_fury",
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.up",
								["action"] = "ancestral_call",
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.exists || active_enemies > 2",
								["strict"] = 1,
								["action"] = "run_action_list",
								["list_name"] = "hac",
							}, -- [20]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["cycle_targets"] = 1,
								["strict"] = 1,
								["criteria"] = "( talent.massacre.enabled & target.health.pct < 35 ) || target.health.pct < 20",
								["list_name"] = "execute",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "! raid_event.adds.exists",
								["strict"] = 1,
								["action"] = "run_action_list",
								["list_name"] = "single_target",
							}, -- [22]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "battle_stance",
							}, -- [1]
							{
								["action"] = "battle_shout",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [3]
						},
						["execute"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 1",
								["action"] = "sweeping_strikes",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "remains <= gcd.max & ( ! talent.warbreaker.enabled & cooldown.colossus_smash.remains < 4 || talent.warbreaker.enabled & cooldown.warbreaker.remains < 4 ) & target.time_to_die > 12",
								["action"] = "rend",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.colossus_smash.ready || debuff.colossus_smash.up || boss & fight_remains < 20",
								["action"] = "avatar",
							}, -- [3]
							{
								["action"] = "warbreaker",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "colossus_smash",
								["enabled"] = true,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up",
								["action"] = "thunderous_roar",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "debuff.colossus_smash.up || buff.test_of_might.up",
								["action"] = "spear_of_bastion",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "rage < 40",
								["action"] = "skullsplitter",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.whirlwind > 2 & dot.deep_wounds.remains < gcd.max",
								["action"] = "cleave",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "rage < 40 & buff.martial_prowess.stack < 2",
								["action"] = "overpower",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "debuff.executioners_precision.stack = 2 || dot.deep_wounds.remains <= gcd.max",
								["action"] = "mortal_strike",
							}, -- [11]
							{
								["action"] = "execute",
								["enabled"] = true,
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "talent.sonic_boom.enabled",
								["action"] = "shockwave",
							}, -- [13]
							{
								["action"] = "overpower",
								["enabled"] = true,
							}, -- [14]
							{
								["action"] = "bladestorm",
								["enabled"] = true,
							}, -- [15]
						},
						["hac"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.juggernaut.up & buff.juggernaut.remains < gcd.max",
								["action"] = "execute",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 & talent.thunder_clap.enabled & talent.blood_and_thunder.enabled & talent.rend.enabled & dot.rend.remains <= dot.rend.duration * 0.3",
								["action"] = "thunder_clap",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies >= 2 & ( cooldown.bladestorm.remains > 15 || ! talent.bladestorm.enabled )",
								["action"] = "sweeping_strikes",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & remains <= gcd.max & ( target.health.pct > 20 || talent.massacre.enabled & target.health.pct > 35 ) || talent.tide_of_blood.enabled & cooldown.skullsplitter.remains <= gcd.max & ( cooldown.colossus_smash.remains <= gcd.max || debuff.colossus_smash.up ) & dot.rend.remains < dot.rend.duration * 0.85",
								["action"] = "rend",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15 || talent.blademasters_torment.enabled & active_enemies > 1 || target.time_to_die < 20",
								["action"] = "avatar",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 22 || active_enemies > 1",
								["action"] = "warbreaker",
							}, -- [6]
							{
								["enabled"] = true,
								["action"] = "colossus_smash",
								["criteria"] = "( target.health.pct < 20 || talent.massacre.enabled & target.health.pct < 35 )",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["action"] = "colossus_smash",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up ) & raid_event.adds.in > 15 || active_enemies > 1 & dot.deep_wounds.remains",
								["action"] = "thunderous_roar",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up ) & raid_event.adds.in > 15",
								["action"] = "spear_of_bastion",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "talent.unhinged.enabled & ( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up )",
								["action"] = "bladestorm",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1 & ( buff.test_of_might.up || ! talent.test_of_might.enabled & debuff.colossus_smash.up ) & raid_event.adds.in > 30 || active_enemies > 1 & dot.deep_wounds.remains",
								["action"] = "bladestorm",
							}, -- [12]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 || ! talent.battlelord.enabled & buff.merciless_bonegrinder.up & cooldown.mortal_strike.remains > gcd.max",
								["action"] = "cleave",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 || talent.storm_of_swords.enabled & ( buff.merciless_bonegrinder.up || buff.hurricane.up )",
								["action"] = "whirlwind",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "rage < 40 || talent.tide_of_blood.enabled & dot.rend.remains & ( buff.sweeping_strikes.up & active_enemies >= 2 || debuff.colossus_smash.up || buff.test_of_might.up )",
								["action"] = "skullsplitter",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_4pc",
								["action"] = "mortal_strike",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "buff.sweeping_strikes.up & talent.dreadnaught.enabled",
								["action"] = "overpower",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "mortal_strike",
								["criteria"] = "debuff.executioners_precision.stack = 2 || dot.deep_wounds.remains <= gcd.max || talent.dreadnaught.enabled & talent.battlelord.enabled & active_enemies <= 2",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["action"] = "execute",
								["criteria"] = "buff.sudden_death.react || active_enemies <= 2 & ( target.health.pct < 20 || talent.massacre.enabled & target.health.pct < 35 ) || buff.sweeping_strikes.up",
								["cycle_targets"] = 1,
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 15",
								["action"] = "thunderous_roar",
							}, -- [20]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 & talent.sonic_boom.enabled",
								["action"] = "shockwave",
							}, -- [21]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & ( charges = 2 & ! talent.battlelord.enabled & ( debuff.colossus_smash.down || rage.pct < 25 ) || talent.battlelord.enabled )",
								["action"] = "overpower",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & ! talent.battlelord.enabled & rage.pct > 70",
								["action"] = "slam",
							}, -- [23]
							{
								["enabled"] = true,
								["criteria"] = "charges = 2 & ( ! talent.test_of_might.enabled || talent.test_of_might.enabled & debuff.colossus_smash.down || talent.battlelord.enabled ) || rage < 70",
								["action"] = "overpower",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2",
								["action"] = "thunder_clap",
							}, -- [25]
							{
								["action"] = "mortal_strike",
								["enabled"] = true,
							}, -- [26]
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 & dot.rend.remains < duration * 0.3",
								["action"] = "rend",
							}, -- [27]
							{
								["enabled"] = true,
								["criteria"] = "talent.storm_of_swords.enabled || talent.fervor_of_battle.enabled & active_enemies > 1",
								["action"] = "whirlwind",
							}, -- [28]
							{
								["enabled"] = true,
								["criteria"] = "! talent.crushing_force.enabled",
								["action"] = "cleave",
							}, -- [29]
							{
								["enabled"] = true,
								["criteria"] = "talent.battlelord.enabled & talent.anger_management.enabled & rage > 30 & ( target.health.pct > 20 || talent.massacre.enabled & target.health.pct > 35 )",
								["action"] = "ignore_pain",
							}, -- [30]
							{
								["enabled"] = true,
								["criteria"] = "talent.crushing_force.enabled & rage > 30 & ( talent.fervor_of_battle.enabled & active_enemies = 1 || ! talent.fervor_of_battle.enabled )",
								["action"] = "slam",
							}, -- [31]
							{
								["enabled"] = true,
								["criteria"] = "talent.sonic_boom.enabled",
								["action"] = "shockwave",
							}, -- [32]
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in > 30",
								["action"] = "bladestorm",
							}, -- [33]
							{
								["action"] = "wrecking_throw",
								["enabled"] = true,
							}, -- [34]
						},
					},
					["version"] = 20230711,
					["warnings"] = "The import for 'single_target' required some automated changes.\nLine 3: Converted 'talent.tide_of_blood' to 'talent.tide_of_blood.enabled' (1x).\nLine 4: Converted 'talent.warlords_torment' to 'talent.warlords_torment.enabled' (1x).\nLine 4: Converted 'talent.warlords_torment' to 'talent.warlords_torment.enabled' (1x).\nLine 8: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 8: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 9: Converted 'talent.hurricane' to 'talent.hurricane.enabled' (1x).\nLine 9: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 9: Converted 'talent.unhinged' to 'talent.unhinged.enabled' (1x).\nLine 9: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 10: Converted 'talent.tide_of_blood' to 'talent.tide_of_blood.enabled' (1x).\nLine 10: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 13: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 13: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 14: Converted 'talent.storm_of_swords' to 'talent.storm_of_swords.enabled' (1x).\nLine 14: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 15: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 15: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 16: Converted 'talent.storm_of_swords' to 'talent.storm_of_swords.enabled' (1x).\nLine 16: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 17: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 17: Converted 'talent.blood_and_thunder' to 'talent.blood_and_thunder.enabled' (1x).\nLine 18: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 20: Converted 'talent.crushing_force' to 'talent.crushing_force.enabled' (1x).\nLine 21: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 21: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\n\nThe import for 'execute' required some automated changes.\nLine 2: Converted 'talent.warbreaker' to 'talent.warbreaker.enabled' (1x).\nLine 2: Converted 'talent.warbreaker' to 'talent.warbreaker.enabled' (1x).\nLine 6: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 13: Converted 'talent.sonic_boom' to 'talent.sonic_boom.enabled' (1x).\n\nThe import for 'hac' required some automated changes.\nLine 2: Converted 'talent.thunder_clap' to 'talent.thunder_clap.enabled' (1x).\nLine 2: Converted 'talent.blood_and_thunder' to 'talent.blood_and_thunder.enabled' (1x).\nLine 2: Converted 'talent.rend' to 'talent.rend.enabled' (1x).\nLine 3: Converted 'talent.bladestorm' to 'talent.bladestorm.enabled' (1x).\nLine 4: Converted 'talent.massacre' to 'talent.massacre.enabled' (1x).\nLine 4: Converted 'talent.tide_of_blood' to 'talent.tide_of_blood.enabled' (1x).\nLine 5: Converted 'talent.blademasters_torment' to 'talent.blademasters_torment.enabled' (1x).\nLine 7: Converted 'talent.massacre' to 'talent.massacre.enabled' (1x).\nLine 9: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 10: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 11: Converted 'talent.unhinged' to 'talent.unhinged.enabled' (1x).\nLine 11: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 12: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 13: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 14: Converted 'talent.storm_of_swords' to 'talent.storm_of_swords.enabled' (1x).\nLine 15: Converted 'talent.tide_of_blood' to 'talent.tide_of_blood.enabled' (1x).\nLine 17: Converted 'talent.dreadnaught' to 'talent.dreadnaught.enabled' (1x).\nLine 18: Converted 'talent.dreadnaught' to 'talent.dreadnaught.enabled' (1x).\nLine 18: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 19: Converted 'talent.massacre' to 'talent.massacre.enabled' (1x).\nLine 21: Converted 'talent.sonic_boom' to 'talent.sonic_boom.enabled' (1x).\nLine 22: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 22: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 23: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 24: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 24: Converted 'talent.test_of_might' to 'talent.test_of_might.enabled' (1x).\nLine 24: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 28: Converted 'talent.storm_of_swords' to 'talent.storm_of_swords.enabled' (1x).\nLine 28: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 29: Converted 'talent.crushing_force' to 'talent.crushing_force.enabled' (1x).\nLine 30: Converted 'talent.battlelord' to 'talent.battlelord.enabled' (1x).\nLine 30: Converted 'talent.anger_management' to 'talent.anger_management.enabled' (1x).\nLine 30: Converted 'talent.massacre' to 'talent.massacre.enabled' (1x).\nLine 31: Converted 'talent.crushing_force' to 'talent.crushing_force.enabled' (1x).\nLine 31: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 31: Converted 'talent.fervor_of_battle' to 'talent.fervor_of_battle.enabled' (1x).\nLine 32: Converted 'talent.sonic_boom' to 'talent.sonic_boom.enabled' (1x).\n\nImported 5 action lists.\n",
					["author"] = "SimulationCraft",
					["profile"] = "actions.precombat+=/battle_stance\nactions.precombat+=/battle_shout\nactions.precombat+=/use_item,name=algethar_puzzle_box\n\nactions+=/charge,if=time<=0.5||movement.distance>8\nactions+=/pummel\nactions+=/spell_reflection\nactions+=/potion,if=gcd.remains=0&debuff.colossus_smash.remains>8||boss&fight_remains<25\nactions+=/algethar_puzzle_box,if=cooldown.avatar.remains<3\nactions+=/vial_of_animated_blood,if=buff.avatar.up\nactions+=/elementium_pocket_anvil,use_off_gcd=1\nactions+=/beacon_to_the_beyond,use_off_gcd=1\nactions+=/irideus_fragment,if=buff.avatar.up\nactions+=/manic_grieftorch,if=!buff.avatar.up&!debuff.colossus_smash.up\nactions+=/gladiators_badge,if=gcd.remains=0&debuff.colossus_smash.remains>8||boss&fight_remains<25\nactions+=/use_items\nactions+=/arcane_torrent,if=cooldown.mortal_strike.remains>1.5&rage<50\nactions+=/lights_judgment,if=debuff.colossus_smash.down&cooldown.mortal_strike.remains\nactions+=/bag_of_tricks,if=debuff.colossus_smash.down&cooldown.mortal_strike.remains\nactions+=/berserking,if=debuff.colossus_smash.remains>6\nactions+=/ancestral_call,if=debuff.colossus_smash.up\nactions+=/blood_fury,if=debuff.colossus_smash.up\nactions+=/ancestral_call,if=debuff.colossus_smash.up\nactions+=/run_action_list,name=hac,strict=1,if=raid_event.adds.exists||active_enemies>2\nactions+=/call_action_list,name=execute,cycle_targets=1,strict=1,if=(talent.massacre.enabled&target.health.pct<35)||target.health.pct<20\nactions+=/run_action_list,name=single_target,strict=1,if=!raid_event.adds.exists\n\nactions.execute+=/sweeping_strikes,if=spell_targets.whirlwind>1\nactions.execute+=/rend,if=remains<=gcd&(!talent.warbreaker&cooldown.colossus_smash.remains<4||talent.warbreaker&cooldown.warbreaker.remains<4)&target.time_to_die>12\nactions.execute+=/avatar,if=cooldown.colossus_smash.ready||debuff.colossus_smash.up||boss&fight_remains<20\nactions.execute+=/warbreaker\nactions.execute+=/colossus_smash\nactions.execute+=/thunderous_roar,if=buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up\nactions.execute+=/spear_of_bastion,if=debuff.colossus_smash.up||buff.test_of_might.up\nactions.execute+=/skullsplitter,if=rage<40\nactions.execute+=/cleave,if=spell_targets.whirlwind>2&dot.deep_wounds.remains<gcd\nactions.execute+=/overpower,if=rage<40&buff.martial_prowess.stack<2\nactions.execute+=/mortal_strike,if=debuff.executioners_precision.stack=2||dot.deep_wounds.remains<=gcd\nactions.execute+=/execute\nactions.execute+=/shockwave,if=talent.sonic_boom\nactions.execute+=/overpower\nactions.execute+=/bladestorm\n\nactions.hac+=/execute,if=buff.juggernaut.up&buff.juggernaut.remains<gcd\nactions.hac+=/thunder_clap,if=active_enemies>2&talent.thunder_clap&talent.blood_and_thunder&talent.rend&dot.rend.remains<=dot.rend.duration*0.3\nactions.hac+=/sweeping_strikes,if=active_enemies>=2&(cooldown.bladestorm.remains>15||!talent.bladestorm)\nactions.hac+=/rend,if=active_enemies=1&remains<=gcd&(target.health.pct>20||talent.massacre&target.health.pct>35)||talent.tide_of_blood&cooldown.skullsplitter.remains<=gcd&(cooldown.colossus_smash.remains<=gcd||debuff.colossus_smash.up)&dot.rend.remains<dot.rend.duration*0.85\nactions.hac+=/avatar,if=raid_event.adds.in>15||talent.blademasters_torment&active_enemies>1||target.time_to_die<20\nactions.hac+=/warbreaker,if=raid_event.adds.in>22||active_enemies>1\nactions.hac+=/colossus_smash,cycle_targets=1,if=(target.health.pct<20||talent.massacre&target.health.pct<35)\nactions.hac+=/colossus_smash\nactions.hac+=/thunderous_roar,if=(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)&raid_event.adds.in>15||active_enemies>1&dot.deep_wounds.remains\nactions.hac+=/spear_of_bastion,if=(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)&raid_event.adds.in>15\nactions.hac+=/bladestorm,if=talent.unhinged&(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)\nactions.hac+=/bladestorm,if=active_enemies>1&(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)&raid_event.adds.in>30||active_enemies>1&dot.deep_wounds.remains\nactions.hac+=/cleave,if=active_enemies>2||!talent.battlelord&buff.merciless_bonegrinder.up&cooldown.mortal_strike.remains>gcd\nactions.hac+=/whirlwind,if=active_enemies>2||talent.storm_of_swords&(buff.merciless_bonegrinder.up||buff.hurricane.up)\nactions.hac+=/skullsplitter,if=rage<40||talent.tide_of_blood&dot.rend.remains&(buff.sweeping_strikes.up&active_enemies>=2||debuff.colossus_smash.up||buff.test_of_might.up)\nactions.hac+=/mortal_strike,if=buff.sweeping_strikes.up&buff.crushing_advance.stack=3,if=set_bonus.tier30_4pc\nactions.hac+=/overpower,if=buff.sweeping_strikes.up&talent.dreadnaught\nactions.hac+=/mortal_strike,cycle_targets=1,if=debuff.executioners_precision.stack=2||dot.deep_wounds.remains<=gcd||talent.dreadnaught&talent.battlelord&active_enemies<=2\nactions.hac+=/execute,cycle_targets=1,if=buff.sudden_death.react||active_enemies<=2&(target.health.pct<20||talent.massacre&target.health.pct<35)||buff.sweeping_strikes.up\nactions.hac+=/thunderous_roar,if=raid_event.adds.in>15\nactions.hac+=/shockwave,if=active_enemies>2&talent.sonic_boom\nactions.hac+=/overpower,if=active_enemies=1&(charges=2&!talent.battlelord&(debuff.colossus_smash.down||rage.pct<25)||talent.battlelord)\nactions.hac+=/slam,if=active_enemies=1&!talent.battlelord&rage.pct>70\nactions.hac+=/overpower,if=charges=2&(!talent.test_of_might||talent.test_of_might&debuff.colossus_smash.down||talent.battlelord)||rage<70\nactions.hac+=/thunder_clap,if=active_enemies>2\nactions.hac+=/mortal_strike\nactions.hac+=/rend,if=active_enemies=1&dot.rend.remains<duration*0.3\nactions.hac+=/whirlwind,if=talent.storm_of_swords||talent.fervor_of_battle&active_enemies>1\nactions.hac+=/cleave,if=!talent.crushing_force\nactions.hac+=/ignore_pain,if=talent.battlelord&talent.anger_management&rage>30&(target.health.pct>20||talent.massacre&target.health.pct>35)\nactions.hac+=/slam,if=talent.crushing_force&rage>30&(talent.fervor_of_battle&active_enemies=1||!talent.fervor_of_battle)\nactions.hac+=/shockwave,if=talent.sonic_boom\nactions.hac+=/bladestorm,if=raid_event.adds.in>30\nactions.hac+=/wrecking_throw\n\nactions.single_target+=/sweeping_strikes,if=spell_targets.whirlwind>1\nactions.single_target+=/mortal_strike\nactions.single_target+=/rend,if=remains<=gcd||talent.tide_of_blood&cooldown.skullsplitter.remains<=gcd&(cooldown.colossus_smash.remains<=gcd||debuff.colossus_smash.up)&dot.rend.remains<dot.rend.duration*0.85\nactions.single_target+=/avatar,if=talent.warlords_torment&rage.pct<33&(cooldown.colossus_smash.ready||debuff.colossus_smash.up||buff.test_of_might.up)||!talent.warlords_torment&(cooldown.colossus_smash.ready||debuff.colossus_smash.up)\nactions.single_target+=/spear_of_bastion,if=cooldown.colossus_smash.remains<=gcd||cooldown.warbreaker.remains<=gcd\nactions.single_target+=/warbreaker\nactions.single_target+=/colossus_smash\nactions.single_target+=/thunderous_roar,if=buff.test_of_might.up||talent.test_of_might&debuff.colossus_smash.up&rage.pct<33||!talent.test_of_might&debuff.colossus_smash.up\nactions.single_target+=/bladestorm,if=talent.hurricane&(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)||talent.unhinged&(buff.test_of_might.up||!talent.test_of_might&debuff.colossus_smash.up)\nactions.single_target+=/skullsplitter,if=talent.tide_of_blood&dot.rend.remains&(debuff.colossus_smash.up||cooldown.colossus_smash.remains>gcd*4&buff.test_of_might.up||!talent.test_of_might&cooldown.colossus_smash.remains>gcd*4)||rage<30\nactions.single_target+=/execute,if=buff.sudden_death.react\nactions.single_target+=/shockwave,if=talent.sonic_boom.enabled\nactions.single_target+=/ignore_pain,if=talent.anger_management||talent.test_of_might&debuff.colossus_smash.up\nactions.single_target+=/whirlwind,if=talent.storm_of_swords&talent.battlelord&rage.pct>80&debuff.colossus_smash.up\nactions.single_target+=/overpower,if=charges=2&!talent.battlelord&(debuff.colossus_smash.down||rage.pct<25)||talent.battlelord\nactions.single_target+=/whirlwind,if=talent.storm_of_swords||talent.fervor_of_battle&active_enemies>1\nactions.single_target+=/thunder_clap,if=talent.battlelord&talent.blood_and_thunder\nactions.single_target+=/overpower,if=debuff.colossus_smash.down&rage.pct<50&!talent.battlelord||rage.pct<25\nactions.single_target+=/whirlwind,if=buff.merciless_bonegrinder.up\nactions.single_target+=/cleave,if=set_bonus.tier29_2pc&!talent.crushing_force\nactions.single_target+=/slam,if=rage>30&(!talent.fervor_of_battle||talent.fervor_of_battle&active_enemies=1)\nactions.single_target+=/bladestorm\nactions.single_target+=/arcane_torrent\nactions.single_target+=/cleave\nactions.single_target+=/wrecking_throw\nactions.single_target+=/rend,if=remains<duration*0.3",
				},
				["Protection Warrior"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20230528,
					["spec"] = 73,
					["desc"] = "2023-05-28:  Update to Shield Slam usage in AOE.\n\n2023-05-20:  Shield Wall minor update.\n\n2023-05-08:  Add additional Execute in single-target if Rage is 50+ (still impacted by Reserve Rage for Mitigation option).\n\n2023-04-30:  2nd minor update.\n\n2023-04-26:  Minor update from SimulationCraft for 10.1.\n\n2023-03-26:  Shift Shield Charge and Charge above Pummel and Spell Reflection.",
					["lists"] = {
						["aoe"] = {
							{
								["enabled"] = true,
								["criteria"] = "dot.rend.remains <= 1 & talent.blood_and_thunder.enabled & talent.rend.enabled",
								["action"] = "thunder_clap",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "( set_bonus.tier30_2pc || set_bonus.tier30_4pc ) & spell_targets.thunder_clap <= 7 || buff.earthen_tenacity.up",
								["action"] = "shield_slam",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.violent_outburst.up & spell_targets.thunderclap > 5 & buff.avatar.up & talent.unstoppable_force.enabled",
								["action"] = "thunder_clap",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "rage >= 70 & talent.seismic_reverberation.enabled & spell_targets.revenge >= 3",
								["action"] = "revenge",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "rage <= 60 || buff.violent_outburst.up & spell_targets.thunderclap <= 7",
								["action"] = "shield_slam",
							}, -- [5]
							{
								["action"] = "thunder_clap",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "rage >= 30 || rage >= 40 & talent.barbaric_training.enabled",
								["action"] = "revenge",
							}, -- [7]
						},
						["generic"] = {
							{
								["action"] = "shield_slam",
								["enabled"] = true,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "dot.rend.remains <= 1 & buff.violent_outburst.down",
								["action"] = "thunder_clap",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.sudden_death.up & talent.sudden_death.enabled",
								["action"] = "execute",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.revenge = 1 & rage >= 50",
								["action"] = "execute",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( spell_targets.thunder_clap > 1 || cooldown.shield_slam.remains & ! buff.violent_outburst.up )",
								["action"] = "thunder_clap",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "( rage >= 60 & target.health.pct > 20 || buff.revenge.up & target.health.pct <= 20 & rage <= 18 & cooldown.shield_slam.remains || buff.revenge.up & target.health.pct > 20 ) || ( rage >= 60 & target.health.pct > 35 || buff.revenge.up & target.health.pct <= 35 & rage <= 18 & cooldown.shield_slam.remains || buff.revenge.up & target.health.pct > 35 ) & talent.massacre.enabled",
								["action"] = "revenge",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.revenge = 1",
								["action"] = "execute",
							}, -- [7]
							{
								["action"] = "revenge",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "( spell_targets.thunder_clap >= 1 || cooldown.shield_slam.remains & buff.violent_outburst.up )",
								["action"] = "thunder_clap",
							}, -- [9]
							{
								["action"] = "devastate",
								["enabled"] = true,
							}, -- [10]
						},
						["default"] = {
							{
								["enabled"] = true,
								["criteria"] = "time = 0",
								["action"] = "shield_charge",
								["description"] = "Executed every time the actor is available.",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "time = 0",
								["action"] = "charge",
							}, -- [2]
							{
								["action"] = "pummel",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "spell_reflection",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "avatar",
								["enabled"] = true,
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "talent.immovable_object.enabled & buff.avatar.down",
								["action"] = "shield_wall",
								["description"] = "Usage of Shield Wall is governed by specialization settings, see /hekili > Protection.",
							}, -- [7]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [8]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [9]
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							}, -- [10]
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							}, -- [11]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [12]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [13]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.avatar.up",
								["action"] = "potion",
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "target.health.pct >= 20 & ( rage.deficit <= 15 & cooldown.shield_slam.ready || rage.deficit <= 40 & cooldown.shield_charge.ready & talent.champions_bulwark.enabled || rage.deficit <= 20 & cooldown.shield_charge.ready || rage.deficit <= 30 & cooldown.demoralizing_shout.ready & talent.booming_voice.enabled || rage.deficit <= 20 & cooldown.avatar.ready || rage.deficit <= 45 & cooldown.demoralizing_shout.ready & talent.booming_voice.enabled & buff.last_stand.up & talent.unnerving_focus.enabled || rage.deficit <= 30 & cooldown.avatar.ready & buff.last_stand.up & talent.unnerving_focus.enabled || rage.deficit <= 20 || rage.deficit <= 40 & cooldown.shield_slam.ready & buff.violent_outburst.up & talent.heavy_repercussions.enabled & talent.impenetrable_wall.enabled || rage.deficit <= 55 & cooldown.shield_slam.ready & buff.violent_outburst.up & buff.last_stand.up & talent.unnerving_focus.enabled & talent.heavy_repercussions.enabled & talent.impenetrable_wall.enabled || rage.deficit <= 17 & cooldown.shield_slam.ready & talent.heavy_repercussions.enabled || rage.deficit <= 18 & cooldown.shield_slam.ready & talent.impenetrable_wall.enabled )",
								["action"] = "ignore_pain",
								["use_off_gcd"] = 1,
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "talent.unnerving_focus.enabled & ( target.health.pct >= 90 || target.health.pct <= 20 ) || talent.bolster.enabled & buff.shield_block.down || ! talent.bolster.enabled & ! talent.unnerving_focus.enabled || set_bonus.tier30_2pc > 0",
								["action"] = "last_stand",
								["description"] = "Usage of Last Stand is also governed by specialization settings, see /hekili > Protection.",
							}, -- [17]
							{
								["enabled"] = true,
								["description"] = "Usage of Rallying Cry is governed by specialization settings, see /hekili > Protection.",
								["action"] = "rallying_cry",
							}, -- [18]
							{
								["action"] = "ravager",
								["enabled"] = true,
							}, -- [19]
							{
								["enabled"] = true,
								["criteria"] = "talent.booming_voice.enabled",
								["action"] = "demoralizing_shout",
							}, -- [20]
							{
								["action"] = "spear_of_bastion",
								["enabled"] = true,
							}, -- [21]
							{
								["action"] = "thunderous_roar",
								["enabled"] = true,
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "talent.sonic_boom.enabled & buff.avatar.up & talent.unstoppable_force.enabled & ! talent.rumbling_earth.enabled",
								["action"] = "shockwave",
							}, -- [23]
							{
								["action"] = "shield_charge",
								["enabled"] = true,
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "buff.shield_block.duration <= 18 & talent.enduring_defenses.enabled || buff.shield_block.duration <= 12",
								["action"] = "shield_block",
							}, -- [25]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.thunder_clap >= 3",
								["strict"] = 1,
								["action"] = "run_action_list",
								["list_name"] = "aoe",
							}, -- [26]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "generic",
							}, -- [27]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "defensive_stance",
								["criteria"] = "buff.stance.down",
							}, -- [1]
							{
								["action"] = "battle_shout",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! talent.titans_torment.enabled",
								["action"] = "avatar",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! talent.reckless_abandon.enabled",
								["action"] = "recklessness",
							}, -- [5]
						},
					},
					["version"] = 20230528,
					["warnings"] = "The import for 'aoe' required some automated changes.\nLine 1: Converted 'talent.blood_and_thunder' to 'talent.blood_and_thunder.enabled' (1x).\nLine 1: Converted 'talent.rend' to 'talent.rend.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 17: Converted 'talent.unnerving_focus' to 'talent.unnerving_focus.enabled' (1x).\nLine 17: Converted 'talent.bolster' to 'talent.bolster.enabled' (1x).\nLine 17: Converted 'talent.bolster' to 'talent.bolster.enabled' (1x).\nLine 17: Converted 'talent.unnerving_focus' to 'talent.unnerving_focus.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 4: Converted 'talent.titans_torment' to 'talent.titans_torment.enabled' (1x).\nLine 5: Converted 'talent.reckless_abandon' to 'talent.reckless_abandon.enabled' (1x).\n\nImported 4 action lists.\n",
					["author"] = "SimulationCraft",
					["profile"] = "actions.precombat+=/defensive_stance,if=buff.stance.down\nactions.precombat+=/battle_shout\nactions.precombat+=/use_item,name=algethar_puzzle_box\nactions.precombat+=/avatar,if=!talent.titans_torment\nactions.precombat+=/recklessness,if=!talent.reckless_abandon\n\n# Executed every time the actor is available.\nactions+=/shield_charge,if=time=0\nactions+=/charge,if=time=0\nactions+=/pummel\nactions+=/spell_reflection\nactions+=/use_items\nactions+=/avatar\n# Usage of Shield Wall is governed by specialization settings; see /hekili > Protection.\nactions+=/shield_wall,if=talent.immovable_object.enabled&buff.avatar.down\nactions+=/blood_fury\nactions+=/berserking\nactions+=/arcane_torrent\nactions+=/lights_judgment\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/potion,if=buff.avatar.up\nactions+=/ignore_pain,if=target.health.pct>=20&(rage.deficit<=15&cooldown.shield_slam.ready||rage.deficit<=40&cooldown.shield_charge.ready&talent.champions_bulwark.enabled||rage.deficit<=20&cooldown.shield_charge.ready||rage.deficit<=30&cooldown.demoralizing_shout.ready&talent.booming_voice.enabled||rage.deficit<=20&cooldown.avatar.ready||rage.deficit<=45&cooldown.demoralizing_shout.ready&talent.booming_voice.enabled&buff.last_stand.up&talent.unnerving_focus.enabled||rage.deficit<=30&cooldown.avatar.ready&buff.last_stand.up&talent.unnerving_focus.enabled||rage.deficit<=20||rage.deficit<=40&cooldown.shield_slam.ready&buff.violent_outburst.up&talent.heavy_repercussions.enabled&talent.impenetrable_wall.enabled||rage.deficit<=55&cooldown.shield_slam.ready&buff.violent_outburst.up&buff.last_stand.up&talent.unnerving_focus.enabled&talent.heavy_repercussions.enabled&talent.impenetrable_wall.enabled||rage.deficit<=17&cooldown.shield_slam.ready&talent.heavy_repercussions.enabled||rage.deficit<=18&cooldown.shield_slam.ready&talent.impenetrable_wall.enabled),use_off_gcd=1\n# Usage of Last Stand is also governed by specialization settings; see /hekili > Protection.\nactions+=/last_stand,if=talent.unnerving_focus&(target.health.pct>=90||target.health.pct<=20)||talent.bolster&buff.shield_block.down||!talent.bolster&!talent.unnerving_focus||set_bonus.tier30_2pc>0\n# Usage of Rallying Cry is governed by specialization settings; see /hekili > Protection.\nactions+=/rallying_cry\nactions+=/ravager\nactions+=/demoralizing_shout,if=talent.booming_voice.enabled\nactions+=/spear_of_bastion\nactions+=/thunderous_roar\nactions+=/shockwave,if=talent.sonic_boom.enabled&buff.avatar.up&talent.unstoppable_force.enabled&!talent.rumbling_earth.enabled\nactions+=/shield_charge\nactions+=/shield_block,if=buff.shield_block.duration<=18&talent.enduring_defenses.enabled||buff.shield_block.duration<=12\nactions+=/run_action_list,name=aoe,strict=1,if=spell_targets.thunder_clap>=3\nactions+=/call_action_list,name=generic\n\nactions.aoe+=/thunder_clap,if=dot.rend.remains<=1&talent.blood_and_thunder&talent.rend\nactions.aoe+=/shield_slam,if=(set_bonus.tier30_2pc||set_bonus.tier30_4pc)&spell_targets.thunder_clap<=7||buff.earthen_tenacity.up\nactions.aoe+=/thunder_clap,if=buff.violent_outburst.up&spell_targets.thunderclap>5&buff.avatar.up&talent.unstoppable_force.enabled\nactions.aoe+=/revenge,if=rage>=70&talent.seismic_reverberation.enabled&spell_targets.revenge>=3\nactions.aoe+=/shield_slam,if=rage<=60||buff.violent_outburst.up&spell_targets.thunderclap<=7\nactions.aoe+=/thunder_clap\nactions.aoe+=/revenge,if=rage>=30||rage>=40&talent.barbaric_training.enabled\n\nactions.generic=shield_slam\nactions.generic+=/thunder_clap,if=dot.rend.remains<=1&buff.violent_outburst.down\nactions.generic+=/execute,if=buff.sudden_death.up&talent.sudden_death.enabled\nactions.generic+=/execute,if=spell_targets.revenge=1&rage>=50\nactions.generic+=/thunder_clap,if=(spell_targets.thunder_clap>1||cooldown.shield_slam.remains&!buff.violent_outburst.up)\nactions.generic+=/revenge,if=(rage>=60&target.health.pct>20||buff.revenge.up&target.health.pct<=20&rage<=18&cooldown.shield_slam.remains||buff.revenge.up&target.health.pct>20)||(rage>=60&target.health.pct>35||buff.revenge.up&target.health.pct<=35&rage<=18&cooldown.shield_slam.remains||buff.revenge.up&target.health.pct>35)&talent.massacre.enabled\nactions.generic+=/execute,if=spell_targets.revenge=1\nactions.generic+=/revenge\nactions.generic+=/thunder_clap,if=(spell_targets.thunder_clap>=1||cooldown.shield_slam.remains&buff.violent_outburst.up)\nactions.generic+=/devastate",
				},
				["Restoration Shaman"] = {
					["builtIn"] = true,
					["date"] = 20230321.1,
					["spec"] = 264,
					["desc"] = "2023-03-21:  Add Healing Rain (Acid Rain) and Stormkeeper to DPS priority.",
					["lists"] = {
						["default"] = {
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "spiritwalkers_grace",
								["enabled"] = true,
								["criteria"] = "movement.distance > 6",
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "Interrupt of casts.",
								["action"] = "wind_shear",
							}, -- [2]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [3]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "berserking",
								["enabled"] = true,
							}, -- [6]
							{
								["action"] = "fireblood",
								["enabled"] = true,
							}, -- [7]
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							}, -- [8]
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "! moving & talent.acid_rain.enabled",
								["action"] = "healing_rain",
							}, -- [10]
							{
								["action"] = "stormkeeper",
								["enabled"] = true,
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["criteria"] = "active_enemies < 3 & refreshable",
								["cycle_targets"] = 1,
							}, -- [12]
							{
								["action"] = "primordial_wave",
								["enabled"] = true,
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( active_enemies = 1 || active_enemies = 2 & buff.lava_surge.up ) & dot.flame_shock.remains > cast_time & cooldown_react",
								["action"] = "lava_burst",
							}, -- [14]
							{
								["action"] = "earth_elemental",
								["enabled"] = true,
							}, -- [15]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.chain_lightning < 2 || ! talent.chain_lightning.enabled",
								["action"] = "lightning_bolt",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.chain_lightning > 1",
								["action"] = "chain_lightning",
							}, -- [17]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["enabled"] = true,
							}, -- [18]
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "frost_shock",
								["enabled"] = true,
							}, -- [19]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "earthliving_weapon",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank",
								["action"] = "water_shield",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank",
								["action"] = "lightning_shield",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank",
								["action"] = "earth_shield",
							}, -- [4]
							{
								["action"] = "earth_elemental",
								["enabled"] = true,
							}, -- [5]
							{
								["action"] = "potion",
								["enabled"] = true,
							}, -- [6]
						},
					},
					["version"] = 20230321.1,
					["warnings"] = "The import for 'default' required some automated changes.\nLine 10: Converted 'talent.acid_rain' to 'talent.acid_rain.enabled' (1x).\nLine 16: Converted 'talent.chain_lightning' to 'talent.chain_lightning.enabled' (1x).\n\nImported 2 action lists.\n",
					["author"] = "Hekili",
					["profile"] = "actions.precombat+=/earthliving_weapon\nactions.precombat+=/water_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank\nactions.precombat+=/lightning_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank\nactions.precombat+=/earth_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank\nactions.precombat+=/earth_elemental\nactions.precombat+=/potion\n\nactions+=/spiritwalkers_grace,moving=1,if=movement.distance>6\n# Interrupt of casts.\nactions+=/wind_shear\nactions+=/potion\nactions+=/use_items\nactions+=/blood_fury\nactions+=/berserking\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/healing_rain,if=!moving&talent.acid_rain\nactions+=/stormkeeper\nactions+=/flame_shock,cycle_targets=1,if=active_enemies<3&refreshable\nactions+=/primordial_wave\nactions+=/lava_burst,if=(active_enemies=1||active_enemies=2&buff.lava_surge.up)&dot.flame_shock.remains>cast_time&cooldown_react\nactions+=/earth_elemental\nactions+=/lightning_bolt,if=spell_targets.chain_lightning<2||!talent.chain_lightning\nactions+=/chain_lightning,if=spell_targets.chain_lightning>1\nactions+=/flame_shock,moving=1\nactions+=/frost_shock,moving=1",
				},
				["Feral"] = {
					["builtIn"] = true,
					["date"] = 20230826,
					["spec"] = 103,
					["desc"] = "2023-08-26: Minor priority updates.\n\n2023-07-19:  Convert SimC variables into spec options (Lazy Swipe, Regrowth, etc.).\n\n2023-07-15:  Tweak Incarnation Prowl usage.\n\n2023-05-25:  Update priority to use Rip Duration and Ferocious Bite funnel settings.\n\n2023-05-20:  Tweak 'wait' entry for passive Combo Point generation.\n\n2023-05-15:  Combo Points can increase over time during Berserk.\n\n2023-05-14:  Make Heart of the Wild annoy me less.\n\n2023-05-11:  Minor updates to finisher and cooldown usage.\n\n2023-05-08:  Incremental updates from SimC.\n\n2023-05-06:  Minor updates.\n\n2023-05-03:  Restore missing aoe_builder action list.\n\n2023-05-03:  Update again from SimC.\n\n2023-03-27:  Test updates from SimC.\n\n2023-02-27:  Adjust funneling to use PW if there are multiple un-Ripped targets.\n\n2023-02-25:  Testing a funnel option (spend CP on Ferocious Bite instead of Primal Wrath if Rip won't fall off).\n\n2023-02-21:  Adjusted Berserk logic to prevent freezing/errors.\n\n2023-02-15:  Priority will use finishers at 4+ Combo Points when Lion's Strength is talented, consistent with latest SimulationCraft updates.",
					["lists"] = {
						["aoe_builder"] = {
							{
								["enabled"] = true,
								["action"] = "brutal_slash",
								["cycle_targets"] = 1,
								["description"] = "avoid capping brs charges, and in the event of adds, offload charges within reason",
								["criteria"] = "cooldown.brutal_slash.full_recharge_time < 4 || target.time_to_die < 5",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ( buff.clearcasting.react || ( spell_targets.thrash_cat > 10 || ( spell_targets.thrash_cat > 5 & ! talent.double_clawed_rake.enabled ) ) & ! talent.thrashing_claws.enabled )",
								["action"] = "thrash_cat",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.prowl.up & ! buff.apex_predators_craving.up",
								["action"] = "shadowmeld",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & dot.rake.pmultiplier < 1.4 & ! buff.prowl.up & ! buff.apex_predators_craving.up",
								["action"] = "shadowmeld",
								["description"] = "this line checks if theres an upgradeable rake",
							}, -- [4]
							{
								["enabled"] = true,
								["action"] = "rake",
								["cycle_targets"] = 1,
								["description"] = "not a perfect solution, but it checks lowest dot for pandemic/stealth snapshot first",
								["criteria"] = "buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier",
							}, -- [5]
							{
								["enabled"] = true,
								["action"] = "rake",
								["cycle_targets"] = 1,
								["description"] = "and if lowest dot is fine, it checks the remaining dots and targets a mob without stealth snapshot (not necessarily 2nd lowest)",
								["criteria"] = "buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier || refreshable",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "thrash_cat",
							}, -- [7]
							{
								["action"] = "brutal_slash",
								["enabled"] = true,
							}, -- [8]
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["cycle_targets"] = 1,
								["description"] = "prio targets with swarm debuff for moonfire",
								["criteria"] = "refreshable & spell_targets.swipe_cat < 5",
							}, -- [9]
							{
								["action"] = "swipe_cat",
								["enabled"] = true,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "dot.moonfire.refreshable",
								["action"] = "lunar_inspiration",
								["cycle_targets"] = 1,
							}, -- [11]
							{
								["enabled"] = true,
								["action"] = "shred",
								["cycle_targets"] = 1,
								["description"] = "if we have brs and nothing better to cast, refresh thrash early at 4+ targets unless dire fixation is talented",
								["criteria"] = "( spell_targets.swipe_cat < 4 || talent.dire_fixation.enabled ) & ! buff.sudden_ambush.up & ! ( variable.lazy_swipe & talent.wild_slashes.enabled )",
							}, -- [12]
							{
								["action"] = "thrash_cat",
								["enabled"] = true,
							}, -- [13]
						},
						["finisher"] = {
							{
								["enabled"] = true,
								["criteria"] = "( ! funneling & ( dot.primal_wrath.refreshable & ! talent.circle_of_life_and_death.enabled ) || dot.primal_wrath.remains < 6 || ( talent.tear_open_wounds.enabled || ( spell_targets.swipe_cat > 4 & ! talent.rampant_ferocity.enabled ) ) ) & spell_targets.primal_wrath > 1 & talent.primal_wrath.enabled",
								["action"] = "primal_wrath",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ( ! talent.primal_wrath.enabled || spell_targets.swipe_cat = 1 ) & target.time_to_die > settings.rip_duration",
								["action"] = "rip",
								["cycle_targets"] = 1,
							}, -- [2]
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
								["criteria"] = "! action.tigers_fury.ready & buff.apex_predators_craving.down",
							}, -- [3]
							{
								["max_energy"] = 1,
								["action"] = "ferocious_bite",
								["cycle_targets"] = 1,
								["enabled"] = true,
								["criteria"] = "buff.apex_predators_craving.down & ( ! buff.bs_inc.up || ( buff.bs_inc.up & ! talent.soul_of_the_forest.enabled ) )",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "( buff.bs_inc.up & talent.soul_of_the_forest.enabled ) || buff.apex_predators_craving.up",
								["action"] = "ferocious_bite",
								["cycle_targets"] = 1,
							}, -- [5]
						},
						["clearcasting"] = {
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ! talent.thrashing_claws.enabled",
								["action"] = "thrash_cat",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.swipe_cat > 1",
								["action"] = "swipe_cat",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.brutal_slash > 2",
								["action"] = "brutal_slash",
							}, -- [3]
							{
								["action"] = "shred",
								["enabled"] = true,
							}, -- [4]
						},
						["builder"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.clearcasting.react",
								["strict"] = 1,
								["action"] = "run_action_list",
								["list_name"] = "clearcasting",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.brutal_slash.full_recharge_time < 4",
								["action"] = "brutal_slash",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.prowl.up & ! buff.apex_predators_craving.up",
								["action"] = "shadowmeld",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "refreshable || ( buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier )",
								["action"] = "rake",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "lunar_inspiration",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ! talent.thrashing_claws.enabled",
								["action"] = "thrash_cat",
								["cycle_targets"] = 1,
							}, -- [6]
							{
								["action"] = "brutal_slash",
								["enabled"] = true,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.swipe_cat > 1 || ( talent.wild_slashes.enabled & ( debuff.dire_fixation.up || ! talent.dire_fixation.enabled ) )",
								["action"] = "swipe_cat",
							}, -- [8]
							{
								["action"] = "shred",
								["enabled"] = true,
							}, -- [9]
						},
						["berserk"] = {
							{
								["enabled"] = true,
								["criteria"] = "combo_points = 5 & dot.rip.remains > 8 & variable.zerk_biteweave & spell_targets.swipe_cat > 1",
								["action"] = "ferocious_bite",
								["cycle_targets"] = 1,
							}, -- [1]
							{
								["enabled"] = true,
								["description"] = "proc bt if 0/1 stack if 5/6 combo points",
								["action"] = "call_action_list",
								["criteria"] = "combo_points = 5 & ! ( buff.overflowing_power.stack <= 1 & active_bt_triggers = 2 & buff.bloodtalons.stack <= 1 )",
								["list_name"] = "finisher",
							}, -- [2]
							{
								["enabled"] = true,
								["description"] = "its currently a gain to just contiuously try to proc bt in aoe",
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "spell_targets.swipe_cat > 1",
								["list_name"] = "bloodtalons",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! ( buff.bt_rake.up & active_bt_triggers = 2 ) & ( action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.shadowmeld.up & cooldown.feral_frenzy.remains < 44 & ! buff.apex_predators_craving.up )",
								["action"] = "prowl",
								["description"] = "go into stealth to buff rake snapshot-- feral frenzy line is to eliminate an edge case involving ff being casted instead due to higher prio",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! ( buff.bt_rake.up & active_bt_triggers = 2 ) & action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.prowl.up & ! buff.apex_predators_craving.up",
								["action"] = "shadowmeld",
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "! ( buff.bt_rake.up & active_bt_triggers = 2 ) & ( refreshable || ( buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier ) )",
								["action"] = "rake",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "( active_bt_triggers = 2 || ( talent.dire_fixation.enabled & ! debuff.dire_fixation.up ) ) & buff.bt_shred.down",
								["action"] = "shred",
								["description"] = "in single target, you just proc bt when an opportunity arises",
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_brutal_slash.down",
								["action"] = "brutal_slash",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_moonfire.down",
								["action"] = "lunar_inspiration",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_thrash.down & ! talent.thrashing_claws.enabled & variable.need_bt & ( refreshable || talent.brutal_slash.enabled )",
								["action"] = "thrash_cat",
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "lunar_inspiration",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "cooldown.brutal_slash.charges > 1",
								["action"] = "brutal_slash",
								["description"] = "don't overcap brs charges, but keep it available for bt",
							}, -- [12]
							{
								["action"] = "shred",
								["enabled"] = true,
							}, -- [13]
						},
						["owlweaving"] = {
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["line_cd"] = "4*gcd",
							}, -- [1]
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "skull_bash",
							}, -- [1]
							{
								["action"] = "soothe",
								["enabled"] = true,
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "( buff.bs_inc.down || time = 0 ) & ! buff.prowl.up",
								["action"] = "prowl",
								["description"] = "Executed every time the actor is available.",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up",
								["action"] = "cat_form",
							}, -- [4]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.bloodtalons.enabled & buff.bloodtalons.stack <= 1",
								["var_name"] = "need_bt",
							}, -- [5]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.swipe_cat = 1",
								["var_name"] = "align_3minutes",
							}, -- [6]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "fight_remains > cooldown.convoke_the_spirits.remains + 3 & ( ( talent.ashamanes_guidance.enabled & fight_remains < ( cooldown.convoke_the_spirits.remains + 60 ) ) || ( ! talent.ashamanes_guidance.enabled & fight_remains < ( cooldown.convoke_the_spirits.remains + 120 ) ) )",
								["var_name"] = "lastconvoke",
							}, -- [7]
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "fight_remains > ( 30 + ( cooldown.bs_inc.remains / 1.6 ) ) & ( ( talent.berserk_heart_of_the_lion.enabled & fight_remains < ( 90 + ( cooldown.bs_inc.remains / 1.6 ) ) ) || ( ! talent.berserk_heart_of_the_lion.enabled & fight_remains < ( 180 + cooldown.bs_inc.remains ) ) )",
								["var_name"] = "lastzerk",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "talent.convoke_the_spirits.enabled || ! talent.convoke_the_spirits.enabled & ( ! buff.tigers_fury.up || energy.deficit > 65 ) || ( target.time_to_die < 15 & talent.predator.enabled )",
								["action"] = "tigers_fury",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "persistent_multiplier > dot.rake.pmultiplier & ( buff.prowl.up || buff.shadowmeld.up )",
								["action"] = "rake",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "time > 0",
								["action"] = "natures_vigil",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "filler_regrowth & health.pct < 60",
								["action"] = "renewal",
							}, -- [12]
							{
								["caption"] = "@player",
								["enabled"] = true,
								["criteria"] = "talent.unbridled_swarm.enabled & spell_targets.swipe_cat <= 1 & dot.adaptive_swarm_heal.stack < 4 & dot.adaptive_swarm_heal.remains > 4",
								["action"] = "adaptive_swarm",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "( ( ! dot.adaptive_swarm_damage.ticking || dot.adaptive_swarm_damage.remains < 2 ) & ( dot.adaptive_swarm_damage.stack < 3 ) & ! action.adaptive_swarm_damage.in_flight & ! action.adaptive_swarm.in_flight ) & target.time_to_die > 5 & ! ( variable.need_bt & active_bt_triggers = 2 ) & ( ! talent.unbridled_swarm.enabled || spell_targets.swipe_cat = 1 )",
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
							}, -- [14]
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["cycle_targets"] = 1,
								["description"] = "in reality, with unbridled talented adaptive swarm should be targeting allies out of combat, and often in single target too. This isn't supported by simc at time of writing though, so will have to settle with just this",
								["criteria"] = "dot.adaptive_swarm_damage.stack < 3 & talent.unbridled_swarm.enabled & spell_targets.swipe_cat > 1 & ! ( variable.need_bt & active_bt_triggers = 2 )",
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cooldown",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "( ( talent.dire_fixation.enabled & debuff.dire_fixation.up ) || ! talent.dire_fixation.enabled || spell_targets.swipe_cat > 1 ) & ( combo_points < 2 || combo_points < 3 & buff.bs_inc.up || time < 10 )",
								["action"] = "feral_frenzy",
								["cycle_targets"] = 1,
							}, -- [17]
							{
								["enabled"] = true,
								["criteria"] = "buff.apex_predators_craving.up & ( spell_targets.swipe_cat = 1 || ! talent.primal_wrath.enabled || ! buff.sabertooth.up ) & ! ( variable.need_bt & active_bt_triggers = 2 )",
								["action"] = "ferocious_bite",
								["cycle_targets"] = 1,
							}, -- [18]
							{
								["enabled"] = true,
								["criteria"] = "buff.bs_inc.remains > gcd.remains",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "berserk",
							}, -- [19]
							{
								["enabled"] = true,
								["sec"] = "combo_points.time_to_max",
								["action"] = "wait",
								["criteria"] = "combo_points = 4 & buff.predator_revealed.react & energy.deficit > 40 & spell_targets.swipe_cat = 1 & combo_points.time_to_max < gcd.max",
							}, -- [20]
							{
								["enabled"] = true,
								["description"] = "its acceptable to proc bt when at 4cps in single target for a small gain (0.1-0.2% with t30 4p)",
								["action"] = "call_action_list",
								["criteria"] = "combo_points = 5 || combo_points = 4 & ! ( buff.bloodtalons.stack <= 1 & active_bt_triggers = 2 & spell_targets.swipe_cat = 1 )",
								["list_name"] = "finisher",
							}, -- [21]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["criteria"] = "variable.need_bt & ! buff.bs_inc.up & combo_points < 5",
								["list_name"] = "bloodtalons",
							}, -- [22]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.swipe_cat > 1 & talent.primal_wrath.enabled",
								["strict"] = 1,
								["action"] = "call_action_list",
								["list_name"] = "aoe_builder",
							}, -- [23]
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["criteria"] = "! buff.bs_inc.up & combo_points < 5",
								["list_name"] = "builder",
							}, -- [24]
							{
								["enabled"] = true,
								["criteria"] = "energy < 25 & buff.predatory_swiftness.up & ! buff.clearcasting.up & filler_regrowth",
								["action"] = "regrowth",
							}, -- [25]
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["action"] = "mark_of_the_wild",
								["criteria"] = "buff.prowl.down",
							}, -- [1]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "buff.any_form.up & buff.cat_form.down",
								["action"] = "heart_of_the_wild",
							}, -- [3]
							{
								["action"] = "prowl",
								["enabled"] = true,
							}, -- [4]
							{
								["action"] = "cat_form",
								["enabled"] = true,
							}, -- [5]
						},
						["bloodtalons"] = {
							{
								["enabled"] = true,
								["criteria"] = "( cooldown.brutal_slash.full_recharge_time < 4 || target.time_to_die < 5 ) & ( buff.bt_brutal_slash.down & ( buff.bs_inc.up || variable.need_bt ) )",
								["action"] = "brutal_slash",
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.shadowmeld.up & buff.bt_rake.down & ! buff.prowl.up & ! buff.apex_predators_craving.up",
								["action"] = "prowl",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.prowl.up & buff.bt_rake.down & cooldown.feral_frenzy.remains < 44 & ! buff.apex_predators_craving.up",
								["action"] = "shadowmeld",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "( refreshable || buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier ) & buff.bt_rake.down",
								["action"] = "rake",
								["cycle_targets"] = 1,
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier & buff.bt_rake.down",
								["action"] = "rake",
								["cycle_targets"] = 1,
							}, -- [5]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_shred.down & buff.clearcasting.react & spell_targets.swipe_cat = 1",
								["action"] = "shred",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & buff.bt_thrash.down & buff.clearcasting.react & spell_targets.swipe_cat = 1 & ! talent.thrashing_claws.enabled",
								["action"] = "thrash_cat",
								["cycle_targets"] = 1,
							}, -- [7]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_brutal_slash.down",
								["action"] = "brutal_slash",
							}, -- [8]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & buff.bt_moonfire.down & spell_targets.swipe_cat = 1",
								["action"] = "lunar_inspiration",
							}, -- [9]
							{
								["enabled"] = true,
								["criteria"] = "refreshable & buff.bt_thrash.down & ! talent.thrashing_claws.enabled",
								["action"] = "thrash_cat",
								["cycle_targets"] = 1,
							}, -- [10]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_shred.down & spell_targets.swipe_cat = 1 & ( ! talent.wild_slashes.enabled || ( ! debuff.dire_fixation.up & talent.dire_fixation.enabled ) )",
								["action"] = "shred",
							}, -- [11]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_swipe.down & talent.wild_slashes.enabled",
								["action"] = "swipe_cat",
							}, -- [12]
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["cycle_targets"] = 1,
								["max_cycle_targets"] = "3",
								["criteria"] = "buff.bt_moonfire.down & spell_targets.swipe_cat < 5",
							}, -- [13]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_swipe.down",
								["action"] = "swipe_cat",
							}, -- [14]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_moonfire.down",
								["action"] = "lunar_inspiration",
								["cycle_targets"] = 1,
							}, -- [15]
							{
								["enabled"] = true,
								["action"] = "shred",
								["cycle_targets"] = 1,
								["description"] = "If we have BrS and nothing better to cast, thrash at 5+ targets unless dire fixation is talented.",
								["criteria"] = "( spell_targets > 5 || talent.dire_fixation.enabled ) & buff.bt_shred.down & ! buff.sudden_ambush.up & ! ( variable.lazy_swipe & talent.wild_slashes.enabled )",
							}, -- [16]
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_thrash.down",
								["action"] = "thrash_cat",
							}, -- [17]
							{
								["enabled"] = true,
								["action"] = "rake",
								["cycle_targets"] = 1,
								["description"] = "This just finds the best reapplication if you really need 3rd builder for bt",
								["criteria"] = "buff.bt_rake.down & ( spell_targets.swipe_cat > 4 & ! talent.dire_fixation.enabled || talent.wild_slashes.enabled & variable.lazy_swipe )",
							}, -- [18]
						},
						["cooldown"] = {
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
								["criteria"] = "boss & fight_remains < 35 || ( ! variable.align_3minutes )",
							}, -- [1]
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
								["criteria"] = "variable.align_3minutes & ( cooldown.bs_inc.remains < 3 & ( ! variable.lastzerk || ! variable.lastconvoke || ( variable.lastconvoke & cooldown.convoke_the_spirits.remains < 13 ) ) )",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "boss || fight_remains > 25",
								["action"] = "incarnation",
							}, -- [3]
							{
								["enabled"] = true,
								["criteria"] = "fight_remains > 18 || boss & ( ! variable.lastzerk || fight_remains < 23 || variable.lastzerk & ! variable.lastconvoke || variable.lastconvoke & cooldown.convoke_the_spirits.remains < 10 )",
								["action"] = "berserk",
								["description"] = "its a gain to hold your last berserk cast to line it up with convoke (but not vice versa)",
							}, -- [4]
							{
								["enabled"] = true,
								["criteria"] = "! variable.align_3minutes || buff.bs_inc.up",
								["action"] = "berserking",
							}, -- [5]
							{
								["enabled"] = false,
								["criteria"] = "! variable.align_3minutes || buff.bs_inc.up || ( variable.lastconvoke & ! variable.lastzerk & cooldown.convoke_the_spirits.remains = 0 )",
								["name"] = "mirror_of_fractured_tomorrows||irideus_fragment",
							}, -- [6]
							{
								["enabled"] = true,
								["criteria"] = "buff.bs_inc.up || boss & fight_remains < 32 || ( ! variable.lastzerk & variable.lastconvoke & cooldown.convoke_the_spirits.remains < 10 )",
								["action"] = "potion",
							}, -- [7]
							{
								["enabled"] = true,
								["action"] = "convoke_the_spirits",
								["cycle_targets"] = 1,
								["description"] = "checks to make sure you can actually fit convoke into the pull. this portion->(time+fight_remains+10)%%300<time%%300) is just checking if you'll get another potion use before fight ends.",
								["criteria"] = "( ( target.time_to_die < fight_remains & target.time_to_die > 5 - talent.ashamanes_guidance.enabled ) || target.time_to_die >= fight_remains ) & ( boss & fight_remains < 5 || ( dot.rip.remains > 5 & buff.tigers_fury.up & ( combo_points < 2 || ( buff.bs_inc.up & combo_points <= 3 ) ) ) ) & ( ! variable.lastconvoke || buff.potion.up || ( time + fight_remains + 10 )  % 300 > time % 300 ) & ( talent.dire_fixation.enabled & debuff.dire_fixation.up || ! talent.dire_fixation.enabled || spell_targets.swipe_cat > 1 )",
							}, -- [8]
							{
								["enabled"] = true,
								["name"] = "manic_grieftorch",
								["cycle_targets"] = 1,
								["criteria"] = "energy.deficit > 40",
								["action"] = "manic_grieftorch",
							}, -- [9]
							{
								["action"] = "use_items",
								["enabled"] = true,
							}, -- [10]
						},
						["berserk_builders"] = {
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "rake",
								["cycle_targets"] = 1,
							}, -- [1]
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.swipe_cat > 1",
								["action"] = "swipe_cat",
							}, -- [2]
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_brutal_slash.down",
								["action"] = "brutal_slash",
							}, -- [3]
							{
								["action"] = "shred",
								["enabled"] = true,
							}, -- [4]
						},
					},
					["version"] = 20230826,
					["warnings"] = "The import for 'bloodtalons' required some automated changes.\nLine 16: Converted 'talent.wild_slashes' to 'talent.wild_slashes.enabled' (1x).\nLine 18: Converted 'talent.dire_fixation' to 'talent.dire_fixation.enabled' (1x).\nLine 18: Converted 'talent.wild_slashes' to 'talent.wild_slashes.enabled' (1x).\n\nThe import for 'berserk' required some automated changes.\nLine 10: Converted 'talent.thrashing_claws' to 'talent.thrashing_claws.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 8: Converted operations in 'fight_remains>(30+(cooldown.bs_inc.remains%1.6))&((talent.berserk_heart_of_the_lion.enabled&fight_remains<(90+(cooldown.bs_inc.remains%1.6)))||(!talent.berserk_heart_of_the_lion.enabled&fight_remains<(180+cooldown.bs_inc.remains)))' to 'fight_remains>(30+(cooldown.bs_inc.remains/1.6))&((talent.berserk_heart_of_the_lion.enabled&fight_remains<(90+(cooldown.bs_inc.remains/1.6)))||(!talent.berserk_heart_of_the_lion.enabled&fight_remains<(180+cooldown.bs_inc.remains)))'.\nLine 13: Converted 'talent.unbridled_swarm' to 'talent.unbridled_swarm.enabled' (1x).\n\nThe import for 'aoe_builder' required some automated changes.\nLine 2: Converted 'talent.thrashing_claws' to 'talent.thrashing_claws.enabled' (1x).\nLine 12: Converted 'talent.wild_slashes' to 'talent.wild_slashes.enabled' (1x).\n\nThe import for 'cooldown' required some automated changes.\nLine 6: Unsupported use_item action [ mirror_of_fractured_tomorrows||irideus_fragment]; entry disabled.\nLine 8: Converted operations in '((target.time_to_die<fight_remains&target.time_to_die>5-talent.ashamanes_guidance.enabled)||target.time_to_die>=fight_remains)&(boss&fight_remains<5||(dot.rip.remains>5&buff.tigers_fury.up&(combo_points<2||(buff.bs_inc.up&combo_points<=3))))&(!variable.lastconvoke||buff.potion.up||(time+fight_remains+10)%%300>time%%300)&(talent.dire_fixation.enabled&debuff.dire_fixation.up||!talent.dire_fixation.enabled||spell_targets.swipe_cat>1)' to '((target.time_to_die<fight_remains&target.time_to_die>5-talent.ashamanes_guidance.enabled)||target.time_to_die>=fight_remains)&(boss&fight_remains<5||(dot.rip.remains>5&buff.tigers_fury.up&(combo_points<2||(buff.bs_inc.up&combo_points<=3))))&(!variable.lastconvoke||buff.potion.up||(time+fight_remains+10)%300>time%300)&(talent.dire_fixation.enabled&debuff.dire_fixation.up||!talent.dire_fixation.enabled||spell_targets.swipe_cat>1)'.\n\nImported 11 action lists.\n",
					["author"] = "SimC",
					["profile"] = "actions.precombat+=/mark_of_the_wild,if=buff.prowl.down\nactions.precombat+=/use_item,name=algethar_puzzle_box\nactions.precombat+=/heart_of_the_wild,if=buff.any_form.up&buff.cat_form.down\nactions.precombat+=/prowl\nactions.precombat+=/cat_form\n\nactions+=/skull_bash\nactions+=/soothe\n# Executed every time the actor is available.\nactions+=/prowl,if=(buff.bs_inc.down||time=0)&!buff.prowl.up\nactions+=/cat_form,if=!buff.cat_form.up\n## <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> does not line up very well with <a href='https://www.wowhead.com/spell=106951/berserk'>Berserk</a> nor <a href='https://www.wowhead.com/spell=102543/incarnation-avatar-of-ashamane'>Incarnation</a> and <a href='https://www.wowhead.com/spell=323764/convoke-the-spirits?spellModifier=768'>Convoke</a> doesn't benefit much from haste.\n## actions+=/invoke_external_buff,name=power_infusion\nactions+=/variable,name=need_bt,value=talent.bloodtalons.enabled&buff.bloodtalons.stack<=1\nactions+=/variable,name=align_3minutes,value=spell_targets.swipe_cat=1\nactions+=/variable,name=lastconvoke,value=fight_remains>cooldown.convoke_the_spirits.remains+3&((talent.ashamanes_guidance.enabled&fight_remains<(cooldown.convoke_the_spirits.remains+60))||(!talent.ashamanes_guidance.enabled&fight_remains<(cooldown.convoke_the_spirits.remains+120)))\nactions+=/variable,name=lastzerk,value=fight_remains>(30+(cooldown.bs_inc.remains%1.6))&((talent.berserk_heart_of_the_lion.enabled&fight_remains<(90+(cooldown.bs_inc.remains%1.6)))||(!talent.berserk_heart_of_the_lion.enabled&fight_remains<(180+cooldown.bs_inc.remains)))\n## These are handled in Feral spec options instead.\n## actions+=/variable,name=zerk_biteweave,op=reset\n## actions+=/variable,name=lazy_swipe,op=reset\n## actions+=/variable,name=regrowth,op=reset\nactions+=/tigers_fury,if=talent.convoke_the_spirits.enabled||!talent.convoke_the_spirits.enabled&(!buff.tigers_fury.up||energy.deficit>65)||(target.time_to_die<15&talent.predator.enabled)\nactions+=/rake,cycle_targets=1,if=persistent_multiplier>dot.rake.pmultiplier&(buff.prowl.up||buff.shadowmeld.up)\nactions+=/natures_vigil,if=time>0\nactions+=/renewal,if=filler_regrowth&health.pct<60\nactions+=/adaptive_swarm,caption=@player,if=talent.unbridled_swarm&spell_targets.swipe_cat<=1&dot.adaptive_swarm_heal.stack<4&dot.adaptive_swarm_heal.remains>4\nactions+=/adaptive_swarm,cycle_targets=1,if=((!dot.adaptive_swarm_damage.ticking||dot.adaptive_swarm_damage.remains<2)&(dot.adaptive_swarm_damage.stack<3)&!action.adaptive_swarm_damage.in_flight&!action.adaptive_swarm.in_flight)&target.time_to_die>5&!(variable.need_bt&active_bt_triggers=2)&(!talent.unbridled_swarm.enabled||spell_targets.swipe_cat=1)\n# in reality, with unbridled talented adaptive swarm should be targeting allies out of combat, and often in single target too. This isn't supported by simc at time of writing though, so will have to settle with just this\nactions+=/adaptive_swarm,cycle_targets=1,if=dot.adaptive_swarm_damage.stack<3&talent.unbridled_swarm.enabled&spell_targets.swipe_cat>1&!(variable.need_bt&active_bt_triggers=2)\nactions+=/call_action_list,name=cooldown\nactions+=/feral_frenzy,cycle_targets=1,if=((talent.dire_fixation.enabled&debuff.dire_fixation.up)||!talent.dire_fixation.enabled||spell_targets.swipe_cat>1)&(combo_points<2||combo_points<3&buff.bs_inc.up||time<10)\nactions+=/ferocious_bite,cycle_targets=1,if=buff.apex_predators_craving.up&(spell_targets.swipe_cat=1||!talent.primal_wrath.enabled||!buff.sabertooth.up)&!(variable.need_bt&active_bt_triggers=2)\nactions+=/call_action_list,name=berserk,strict=1,if=buff.bs_inc.remains>gcd.remains\nactions+=/wait,sec=combo_points.time_to_max,if=combo_points=4&buff.predator_revealed.react&energy.deficit>40&spell_targets.swipe_cat=1&combo_points.time_to_max<gcd.max\n# its acceptable to proc bt when at 4cps in single target for a small gain (0.1-0.2% with t30 4p)\nactions+=/call_action_list,name=finisher,if=combo_points=5||combo_points=4&!(buff.bloodtalons.stack<=1&active_bt_triggers=2&spell_targets.swipe_cat=1)\nactions+=/call_action_list,name=bloodtalons,if=variable.need_bt&!buff.bs_inc.up&combo_points<5\nactions+=/call_action_list,name=aoe_builder,strict=1,if=spell_targets.swipe_cat>1&talent.primal_wrath.enabled\nactions+=/call_action_list,name=builder,if=!buff.bs_inc.up&combo_points<5\nactions+=/regrowth,if=energy<25&buff.predatory_swiftness.up&!buff.clearcasting.up&filler_regrowth\n\n# avoid capping brs charges, and in the event of adds, offload charges within reason\nactions.aoe_builder+=/brutal_slash,cycle_targets=1,if=cooldown.brutal_slash.full_recharge_time<4||target.time_to_die<5\nactions.aoe_builder+=/thrash_cat,if=refreshable&(buff.clearcasting.react||(spell_targets.thrash_cat>10||(spell_targets.thrash_cat>5&!talent.double_clawed_rake.enabled))&!talent.thrashing_claws)\nactions.aoe_builder+=/shadowmeld,if=action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.prowl.up&!buff.apex_predators_craving.up\n# this line checks if theres an upgradeable rake\nactions.aoe_builder+=/shadowmeld,if=action.rake.ready&!buff.sudden_ambush.up&dot.rake.pmultiplier<1.4&!buff.prowl.up&!buff.apex_predators_craving.up\n# not a perfect solution, but it checks lowest dot for pandemic/stealth snapshot first\nactions.aoe_builder+=/rake,cycle_targets=1,if=buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier\n# and if lowest dot is fine, it checks the remaining dots and targets a mob without stealth snapshot (not necessarily 2nd lowest)\nactions.aoe_builder+=/rake,cycle_targets=1,if=buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier||refreshable\nactions.aoe_builder+=/thrash_cat,if=refreshable\nactions.aoe_builder+=/brutal_slash\n# prio targets with swarm debuff for moonfire\nactions.aoe_builder+=/moonfire_cat,cycle_targets=1,if=refreshable&spell_targets.swipe_cat<5\nactions.aoe_builder+=/swipe_cat\nactions.aoe_builder+=/moonfire_cat,cycle_targets=1,if=dot.moonfire.refreshable\n# if we have brs and nothing better to cast, refresh thrash early at 4+ targets unless dire fixation is talented\nactions.aoe_builder+=/shred,cycle_targets=1,if=(spell_targets.swipe_cat<4||talent.dire_fixation.enabled)&!buff.sudden_ambush.up&!(variable.lazy_swipe&talent.wild_slashes)\nactions.aoe_builder+=/thrash_cat\n\nactions.berserk+=/ferocious_bite,cycle_targets=1,if=combo_points=5&dot.rip.remains>8&variable.zerk_biteweave&spell_targets.swipe_cat>1\n# proc bt if 0/1 stack if 5/6 combo points\nactions.berserk+=/call_action_list,name=finisher,if=combo_points=5&!(buff.overflowing_power.stack<=1&active_bt_triggers=2&buff.bloodtalons.stack<=1)\n# its currently a gain to just contiuously try to proc bt in aoe\nactions.berserk+=/call_action_list,name=bloodtalons,strict=1,if=spell_targets.swipe_cat>1\n# go into stealth to buff rake snapshot-- feral frenzy line is to eliminate an edge case involving ff being casted instead due to higher prio\nactions.berserk+=/prowl,if=!(buff.bt_rake.up&active_bt_triggers=2)&(action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.shadowmeld.up&cooldown.feral_frenzy.remains<44&!buff.apex_predators_craving.up)\nactions.berserk+=/shadowmeld,if=!(buff.bt_rake.up&active_bt_triggers=2)&action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.prowl.up&!buff.apex_predators_craving.up\nactions.berserk+=/rake,if=!(buff.bt_rake.up&active_bt_triggers=2)&(refreshable||(buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier))\n# in single target, you just proc bt when an opportunity arises\nactions.berserk+=/shred,if=(active_bt_triggers=2||(talent.dire_fixation.enabled&!debuff.dire_fixation.up))&buff.bt_shred.down\nactions.berserk+=/brutal_slash,if=active_bt_triggers=2&buff.bt_brutal_slash.down\nactions.berserk+=/moonfire_cat,if=active_bt_triggers=2&buff.bt_moonfire.down\nactions.berserk+=/thrash_cat,if=active_bt_triggers=2&buff.bt_thrash.down&!talent.thrashing_claws&variable.need_bt&(refreshable||talent.brutal_slash.enabled)\nactions.berserk+=/moonfire_cat,if=refreshable\n# don't overcap brs charges, but keep it available for bt\nactions.berserk+=/brutal_slash,if=cooldown.brutal_slash.charges>1\nactions.berserk+=/shred\n\nactions.berserk_builders+=/rake,cycle_targets=1,if=refreshable\nactions.berserk_builders+=/swipe_cat,if=spell_targets.swipe_cat>1\nactions.berserk_builders+=/brutal_slash,if=active_bt_triggers=2&buff.bt_brutal_slash.down\nactions.berserk_builders+=/shred\n\nactions.bloodtalons+=/brutal_slash,if=(cooldown.brutal_slash.full_recharge_time<4||target.time_to_die<5)&(buff.bt_brutal_slash.down&(buff.bs_inc.up||variable.need_bt))\nactions.bloodtalons+=/prowl,if=action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.shadowmeld.up&buff.bt_rake.down&!buff.prowl.up&!buff.apex_predators_craving.up\nactions.bloodtalons+=/shadowmeld,if=action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.prowl.up&buff.bt_rake.down&cooldown.feral_frenzy.remains<44&!buff.apex_predators_craving.up\nactions.bloodtalons+=/rake,cycle_targets=1,if=(refreshable||buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier)&buff.bt_rake.down\nactions.bloodtalons+=/rake,cycle_targets=1,if=buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier&buff.bt_rake.down\nactions.bloodtalons+=/shred,if=buff.bt_shred.down&buff.clearcasting.react&spell_targets.swipe_cat=1\nactions.bloodtalons+=/thrash_cat,cycle_targets=1,if=refreshable&buff.bt_thrash.down&buff.clearcasting.react&spell_targets.swipe_cat=1&!talent.thrashing_claws.enabled\nactions.bloodtalons+=/brutal_slash,if=buff.bt_brutal_slash.down\nactions.bloodtalons+=/moonfire_cat,if=refreshable&buff.bt_moonfire.down&spell_targets.swipe_cat=1\nactions.bloodtalons+=/thrash_cat,cycle_targets=1,if=refreshable&buff.bt_thrash.down&!talent.thrashing_claws.enabled\nactions.bloodtalons+=/shred,if=buff.bt_shred.down&spell_targets.swipe_cat=1&(!talent.wild_slashes.enabled||(!debuff.dire_fixation.up&talent.dire_fixation.enabled))\nactions.bloodtalons+=/swipe_cat,if=buff.bt_swipe.down&talent.wild_slashes.enabled\nactions.bloodtalons+=/moonfire_cat,cycle_targets=1,max_cycle_targets=3,if=buff.bt_moonfire.down&spell_targets.swipe_cat<5\nactions.bloodtalons+=/swipe_cat,if=buff.bt_swipe.down\nactions.bloodtalons+=/moonfire_cat,cycle_targets=1,if=buff.bt_moonfire.down\n# If we have BrS and nothing better to cast, thrash at 5+ targets unless dire fixation is talented.\nactions.bloodtalons+=/shred,cycle_targets=1,if=(spell_targets>5||talent.dire_fixation.enabled)&buff.bt_shred.down&!buff.sudden_ambush.up&!(variable.lazy_swipe&talent.wild_slashes)\nactions.bloodtalons+=/thrash_cat,if=buff.bt_thrash.down\n# This just finds the best reapplication if you really need 3rd builder for bt\nactions.bloodtalons+=/rake,cycle_targets=1,if=buff.bt_rake.down&(spell_targets.swipe_cat>4&!talent.dire_fixation||talent.wild_slashes&variable.lazy_swipe)\n\nactions.builder+=/run_action_list,name=clearcasting,strict=1,if=buff.clearcasting.react\nactions.builder+=/brutal_slash,if=cooldown.brutal_slash.full_recharge_time<4\n## TODO: edit this to use wait instead; stop pooling if we can use a clearcasting proc\n## actions.builder+=/pool_resource,if=!action.rake.ready&(dot.rake.refreshable||(buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier&dot.rake.remains>6))&!buff.clearcasting.react\nactions.builder+=/shadowmeld,if=action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.prowl.up&!buff.apex_predators_craving.up\nactions.builder+=/rake,if=refreshable||(buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier)\n## repeating here is necessary, otherwise moonfire will occassionally be casted instead\n## actions.builder+=/run_action_list,name=clearcasting,strict=1,if=buff.clearcasting.react\nactions.builder+=/moonfire_cat,cycle_targets=1,if=refreshable\nactions.builder+=/thrash_cat,cycle_targets=1,if=refreshable&!talent.thrashing_claws.enabled\nactions.builder+=/brutal_slash\nactions.builder+=/swipe_cat,if=spell_targets.swipe_cat>1||(talent.wild_slashes.enabled&(debuff.dire_fixation.up||!talent.dire_fixation.enabled))\nactions.builder+=/shred\n\nactions.clearcasting+=/thrash_cat,if=refreshable&!talent.thrashing_claws.enabled\nactions.clearcasting+=/swipe_cat,if=spell_targets.swipe_cat>1\nactions.clearcasting+=/brutal_slash,if=spell_targets.brutal_slash>2\nactions.clearcasting+=/shred\n\nactions.cooldown+=/use_item,name=algethar_puzzle_box,if=boss&fight_remains<35||(!variable.align_3minutes)\nactions.cooldown+=/use_item,name=algethar_puzzle_box,if=variable.align_3minutes&(cooldown.bs_inc.remains<3&(!variable.lastzerk||!variable.lastconvoke||(variable.lastconvoke&cooldown.convoke_the_spirits.remains<13)))\nactions.cooldown+=/incarnation,if=boss||fight_remains>25\n# its a gain to hold your last berserk cast to line it up with convoke (but not vice versa)\nactions.cooldown+=/berserk,if=fight_remains>18||boss&(!variable.lastzerk||fight_remains<23||variable.lastzerk&!variable.lastconvoke||variable.lastconvoke&cooldown.convoke_the_spirits.remains<10)\nactions.cooldown+=/berserking,if=!variable.align_3minutes||buff.bs_inc.up\nactions.cooldown+=/use_item,name=mirror_of_fractured_tomorrows||irideus_fragment,if=!variable.align_3minutes||buff.bs_inc.up||(variable.lastconvoke&!variable.lastzerk&cooldown.convoke_the_spirits.remains=0)\nactions.cooldown+=/potion,if=buff.bs_inc.up||boss&fight_remains<32||(!variable.lastzerk&variable.lastconvoke&cooldown.convoke_the_spirits.remains<10)\n# checks to make sure you can actually fit convoke into the pull. this portion->(time+fight_remains+10)%%300<time%%300) is just checking if you'll get another potion use before fight ends.\nactions.cooldown+=/convoke_the_spirits,cycle_targets=1,if=((target.time_to_die<fight_remains&target.time_to_die>5-talent.ashamanes_guidance.enabled)||target.time_to_die>=fight_remains)&(boss&fight_remains<5||(dot.rip.remains>5&buff.tigers_fury.up&(combo_points<2||(buff.bs_inc.up&combo_points<=3))))&(!variable.lastconvoke||buff.potion.up||(time+fight_remains+10)%%300>time%%300)&(talent.dire_fixation.enabled&debuff.dire_fixation.up||!talent.dire_fixation.enabled||spell_targets.swipe_cat>1)\nactions.cooldown+=/use_item,name=manic_grieftorch,cycle_targets=1,if=energy.deficit>40\nactions.cooldown+=/use_items\n\nactions.finisher+=/primal_wrath,if=(!funneling&(dot.primal_wrath.refreshable&!talent.circle_of_life_and_death.enabled)||dot.primal_wrath.remains<6||(talent.tear_open_wounds.enabled||(spell_targets.swipe_cat>4&!talent.rampant_ferocity.enabled)))&spell_targets.primal_wrath>1&talent.primal_wrath.enabled\nactions.finisher+=/rip,cycle_targets=1,if=refreshable&(!talent.primal_wrath.enabled||spell_targets.swipe_cat=1)&target.time_to_die>settings.rip_duration\nactions.finisher+=/pool_resource,for_next=1,if=!action.tigers_fury.ready&buff.apex_predators_craving.down\nactions.finisher+=/ferocious_bite,max_energy=1,cycle_targets=1,if=buff.apex_predators_craving.down&(!buff.bs_inc.up||(buff.bs_inc.up&!talent.soul_of_the_forest.enabled))\nactions.finisher+=/ferocious_bite,cycle_targets=1,if=(buff.bs_inc.up&talent.soul_of_the_forest.enabled)||buff.apex_predators_craving.up\n\nactions.owlweaving+=/sunfire,line_cd=4*gcd",
				},
			},
		},
	},
}
